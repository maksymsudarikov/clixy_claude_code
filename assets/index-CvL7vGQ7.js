function qb(i,n){for(var r=0;r<n.length;r++){const l=n[r];if(typeof l!="string"&&!Array.isArray(l)){for(const o in l)if(o!=="default"&&!(o in i)){const c=Object.getOwnPropertyDescriptor(l,o);c&&Object.defineProperty(i,o,c.get?c:{enumerable:!0,get:()=>l[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function Mc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Gb(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var r=function l(){return this instanceof l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var o=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(r,l,o.get?o:{enumerable:!0,get:function(){return i[l]}})}),r}var Xu={exports:{}},Si={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function Vb(){if(ep)return Si;ep=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:l,key:h,ref:o!==void 0?o:null,props:c}}return Si.Fragment=n,Si.jsx=r,Si.jsxs=r,Si}var tp;function Pb(){return tp||(tp=1,Xu.exports=Vb()),Xu.exports}var f=Pb(),Zu={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function Yb(){if(np)return le;np=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),j=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=j&&O[j]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function E(O,B,P){this.props=O,this.context=B,this.refs=S,this.updater=P||_}E.prototype.isReactComponent={},E.prototype.setState=function(O,B){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,B,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function q(){}q.prototype=E.prototype;function R(O,B,P){this.props=O,this.context=B,this.refs=S,this.updater=P||_}var Y=R.prototype=new q;Y.constructor=R,T(Y,E.prototype),Y.isPureReactComponent=!0;var re=Array.isArray;function ae(){}var Q={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function te(O,B,P){var I=P.ref;return{$$typeof:i,type:O,key:B,ref:I!==void 0?I:null,props:P}}function me(O,B){return te(O.type,B,O.props)}function Se(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function Re(O){var B={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(P){return B[P]})}var Dt=/\/+/g;function ct(O,B){return typeof O=="object"&&O!==null&&O.key!=null?Re(""+O.key):B.toString(36)}function it(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ae,ae):(O.status="pending",O.then(function(B){O.status==="pending"&&(O.status="fulfilled",O.value=B)},function(B){O.status==="pending"&&(O.status="rejected",O.reason=B)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,B,P,I,oe){var de=typeof O;(de==="undefined"||de==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(de){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case n:we=!0;break;case x:return we=O._init,H(we(O._payload),B,P,I,oe)}}if(we)return oe=oe(O),we=I===""?"."+ct(O,0):I,re(oe)?(P="",we!=null&&(P=we.replace(Dt,"$&/")+"/"),H(oe,B,P,"",function(Cr){return Cr})):oe!=null&&(Se(oe)&&(oe=me(oe,P+(oe.key==null||O&&O.key===oe.key?"":(""+oe.key).replace(Dt,"$&/")+"/")+we)),B.push(oe)),1;we=0;var ot=I===""?".":I+":";if(re(O))for(var He=0;He<O.length;He++)I=O[He],de=ot+ct(I,He),we+=H(I,B,P,de,oe);else if(He=y(O),typeof He=="function")for(O=He.call(O),He=0;!(I=O.next()).done;)I=I.value,de=ot+ct(I,He++),we+=H(I,B,P,de,oe);else if(de==="object"){if(typeof O.then=="function")return H(it(O),B,P,I,oe);throw B=String(O),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return we}function K(O,B,P){if(O==null)return O;var I=[],oe=0;return H(O,I,"","",function(de){return B.call(P,de,oe++)}),I}function M(O){if(O._status===-1){var B=O._result;B=B(),B.then(function(P){(O._status===0||O._status===-1)&&(O._status=1,O._result=P)},function(P){(O._status===0||O._status===-1)&&(O._status=2,O._result=P)}),O._status===-1&&(O._status=0,O._result=B)}if(O._status===1)return O._result.default;throw O._result}var Z=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},W={map:K,forEach:function(O,B,P){K(O,function(){B.apply(this,arguments)},P)},count:function(O){var B=0;return K(O,function(){B++}),B},toArray:function(O){return K(O,function(B){return B})||[]},only:function(O){if(!Se(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return le.Activity=w,le.Children=W,le.Component=E,le.Fragment=r,le.Profiler=o,le.PureComponent=R,le.StrictMode=l,le.Suspense=m,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,le.__COMPILER_RUNTIME={__proto__:null,c:function(O){return Q.H.useMemoCache(O)}},le.cache=function(O){return function(){return O.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(O,B,P){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var I=T({},O.props),oe=O.key;if(B!=null)for(de in B.key!==void 0&&(oe=""+B.key),B)!ve.call(B,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&B.ref===void 0||(I[de]=B[de]);var de=arguments.length-2;if(de===1)I.children=P;else if(1<de){for(var we=Array(de),ot=0;ot<de;ot++)we[ot]=arguments[ot+2];I.children=we}return te(O.type,oe,I)},le.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},le.createElement=function(O,B,P){var I,oe={},de=null;if(B!=null)for(I in B.key!==void 0&&(de=""+B.key),B)ve.call(B,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(oe[I]=B[I]);var we=arguments.length-2;if(we===1)oe.children=P;else if(1<we){for(var ot=Array(we),He=0;He<we;He++)ot[He]=arguments[He+2];oe.children=ot}if(O&&O.defaultProps)for(I in we=O.defaultProps,we)oe[I]===void 0&&(oe[I]=we[I]);return te(O,de,oe)},le.createRef=function(){return{current:null}},le.forwardRef=function(O){return{$$typeof:p,render:O}},le.isValidElement=Se,le.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:M}},le.memo=function(O,B){return{$$typeof:g,type:O,compare:B===void 0?null:B}},le.startTransition=function(O){var B=Q.T,P={};Q.T=P;try{var I=O(),oe=Q.S;oe!==null&&oe(P,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(ae,Z)}catch(de){Z(de)}finally{B!==null&&P.types!==null&&(B.types=P.types),Q.T=B}},le.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},le.use=function(O){return Q.H.use(O)},le.useActionState=function(O,B,P){return Q.H.useActionState(O,B,P)},le.useCallback=function(O,B){return Q.H.useCallback(O,B)},le.useContext=function(O){return Q.H.useContext(O)},le.useDebugValue=function(){},le.useDeferredValue=function(O,B){return Q.H.useDeferredValue(O,B)},le.useEffect=function(O,B){return Q.H.useEffect(O,B)},le.useEffectEvent=function(O){return Q.H.useEffectEvent(O)},le.useId=function(){return Q.H.useId()},le.useImperativeHandle=function(O,B,P){return Q.H.useImperativeHandle(O,B,P)},le.useInsertionEffect=function(O,B){return Q.H.useInsertionEffect(O,B)},le.useLayoutEffect=function(O,B){return Q.H.useLayoutEffect(O,B)},le.useMemo=function(O,B){return Q.H.useMemo(O,B)},le.useOptimistic=function(O,B){return Q.H.useOptimistic(O,B)},le.useReducer=function(O,B,P){return Q.H.useReducer(O,B,P)},le.useRef=function(O){return Q.H.useRef(O)},le.useState=function(O){return Q.H.useState(O)},le.useSyncExternalStore=function(O,B,P){return Q.H.useSyncExternalStore(O,B,P)},le.useTransition=function(){return Q.H.useTransition()},le.version="19.2.0",le}var ap;function zc(){return ap||(ap=1,Zu.exports=Yb()),Zu.exports}var k=zc();const Ib=Mc(k);var Fu={exports:{}},Ei={},Wu={exports:{}},ec={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function Kb(){return rp||(rp=1,(function(i){function n(H,K){var M=H.length;H.push(K);e:for(;0<M;){var Z=M-1>>>1,W=H[Z];if(0<o(W,K))H[Z]=K,H[M]=W,M=Z;else break e}}function r(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var K=H[0],M=H.pop();if(M!==K){H[0]=M;e:for(var Z=0,W=H.length,O=W>>>1;Z<O;){var B=2*(Z+1)-1,P=H[B],I=B+1,oe=H[I];if(0>o(P,M))I<W&&0>o(oe,P)?(H[Z]=oe,H[I]=M,Z=I):(H[Z]=P,H[B]=M,Z=B);else if(I<W&&0>o(oe,M))H[Z]=oe,H[I]=M,Z=I;else break e}}return K}function o(H,K){var M=H.sortIndex-K.sortIndex;return M!==0?M:H.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var m=[],g=[],x=1,w=null,j=3,y=!1,_=!1,T=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function Y(H){for(var K=r(g);K!==null;){if(K.callback===null)l(g);else if(K.startTime<=H)l(g),K.sortIndex=K.expirationTime,n(m,K);else break;K=r(g)}}function re(H){if(T=!1,Y(H),!_)if(r(m)!==null)_=!0,ae||(ae=!0,Re());else{var K=r(g);K!==null&&it(re,K.startTime-H)}}var ae=!1,Q=-1,ve=5,te=-1;function me(){return S?!0:!(i.unstable_now()-te<ve)}function Se(){if(S=!1,ae){var H=i.unstable_now();te=H;var K=!0;try{e:{_=!1,T&&(T=!1,q(Q),Q=-1),y=!0;var M=j;try{t:{for(Y(H),w=r(m);w!==null&&!(w.expirationTime>H&&me());){var Z=w.callback;if(typeof Z=="function"){w.callback=null,j=w.priorityLevel;var W=Z(w.expirationTime<=H);if(H=i.unstable_now(),typeof W=="function"){w.callback=W,Y(H),K=!0;break t}w===r(m)&&l(m),Y(H)}else l(m);w=r(m)}if(w!==null)K=!0;else{var O=r(g);O!==null&&it(re,O.startTime-H),K=!1}}break e}finally{w=null,j=M,y=!1}K=void 0}}finally{K?Re():ae=!1}}}var Re;if(typeof R=="function")Re=function(){R(Se)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,ct=Dt.port2;Dt.port1.onmessage=Se,Re=function(){ct.postMessage(null)}}else Re=function(){E(Se,0)};function it(H,K){Q=E(function(){H(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_next=function(H){switch(j){case 1:case 2:case 3:var K=3;break;default:K=j}var M=j;j=K;try{return H()}finally{j=M}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var M=j;j=H;try{return K()}finally{j=M}},i.unstable_scheduleCallback=function(H,K,M){var Z=i.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,H){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=M+W,H={id:x++,callback:K,priorityLevel:H,startTime:M,expirationTime:W,sortIndex:-1},M>Z?(H.sortIndex=M,n(g,H),r(m)===null&&H===r(g)&&(T?(q(Q),Q=-1):T=!0,it(re,M-Z))):(H.sortIndex=W,n(m,H),_||y||(_=!0,ae||(ae=!0,Re()))),H},i.unstable_shouldYield=me,i.unstable_wrapCallback=function(H){var K=j;return function(){var M=j;j=K;try{return H.apply(this,arguments)}finally{j=M}}}})(ec)),ec}var ip;function Qb(){return ip||(ip=1,Wu.exports=Kb()),Wu.exports}var tc={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function Jb(){if(sp)return st;sp=1;var i=zc();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:x}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,st.createPortal=function(m,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return c(m,g,null,x)},st.flushSync=function(m){var g=h.T,x=l.p;try{if(h.T=null,l.p=2,m)return m()}finally{h.T=g,l.p=x,l.d.f()}},st.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},st.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},st.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var x=g.as,w=p(x,g.crossOrigin),j=typeof g.integrity=="string"?g.integrity:void 0,y=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:j,fetchPriority:y}):x==="script"&&l.d.X(m,{crossOrigin:w,integrity:j,fetchPriority:y,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},st.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=p(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},st.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,w=p(x,g.crossOrigin);l.d.L(m,x,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},st.preloadModule=function(m,g){if(typeof m=="string")if(g){var x=p(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},st.requestFormReset=function(m){l.d.r(m)},st.unstable_batchedUpdates=function(m,g){return m(g)},st.useFormState=function(m,g,x){return h.H.useFormState(m,g,x)},st.useFormStatus=function(){return h.H.useHostTransitionStatus()},st.version="19.2.0",st}var lp;function Xb(){if(lp)return tc.exports;lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),tc.exports=Jb(),tc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function Zb(){if(op)return Ei;op=1;var i=Qb(),n=zc(),r=Xb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var u=a.return;if(u===null)break;var d=u.alternate;if(d===null){if(s=u.return,s!==null){a=s;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===a)return m(u),e;if(d===s)return m(u),t;d=d.sibling}throw Error(l(188))}if(a.return!==s.return)a=u,s=d;else{for(var v=!1,b=u.child;b;){if(b===a){v=!0,a=u,s=d;break}if(b===s){v=!0,s=u,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,s=u;break}if(b===s){v=!0,s=d,a=u;break}b=b.sibling}if(!v)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),R=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Symbol.for("react.client.reference");function ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Dt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case re:return"Suspense";case ae:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case R:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:ct(e.type)||"Memo";case ve:t=e._payload,e=e._init;try{return ct(e(t))}catch{}}return null}var it=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},Z=[],W=-1;function O(e){return{current:e}}function B(e){0>W||(e.current=Z[W],Z[W]=null,W--)}function P(e,t){W++,Z[W]=e.current,e.current=t}var I=O(null),oe=O(null),de=O(null),we=O(null);function ot(e,t){switch(P(de,t),P(oe,e),P(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sm(t),e=Em(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(I),P(I,e)}function He(){B(I),B(oe),B(de)}function Cr(e){e.memoizedState!==null&&P(we,e);var t=I.current,a=Em(t,e.type);t!==a&&(P(oe,e),P(I,a))}function $i(e){oe.current===e&&(B(I),B(oe)),we.current===e&&(B(we),bi._currentValue=M)}var Rl,Fc;function ta(e){if(Rl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||"",Fc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rl+e+Fc}var kl=!1;function Dl(e,t){if(!e||kl)return"";kl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(L){var z=L}Reflect.construct(e,[],V)}else{try{V.call()}catch(L){z=L}e.call(V.prototype)}}else{try{throw Error()}catch(L){z=L}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(L){if(L&&z&&typeof L.stack=="string")return[L.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var N=v.split(`
`),U=b.split(`
`);for(u=s=0;s<N.length&&!N[s].includes("DetermineComponentFrameRoot");)s++;for(;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;if(s===N.length||u===U.length)for(s=N.length-1,u=U.length-1;1<=s&&0<=u&&N[s]!==U[u];)u--;for(;1<=s&&0<=u;s--,u--)if(N[s]!==U[u]){if(s!==1||u!==1)do if(s--,u--,0>u||N[s]!==U[u]){var $=`
`+N[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=u);break}}}finally{kl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ta(a):""}function yv(e,t){switch(e.tag){case 26:case 27:case 5:return ta(e.type);case 16:return ta("Lazy");case 13:return e.child!==t&&t!==null?ta("Suspense Fallback"):ta("Suspense");case 19:return ta("SuspenseList");case 0:case 15:return Dl(e.type,!1);case 11:return Dl(e.type.render,!1);case 1:return Dl(e.type,!0);case 31:return ta("Activity");default:return""}}function Wc(e){try{var t="",a=null;do t+=yv(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ul=Object.prototype.hasOwnProperty,Ml=i.unstable_scheduleCallback,zl=i.unstable_cancelCallback,bv=i.unstable_shouldYield,xv=i.unstable_requestPaint,xt=i.unstable_now,_v=i.unstable_getCurrentPriorityLevel,ed=i.unstable_ImmediatePriority,td=i.unstable_UserBlockingPriority,qi=i.unstable_NormalPriority,wv=i.unstable_LowPriority,nd=i.unstable_IdlePriority,Sv=i.log,Ev=i.unstable_setDisableYieldValue,Rr=null,_t=null;function Tn(e){if(typeof Sv=="function"&&Ev(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Rr,e)}catch{}}var wt=Math.clz32?Math.clz32:Nv,jv=Math.log,Tv=Math.LN2;function Nv(e){return e>>>=0,e===0?32:31-(jv(e)/Tv|0)|0}var Gi=256,Vi=262144,Pi=4194304;function na(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yi(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var u=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~d,s!==0?u=na(s):(v&=b,v!==0?u=na(v):a||(a=b&~e,a!==0&&(u=na(a))))):(b=s&~d,b!==0?u=na(b):v!==0?u=na(v):a||(a=s&~e,a!==0&&(u=na(a)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:u}function kr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ov(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(){var e=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),e}function Ll(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Dr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Av(e,t,a,s,u,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,U=e.hiddenUpdates;for(a=v&~a;0<a;){var $=31-wt(a),V=1<<$;b[$]=0,N[$]=-1;var z=U[$];if(z!==null)for(U[$]=null,$=0;$<z.length;$++){var L=z[$];L!==null&&(L.lane&=-536870913)}a&=~V}s!==0&&rd(e,s,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~t))}function rd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-wt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function id(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-wt(a),u=1<<s;u&t|e[s]&t&&(e[s]|=t),a&=~u}}function sd(e,t){var a=t&-t;return a=(a&42)!==0?1:Bl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Bl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ld(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Km(e.type))}function od(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var Nn=Math.random().toString(36).slice(2),We="__reactFiber$"+Nn,dt="__reactProps$"+Nn,Ca="__reactContainer$"+Nn,$l="__reactEvents$"+Nn,Cv="__reactListeners$"+Nn,Rv="__reactHandles$"+Nn,ud="__reactResources$"+Nn,Ur="__reactMarker$"+Nn;function ql(e){delete e[We],delete e[dt],delete e[$l],delete e[Cv],delete e[Rv]}function Ra(e){var t=e[We];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ca]||a[We]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Rm(e);e!==null;){if(a=e[We])return a;e=Rm(e)}return t}e=a,a=e.parentNode}return null}function ka(e){if(e=e[We]||e[Ca]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Da(e){var t=e[ud];return t||(t=e[ud]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[Ur]=!0}var cd=new Set,dd={};function aa(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(dd[e]=t,e=0;e<t.length;e++)cd.add(t[e])}var kv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},fd={};function Dv(e){return Ul.call(fd,e)?!0:Ul.call(hd,e)?!1:kv.test(e)?fd[e]=!0:(hd[e]=!0,!1)}function Ii(e,t,a){if(Dv(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ki(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function an(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function md(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uv(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gl(e){if(!e._valueTracker){var t=md(e)?"checked":"value";e._valueTracker=Uv(e,t,""+e[t])}}function pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=md(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mv=/[\n"\\]/g;function Mt(e){return e.replace(Mv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vl(e,t,a,s,u,d,v,b){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Pl(e,v,Ut(t)):a!=null?Pl(e,v,Ut(a)):s!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ut(b):e.removeAttribute("name")}function gd(e,t,a,s,u,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Gl(e);return}a=a!=null?""+Ut(a):"",t=t!=null?""+Ut(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Gl(e)}function Pl(e,t,a){t==="number"&&Qi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ma(e,t,a,s){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function vd(e,t,a){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ut(a):""}function yd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(it(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Ut(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Gl(e)}function za(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var zv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||zv.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function xd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&a[u]!==s&&bd(e,u,s)}else for(var d in t)t.hasOwnProperty(d)&&bd(e,d,t[d])}function Yl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ji(e){return Bv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function rn(){}var Il=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,Ba=null;function _d(e){var t=ka(e);if(t&&(e=t.stateNode)){var a=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var u=s[dt]||null;if(!u)throw Error(l(90));Vl(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&pd(s)}break e;case"textarea":vd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ma(e,!!a.multiple,t,!1)}}}var Ql=!1;function wd(e,t,a){if(Ql)return e(t,a);Ql=!0;try{var s=e(t);return s}finally{if(Ql=!1,(La!==null||Ba!==null)&&(zs(),La&&(t=La,e=Ba,Ba=La=null,_d(t),e)))for(t=0;t<e.length;t++)_d(e[t])}}function zr(e,t){var a=e.stateNode;if(a===null)return null;var s=a[dt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=!1;if(sn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{Jl=!1}var On=null,Xl=null,Xi=null;function Sd(){if(Xi)return Xi;var e,t=Xl,a=t.length,s,u="value"in On?On.value:On.textContent,d=u.length;for(e=0;e<a&&t[e]===u[e];e++);var v=a-e;for(s=1;s<=v&&t[a-s]===u[d-s];s++);return Xi=u.slice(e,1<s?1-s:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function Ed(){return!1}function ht(e){function t(a,s,u,d,v){this._reactName=a,this._targetInst=u,this.type=s,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Ed,this.isPropagationStopped=Ed,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=ht(ra),Br=w({},ra,{view:0,detail:0}),Hv=ht(Br),Zl,Fl,Hr,es=w({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(Zl=e.screenX-Hr.screenX,Fl=e.screenY-Hr.screenY):Fl=Zl=0,Hr=e),Zl)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),jd=ht(es),$v=w({},es,{dataTransfer:0}),qv=ht($v),Gv=w({},Br,{relatedTarget:0}),Wl=ht(Gv),Vv=w({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Pv=ht(Vv),Yv=w({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iv=ht(Yv),Kv=w({},ra,{data:0}),Td=ht(Kv),Qv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xv[e])?!!t[e]:!1}function eo(){return Zv}var Fv=w({},Br,{key:function(e){if(e.key){var t=Qv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wv=ht(Fv),ey=w({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=ht(ey),ty=w({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),ny=ht(ty),ay=w({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),ry=ht(ay),iy=w({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sy=ht(iy),ly=w({},ra,{newState:0,oldState:0}),oy=ht(ly),uy=[9,13,27,32],to=sn&&"CompositionEvent"in window,$r=null;sn&&"documentMode"in document&&($r=document.documentMode);var cy=sn&&"TextEvent"in window&&!$r,Od=sn&&(!to||$r&&8<$r&&11>=$r),Ad=" ",Cd=!1;function Rd(e,t){switch(e){case"keyup":return uy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function dy(e,t){switch(e){case"compositionend":return kd(t);case"keypress":return t.which!==32?null:(Cd=!0,Ad);case"textInput":return e=t.data,e===Ad&&Cd?null:e;default:return null}}function hy(e,t){if(Ha)return e==="compositionend"||!to&&Rd(e,t)?(e=Sd(),Xi=Xl=On=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Od&&t.locale!=="ko"?null:t.data;default:return null}}var fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fy[e.type]:t==="textarea"}function Ud(e,t,a,s){La?Ba?Ba.push(s):Ba=[s]:La=s,t=Vs(t,"onChange"),0<t.length&&(a=new Wi("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var qr=null,Gr=null;function my(e){vm(e,0)}function ts(e){var t=Mr(e);if(pd(t))return e}function Md(e,t){if(e==="change")return t}var zd=!1;if(sn){var no;if(sn){var ao="oninput"in document;if(!ao){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),ao=typeof Ld.oninput=="function"}no=ao}else no=!1;zd=no&&(!document.documentMode||9<document.documentMode)}function Bd(){qr&&(qr.detachEvent("onpropertychange",Hd),Gr=qr=null)}function Hd(e){if(e.propertyName==="value"&&ts(Gr)){var t=[];Ud(t,Gr,e,Kl(e)),wd(my,t)}}function py(e,t,a){e==="focusin"?(Bd(),qr=t,Gr=a,qr.attachEvent("onpropertychange",Hd)):e==="focusout"&&Bd()}function gy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(Gr)}function vy(e,t){if(e==="click")return ts(t)}function yy(e,t){if(e==="input"||e==="change")return ts(t)}function by(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:by;function Vr(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var u=a[s];if(!Ul.call(t,u)||!St(e[u],t[u]))return!1}return!0}function $d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qd(e,t){var a=$d(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$d(a)}}function Gd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Qi(e.document)}return t}function ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xy=sn&&"documentMode"in document&&11>=document.documentMode,$a=null,io=null,Pr=null,so=!1;function Pd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;so||$a==null||$a!==Qi(s)||(s=$a,"selectionStart"in s&&ro(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Pr&&Vr(Pr,s)||(Pr=s,s=Vs(io,"onSelect"),0<s.length&&(t=new Wi("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=$a)))}function ia(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var qa={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},lo={},Yd={};sn&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function sa(e){if(lo[e])return lo[e];if(!qa[e])return e;var t=qa[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Yd)return lo[e]=t[a];return e}var Id=sa("animationend"),Kd=sa("animationiteration"),Qd=sa("animationstart"),_y=sa("transitionrun"),wy=sa("transitionstart"),Sy=sa("transitioncancel"),Jd=sa("transitionend"),Xd=new Map,oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oo.push("scrollEnd");function Pt(e,t){Xd.set(e,t),aa(t,[e])}var ns=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],Ga=0,uo=0;function as(){for(var e=Ga,t=uo=Ga=0;t<e;){var a=zt[t];zt[t++]=null;var s=zt[t];zt[t++]=null;var u=zt[t];zt[t++]=null;var d=zt[t];if(zt[t++]=null,s!==null&&u!==null){var v=s.pending;v===null?u.next=u:(u.next=v.next,v.next=u),s.pending=u}d!==0&&Zd(a,u,d)}}function rs(e,t,a,s){zt[Ga++]=e,zt[Ga++]=t,zt[Ga++]=a,zt[Ga++]=s,uo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function co(e,t,a,s){return rs(e,t,a,s),is(e)}function la(e,t){return rs(e,null,null,t),is(e)}function Zd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var u=!1,d=e.return;d!==null;)d.childLanes|=a,s=d.alternate,s!==null&&(s.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-wt(a),e=d.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=a|536870912),d):null}function is(e){if(50<hi)throw hi=0,xu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function Ey(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,a,s){return new Ey(e,t,a,s)}function ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var a=e.alternate;return a===null?(a=Et(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ss(e,t,a,s,u,d){var v=0;if(s=e,typeof e=="function")ho(e)&&(v=1);else if(typeof e=="string")v=Ab(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Et(31,a,t,u),e.elementType=te,e.lanes=d,e;case T:return oa(a.children,u,d,t);case S:v=8,u|=24;break;case E:return e=Et(12,a,t,u|2),e.elementType=E,e.lanes=d,e;case re:return e=Et(13,a,t,u),e.elementType=re,e.lanes=d,e;case ae:return e=Et(19,a,t,u),e.elementType=ae,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:v=10;break e;case q:v=9;break e;case Y:v=11;break e;case Q:v=14;break e;case ve:v=16,s=null;break e}v=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Et(v,a,t,u),t.elementType=e,t.type=s,t.lanes=d,t}function oa(e,t,a,s){return e=Et(7,e,s,t),e.lanes=a,e}function fo(e,t,a){return e=Et(6,e,null,t),e.lanes=a,e}function Wd(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function mo(e,t,a){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var eh=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var a=eh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Wc(t)},eh.set(e,t),t)}return{value:e,source:t,stack:Wc(t)}}var Pa=[],Ya=0,ls=null,Yr=0,Bt=[],Ht=0,An=null,Ft=1,Wt="";function on(e,t){Pa[Ya++]=Yr,Pa[Ya++]=ls,ls=e,Yr=t}function th(e,t,a){Bt[Ht++]=Ft,Bt[Ht++]=Wt,Bt[Ht++]=An,An=e;var s=Ft;e=Wt;var u=32-wt(s)-1;s&=~(1<<u),a+=1;var d=32-wt(t)+u;if(30<d){var v=u-u%5;d=(s&(1<<v)-1).toString(32),s>>=v,u-=v,Ft=1<<32-wt(t)+u|a<<u|s,Wt=d+e}else Ft=1<<d|a<<u|s,Wt=e}function po(e){e.return!==null&&(on(e,1),th(e,1,0))}function go(e){for(;e===ls;)ls=Pa[--Ya],Pa[Ya]=null,Yr=Pa[--Ya],Pa[Ya]=null;for(;e===An;)An=Bt[--Ht],Bt[Ht]=null,Wt=Bt[--Ht],Bt[Ht]=null,Ft=Bt[--Ht],Bt[Ht]=null}function nh(e,t){Bt[Ht++]=Ft,Bt[Ht++]=Wt,Bt[Ht++]=An,Ft=t.id,Wt=t.overflow,An=e}var et=null,ke=null,ye=!1,Cn=null,$t=!1,vo=Error(l(519));function Rn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ir(Lt(t,e)),vo}function ah(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[We]=e,t[dt]=s,a){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(a=0;a<mi.length;a++)fe(mi[a],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),gd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),yd(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||_m(t.textContent,a)?(s.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),s.onScroll!=null&&fe("scroll",t),s.onScrollEnd!=null&&fe("scrollend",t),s.onClick!=null&&(t.onclick=rn),t=!0):t=!1,t||Rn(e,!0)}function rh(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:et=et.return}}function Ia(e){if(e!==et)return!1;if(!ye)return rh(e),ye=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Mu(e.type,e.memoizedProps)),a=!a),a&&ke&&Rn(e),rh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ke=Cm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ke=Cm(e)}else t===27?(t=ke,Yn(e.type)?(e=$u,$u=null,ke=e):ke=t):ke=et?Gt(e.stateNode.nextSibling):null;return!0}function ua(){ke=et=null,ye=!1}function yo(){var e=Cn;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),Cn=null),e}function Ir(e){Cn===null?Cn=[e]:Cn.push(e)}var bo=O(null),ca=null,un=null;function kn(e,t,a){P(bo,t._currentValue),t._currentValue=a}function cn(e){e._currentValue=bo.current,B(bo)}function xo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function _o(e,t,a,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var v=u.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=u;for(var N=0;N<t.length;N++)if(b.context===t[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),xo(d.return,a,e),s||(v=null);break e}d=b.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(l(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),xo(v,a,e),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===e){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function Ka(e,t,a,s){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(l(387));if(v=v.memoizedProps,v!==null){var b=u.type;St(u.pendingProps.value,v.value)||(e!==null?e.push(b):e=[b])}}else if(u===we.current){if(v=u.alternate,v===null)throw Error(l(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(bi):e=[bi])}u=u.return}e!==null&&_o(t,e,a,s),t.flags|=262144}function os(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){ca=e,un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return ih(ca,e)}function us(e,t){return ca===null&&da(e),ih(e,t)}function ih(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},un===null){if(e===null)throw Error(l(308));un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else un=un.next=t;return a}var jy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ty=i.unstable_scheduleCallback,Ny=i.unstable_NormalPriority,Ve={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wo(){return{controller:new jy,data:new Map,refCount:0}}function Kr(e){e.refCount--,e.refCount===0&&Ty(Ny,function(){e.controller.abort()})}var Qr=null,So=0,Qa=0,Ja=null;function Oy(e,t){if(Qr===null){var a=Qr=[];So=0,Qa=Tu(),Ja={status:"pending",value:void 0,then:function(s){a.push(s)}}}return So++,t.then(sh,sh),t}function sh(){if(--So===0&&Qr!==null){Ja!==null&&(Ja.status="fulfilled");var e=Qr;Qr=null,Qa=0,Ja=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ay(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),s}var lh=H.S;H.S=function(e,t){Yf=xt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Oy(e,t),lh!==null&&lh(e,t)};var ha=O(null);function Eo(){var e=ha.current;return e!==null?e:Ae.pooledCache}function cs(e,t){t===null?P(ha,ha.current):P(ha,t.pool)}function oh(){var e=Eo();return e===null?null:{parent:Ve._currentValue,pool:e}}var Xa=Error(l(460)),jo=Error(l(474)),ds=Error(l(542)),hs={then:function(){}};function uh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ch(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(rn,rn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hh(e),e;default:if(typeof t.status=="string")t.then(rn,rn);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hh(e),e}throw ma=t,Xa}}function fa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ma=a,Xa):a}}var ma=null;function dh(){if(ma===null)throw Error(l(459));var e=ma;return ma=null,e}function hh(e){if(e===Xa||e===ds)throw Error(l(483))}var Za=null,Jr=0;function fs(e){var t=Jr;return Jr+=1,Za===null&&(Za=[]),ch(Za,e,t)}function Xr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ms(e,t){throw t.$$typeof===j?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fh(e){function t(C,A){if(e){var D=C.deletions;D===null?(C.deletions=[A],C.flags|=16):D.push(A)}}function a(C,A){if(!e)return null;for(;A!==null;)t(C,A),A=A.sibling;return null}function s(C){for(var A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function u(C,A){return C=ln(C,A),C.index=0,C.sibling=null,C}function d(C,A,D){return C.index=D,e?(D=C.alternate,D!==null?(D=D.index,D<A?(C.flags|=67108866,A):D):(C.flags|=67108866,A)):(C.flags|=1048576,A)}function v(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function b(C,A,D,G){return A===null||A.tag!==6?(A=fo(D,C.mode,G),A.return=C,A):(A=u(A,D),A.return=C,A)}function N(C,A,D,G){var ne=D.type;return ne===T?$(C,A,D.props.children,G,D.key):A!==null&&(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ve&&fa(ne)===A.type)?(A=u(A,D.props),Xr(A,D),A.return=C,A):(A=ss(D.type,D.key,D.props,null,C.mode,G),Xr(A,D),A.return=C,A)}function U(C,A,D,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=mo(D,C.mode,G),A.return=C,A):(A=u(A,D.children||[]),A.return=C,A)}function $(C,A,D,G,ne){return A===null||A.tag!==7?(A=oa(D,C.mode,G,ne),A.return=C,A):(A=u(A,D),A.return=C,A)}function V(C,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=fo(""+A,C.mode,D),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case y:return D=ss(A.type,A.key,A.props,null,C.mode,D),Xr(D,A),D.return=C,D;case _:return A=mo(A,C.mode,D),A.return=C,A;case ve:return A=fa(A),V(C,A,D)}if(it(A)||Re(A))return A=oa(A,C.mode,D,null),A.return=C,A;if(typeof A.then=="function")return V(C,fs(A),D);if(A.$$typeof===R)return V(C,us(C,A),D);ms(C,A)}return null}function z(C,A,D,G){var ne=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ne!==null?null:b(C,A,""+D,G);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case y:return D.key===ne?N(C,A,D,G):null;case _:return D.key===ne?U(C,A,D,G):null;case ve:return D=fa(D),z(C,A,D,G)}if(it(D)||Re(D))return ne!==null?null:$(C,A,D,G,null);if(typeof D.then=="function")return z(C,A,fs(D),G);if(D.$$typeof===R)return z(C,A,us(C,D),G);ms(C,D)}return null}function L(C,A,D,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return C=C.get(D)||null,b(A,C,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return C=C.get(G.key===null?D:G.key)||null,N(A,C,G,ne);case _:return C=C.get(G.key===null?D:G.key)||null,U(A,C,G,ne);case ve:return G=fa(G),L(C,A,D,G,ne)}if(it(G)||Re(G))return C=C.get(D)||null,$(A,C,G,ne,null);if(typeof G.then=="function")return L(C,A,D,fs(G),ne);if(G.$$typeof===R)return L(C,A,D,us(A,G),ne);ms(A,G)}return null}function J(C,A,D,G){for(var ne=null,be=null,F=A,ce=A=0,ge=null;F!==null&&ce<D.length;ce++){F.index>ce?(ge=F,F=null):ge=F.sibling;var xe=z(C,F,D[ce],G);if(xe===null){F===null&&(F=ge);break}e&&F&&xe.alternate===null&&t(C,F),A=d(xe,A,ce),be===null?ne=xe:be.sibling=xe,be=xe,F=ge}if(ce===D.length)return a(C,F),ye&&on(C,ce),ne;if(F===null){for(;ce<D.length;ce++)F=V(C,D[ce],G),F!==null&&(A=d(F,A,ce),be===null?ne=F:be.sibling=F,be=F);return ye&&on(C,ce),ne}for(F=s(F);ce<D.length;ce++)ge=L(F,C,ce,D[ce],G),ge!==null&&(e&&ge.alternate!==null&&F.delete(ge.key===null?ce:ge.key),A=d(ge,A,ce),be===null?ne=ge:be.sibling=ge,be=ge);return e&&F.forEach(function(Xn){return t(C,Xn)}),ye&&on(C,ce),ne}function ie(C,A,D,G){if(D==null)throw Error(l(151));for(var ne=null,be=null,F=A,ce=A=0,ge=null,xe=D.next();F!==null&&!xe.done;ce++,xe=D.next()){F.index>ce?(ge=F,F=null):ge=F.sibling;var Xn=z(C,F,xe.value,G);if(Xn===null){F===null&&(F=ge);break}e&&F&&Xn.alternate===null&&t(C,F),A=d(Xn,A,ce),be===null?ne=Xn:be.sibling=Xn,be=Xn,F=ge}if(xe.done)return a(C,F),ye&&on(C,ce),ne;if(F===null){for(;!xe.done;ce++,xe=D.next())xe=V(C,xe.value,G),xe!==null&&(A=d(xe,A,ce),be===null?ne=xe:be.sibling=xe,be=xe);return ye&&on(C,ce),ne}for(F=s(F);!xe.done;ce++,xe=D.next())xe=L(F,C,ce,xe.value,G),xe!==null&&(e&&xe.alternate!==null&&F.delete(xe.key===null?ce:xe.key),A=d(xe,A,ce),be===null?ne=xe:be.sibling=xe,be=xe);return e&&F.forEach(function($b){return t(C,$b)}),ye&&on(C,ce),ne}function Oe(C,A,D,G){if(typeof D=="object"&&D!==null&&D.type===T&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case y:e:{for(var ne=D.key;A!==null;){if(A.key===ne){if(ne=D.type,ne===T){if(A.tag===7){a(C,A.sibling),G=u(A,D.props.children),G.return=C,C=G;break e}}else if(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ve&&fa(ne)===A.type){a(C,A.sibling),G=u(A,D.props),Xr(G,D),G.return=C,C=G;break e}a(C,A);break}else t(C,A);A=A.sibling}D.type===T?(G=oa(D.props.children,C.mode,G,D.key),G.return=C,C=G):(G=ss(D.type,D.key,D.props,null,C.mode,G),Xr(G,D),G.return=C,C=G)}return v(C);case _:e:{for(ne=D.key;A!==null;){if(A.key===ne)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){a(C,A.sibling),G=u(A,D.children||[]),G.return=C,C=G;break e}else{a(C,A);break}else t(C,A);A=A.sibling}G=mo(D,C.mode,G),G.return=C,C=G}return v(C);case ve:return D=fa(D),Oe(C,A,D,G)}if(it(D))return J(C,A,D,G);if(Re(D)){if(ne=Re(D),typeof ne!="function")throw Error(l(150));return D=ne.call(D),ie(C,A,D,G)}if(typeof D.then=="function")return Oe(C,A,fs(D),G);if(D.$$typeof===R)return Oe(C,A,us(C,D),G);ms(C,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(a(C,A.sibling),G=u(A,D),G.return=C,C=G):(a(C,A),G=fo(D,C.mode,G),G.return=C,C=G),v(C)):a(C,A)}return function(C,A,D,G){try{Jr=0;var ne=Oe(C,A,D,G);return Za=null,ne}catch(F){if(F===Xa||F===ds)throw F;var be=Et(29,F,null,C.mode);return be.lanes=G,be.return=C,be}finally{}}}var pa=fh(!0),mh=fh(!1),Dn=!1;function To(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Un(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(_e&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=is(e),Zd(e,null,a),t}return rs(e,s,t,a),is(e)}function Zr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,id(e,a)}}function Oo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var u=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?u=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?u=d=t:d=d.next=t}else u=d=t;a={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Ao=!1;function Fr(){if(Ao){var e=Ja;if(e!==null)throw e}}function Wr(e,t,a,s){Ao=!1;var u=e.updateQueue;Dn=!1;var d=u.firstBaseUpdate,v=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var N=b,U=N.next;N.next=null,v===null?d=U:v.next=U,v=N;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==v&&(b===null?$.firstBaseUpdate=U:b.next=U,$.lastBaseUpdate=N))}if(d!==null){var V=u.baseState;v=0,$=U=N=null,b=d;do{var z=b.lane&-536870913,L=z!==b.lane;if(L?(pe&z)===z:(s&z)===z){z!==0&&z===Qa&&(Ao=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var J=e,ie=b;z=t;var Oe=a;switch(ie.tag){case 1:if(J=ie.payload,typeof J=="function"){V=J.call(Oe,V,z);break e}V=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ie.payload,z=typeof J=="function"?J.call(Oe,V,z):J,z==null)break e;V=w({},V,z);break e;case 2:Dn=!0}}z=b.callback,z!==null&&(e.flags|=64,L&&(e.flags|=8192),L=u.callbacks,L===null?u.callbacks=[z]:L.push(z))}else L={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(U=$=L,N=V):$=$.next=L,v|=z;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;L=b,b=L.next,L.next=null,u.lastBaseUpdate=L,u.shared.pending=null}}while(!0);$===null&&(N=V),u.baseState=N,u.firstBaseUpdate=U,u.lastBaseUpdate=$,d===null&&(u.shared.lanes=0),$n|=v,e.lanes=v,e.memoizedState=V}}function ph(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function gh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ph(a[e],t)}var Fa=O(null),ps=O(0);function vh(e,t){e=bn,P(ps,e),P(Fa,t),bn=e|t.baseLanes}function Co(){P(ps,bn),P(Fa,Fa.current)}function Ro(){bn=ps.current,B(Fa),B(ps)}var jt=O(null),qt=null;function zn(e){var t=e.alternate;P($e,$e.current&1),P(jt,e),qt===null&&(t===null||Fa.current!==null||t.memoizedState!==null)&&(qt=e)}function ko(e){P($e,$e.current),P(jt,e),qt===null&&(qt=e)}function yh(e){e.tag===22?(P($e,$e.current),P(jt,e),qt===null&&(qt=e)):Ln()}function Ln(){P($e,$e.current),P(jt,jt.current)}function Tt(e){B(jt),qt===e&&(qt=null),B($e)}var $e=O(0);function gs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bu(a)||Hu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dn=0,ue=null,Te=null,Pe=null,vs=!1,Wa=!1,ga=!1,ys=0,ei=0,er=null,Cy=0;function Le(){throw Error(l(321))}function Do(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!St(e[a],t[a]))return!1;return!0}function Uo(e,t,a,s,u,d){return dn=d,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?tf:Jo,ga=!1,d=a(s,u),ga=!1,Wa&&(d=xh(t,a,s,u)),bh(e),d}function bh(e){H.H=ai;var t=Te!==null&&Te.next!==null;if(dn=0,Pe=Te=ue=null,vs=!1,ei=0,er=null,t)throw Error(l(300));e===null||Ye||(e=e.dependencies,e!==null&&os(e)&&(Ye=!0))}function xh(e,t,a,s){ue=e;var u=0;do{if(Wa&&(er=null),ei=0,Wa=!1,25<=u)throw Error(l(301));if(u+=1,Pe=Te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=nf,d=t(a,s)}while(Wa);return d}function Ry(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?ti(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(ue.flags|=1024),t}function Mo(){var e=ys!==0;return ys=0,e}function zo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Lo(e){if(vs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vs=!1}dn=0,Pe=Te=ue=null,Wa=!1,ei=ys=0,er=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ue.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function qe(){if(Te===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Pe===null?ue.memoizedState:Pe.next;if(t!==null)Pe=t,Te=e;else{if(e===null)throw ue.alternate===null?Error(l(467)):Error(l(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?ue.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function bs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ti(e){var t=ei;return ei+=1,er===null&&(er=[]),e=ch(er,e,t),t=ue,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?tf:Jo),e}function xs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ti(e);if(e.$$typeof===R)return tt(e)}throw Error(l(438,String(e)))}function Bo(e){var t=null,a=ue.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=bs(),ue.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=me;return t.index++,a}function hn(e,t){return typeof t=="function"?t(e):t}function _s(e){var t=qe();return Ho(t,Te,e)}function Ho(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var u=e.baseQueue,d=s.pending;if(d!==null){if(u!==null){var v=u.next;u.next=d.next,d.next=v}t.baseQueue=u=d,s.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var b=v=null,N=null,U=t,$=!1;do{var V=U.lane&-536870913;if(V!==U.lane?(pe&V)===V:(dn&V)===V){var z=U.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),V===Qa&&($=!0);else if((dn&z)===z){U=U.next,z===Qa&&($=!0);continue}else V={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=V,v=d):N=N.next=V,ue.lanes|=z,$n|=z;V=U.action,ga&&a(d,V),d=U.hasEagerState?U.eagerState:a(d,V)}else z={lane:V,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=z,v=d):N=N.next=z,ue.lanes|=V,$n|=V;U=U.next}while(U!==null&&U!==t);if(N===null?v=d:N.next=b,!St(d,e.memoizedState)&&(Ye=!0,$&&(a=Ja,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=N,s.lastRenderedState=d}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function $o(e){var t=qe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,u=a.pending,d=t.memoizedState;if(u!==null){a.pending=null;var v=u=u.next;do d=e(d,v.action),v=v.next;while(v!==u);St(d,t.memoizedState)||(Ye=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,s]}function _h(e,t,a){var s=ue,u=qe(),d=ye;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var v=!St((Te||u).memoizedState,a);if(v&&(u.memoizedState=a,Ye=!0),u=u.queue,Vo(Eh.bind(null,s,u,e),[e]),u.getSnapshot!==t||v||Pe!==null&&Pe.memoizedState.tag&1){if(s.flags|=2048,tr(9,{destroy:void 0},Sh.bind(null,s,u,a,t),null),Ae===null)throw Error(l(349));d||(dn&127)!==0||wh(s,t,a)}return a}function wh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ue.updateQueue,t===null?(t=bs(),ue.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Sh(e,t,a,s){t.value=a,t.getSnapshot=s,jh(t)&&Th(e)}function Eh(e,t,a){return a(function(){jh(t)&&Th(e)})}function jh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!St(e,a)}catch{return!0}}function Th(e){var t=la(e,2);t!==null&&vt(t,e,2)}function qo(e){var t=ut();if(typeof e=="function"){var a=e;if(e=a(),ga){Tn(!0);try{a()}finally{Tn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},t}function Nh(e,t,a,s){return e.baseState=a,Ho(e,Te,typeof s=="function"?s:hn)}function ky(e,t,a,s,u){if(Es(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,s(d),a=t.pending,a===null?(d.next=t.pending=d,Oh(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Oh(e,t){var a=t.action,s=t.payload,u=e.state;if(t.isTransition){var d=H.T,v={};H.T=v;try{var b=a(u,s),N=H.S;N!==null&&N(v,b),Ah(e,t,b)}catch(U){Go(e,t,U)}finally{d!==null&&v.types!==null&&(d.types=v.types),H.T=d}}else try{d=a(u,s),Ah(e,t,d)}catch(U){Go(e,t,U)}}function Ah(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Ch(e,t,s)},function(s){return Go(e,t,s)}):Ch(e,t,a)}function Ch(e,t,a){t.status="fulfilled",t.value=a,Rh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Oh(e,a)))}function Go(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Rh(t),t=t.next;while(t!==s)}e.action=null}function Rh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kh(e,t){return t}function Dh(e,t){if(ye){var a=Ae.formState;if(a!==null){e:{var s=ue;if(ye){if(ke){t:{for(var u=ke,d=$t;u.nodeType!==8;){if(!d){u=null;break t}if(u=Gt(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){ke=Gt(u.nextSibling),s=u.data==="F!";break e}}Rn(s)}s=!1}s&&(t=a[0])}}return a=ut(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:t},a.queue=s,a=Fh.bind(null,ue,s),s.dispatch=a,s=qo(!1),d=Qo.bind(null,ue,!1,s.queue),s=ut(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,a=ky.bind(null,ue,u,d,a),u.dispatch=a,s.memoizedState=e,[t,a,!1]}function Uh(e){var t=qe();return Mh(t,Te,e)}function Mh(e,t,a){if(t=Ho(e,t,kh)[0],e=_s(hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ti(t)}catch(v){throw v===Xa?ds:v}else s=t;t=qe();var u=t.queue,d=u.dispatch;return a!==t.memoizedState&&(ue.flags|=2048,tr(9,{destroy:void 0},Dy.bind(null,u,a),null)),[s,d,e]}function Dy(e,t){e.action=t}function zh(e){var t=qe(),a=Te;if(a!==null)return Mh(t,a,e);qe(),t=t.memoizedState,a=qe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function tr(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ue.updateQueue,t===null&&(t=bs(),ue.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Lh(){return qe().memoizedState}function ws(e,t,a,s){var u=ut();ue.flags|=e,u.memoizedState=tr(1|t,{destroy:void 0},a,s===void 0?null:s)}function Ss(e,t,a,s){var u=qe();s=s===void 0?null:s;var d=u.memoizedState.inst;Te!==null&&s!==null&&Do(s,Te.memoizedState.deps)?u.memoizedState=tr(t,d,a,s):(ue.flags|=e,u.memoizedState=tr(1|t,d,a,s))}function Bh(e,t){ws(8390656,8,e,t)}function Vo(e,t){Ss(2048,8,e,t)}function Uy(e){ue.flags|=4;var t=ue.updateQueue;if(t===null)t=bs(),ue.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Hh(e){var t=qe().memoizedState;return Uy({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function $h(e,t){return Ss(4,2,e,t)}function qh(e,t){return Ss(4,4,e,t)}function Gh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vh(e,t,a){a=a!=null?a.concat([e]):null,Ss(4,4,Gh.bind(null,t,e),a)}function Po(){}function Ph(e,t){var a=qe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Do(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Yh(e,t){var a=qe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Do(t,s[1]))return s[0];if(s=e(),ga){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[s,t],s}function Yo(e,t,a){return a===void 0||(dn&1073741824)!==0&&(pe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Kf(),ue.lanes|=e,$n|=e,a)}function Ih(e,t,a,s){return St(a,t)?a:Fa.current!==null?(e=Yo(e,a,s),St(e,t)||(Ye=!0),e):(dn&42)===0||(dn&1073741824)!==0&&(pe&261930)===0?(Ye=!0,e.memoizedState=a):(e=Kf(),ue.lanes|=e,$n|=e,t)}function Kh(e,t,a,s,u){var d=K.p;K.p=d!==0&&8>d?d:8;var v=H.T,b={};H.T=b,Qo(e,!1,t,a);try{var N=u(),U=H.S;if(U!==null&&U(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=Ay(N,s);ni(e,t,$,At(e))}else ni(e,t,s,At(e))}catch(V){ni(e,t,{then:function(){},status:"rejected",reason:V},At())}finally{K.p=d,v!==null&&b.types!==null&&(v.types=b.types),H.T=v}}function My(){}function Io(e,t,a,s){if(e.tag!==5)throw Error(l(476));var u=Qh(e).queue;Kh(e,u,t,M,a===null?My:function(){return Jh(e),a(s)})}function Qh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:M},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Jh(e){var t=Qh(e);t.next===null&&(t=e.alternate.memoizedState),ni(e,t.next.queue,{},At())}function Ko(){return tt(bi)}function Xh(){return qe().memoizedState}function Zh(){return qe().memoizedState}function zy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=At();e=Un(a);var s=Mn(t,e,a);s!==null&&(vt(s,t,a),Zr(s,t,a)),t={cache:wo()},e.payload=t;return}t=t.return}}function Ly(e,t,a){var s=At();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Es(e)?Wh(t,a):(a=co(e,t,a,s),a!==null&&(vt(a,e,s),ef(a,t,s)))}function Fh(e,t,a){var s=At();ni(e,t,a,s)}function ni(e,t,a,s){var u={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Es(e))Wh(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,b=d(v,a);if(u.hasEagerState=!0,u.eagerState=b,St(b,v))return rs(e,t,u,0),Ae===null&&as(),!1}catch{}finally{}if(a=co(e,t,u,s),a!==null)return vt(a,e,s),ef(a,t,s),!0}return!1}function Qo(e,t,a,s){if(s={lane:2,revertLane:Tu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Es(e)){if(t)throw Error(l(479))}else t=co(e,a,s,2),t!==null&&vt(t,e,2)}function Es(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Wh(e,t){Wa=vs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ef(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,id(e,a)}}var ai={readContext:tt,use:xs,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};ai.useEffectEvent=Le;var tf={readContext:tt,use:xs,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Bh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ws(4194308,4,Gh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){ws(4,2,e,t)},useMemo:function(e,t){var a=ut();t=t===void 0?null:t;var s=e();if(ga){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=ut();if(a!==void 0){var u=a(t);if(ga){Tn(!0);try{a(t)}finally{Tn(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=Ly.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:function(e){e=qo(e);var t=e.queue,a=Fh.bind(null,ue,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Po,useDeferredValue:function(e,t){var a=ut();return Yo(a,e,t)},useTransition:function(){var e=qo(!1);return e=Kh.bind(null,ue,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ue,u=ut();if(ye){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Ae===null)throw Error(l(349));(pe&127)!==0||wh(s,t,a)}u.memoizedState=a;var d={value:a,getSnapshot:t};return u.queue=d,Bh(Eh.bind(null,s,d,e),[e]),s.flags|=2048,tr(9,{destroy:void 0},Sh.bind(null,s,d,a,t),null),a},useId:function(){var e=ut(),t=Ae.identifierPrefix;if(ye){var a=Wt,s=Ft;a=(s&~(1<<32-wt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ys++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Cy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ko,useFormState:Dh,useActionState:Dh,useOptimistic:function(e){var t=ut();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Qo.bind(null,ue,!0,a),a.dispatch=t,[e,t]},useMemoCache:Bo,useCacheRefresh:function(){return ut().memoizedState=zy.bind(null,ue)},useEffectEvent:function(e){var t=ut(),a={impl:e};return t.memoizedState=a,function(){if((_e&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Jo={readContext:tt,use:xs,useCallback:Ph,useContext:tt,useEffect:Vo,useImperativeHandle:Vh,useInsertionEffect:$h,useLayoutEffect:qh,useMemo:Yh,useReducer:_s,useRef:Lh,useState:function(){return _s(hn)},useDebugValue:Po,useDeferredValue:function(e,t){var a=qe();return Ih(a,Te.memoizedState,e,t)},useTransition:function(){var e=_s(hn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:ti(e),t]},useSyncExternalStore:_h,useId:Xh,useHostTransitionStatus:Ko,useFormState:Uh,useActionState:Uh,useOptimistic:function(e,t){var a=qe();return Nh(a,Te,e,t)},useMemoCache:Bo,useCacheRefresh:Zh};Jo.useEffectEvent=Hh;var nf={readContext:tt,use:xs,useCallback:Ph,useContext:tt,useEffect:Vo,useImperativeHandle:Vh,useInsertionEffect:$h,useLayoutEffect:qh,useMemo:Yh,useReducer:$o,useRef:Lh,useState:function(){return $o(hn)},useDebugValue:Po,useDeferredValue:function(e,t){var a=qe();return Te===null?Yo(a,e,t):Ih(a,Te.memoizedState,e,t)},useTransition:function(){var e=$o(hn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:ti(e),t]},useSyncExternalStore:_h,useId:Xh,useHostTransitionStatus:Ko,useFormState:zh,useActionState:zh,useOptimistic:function(e,t){var a=qe();return Te!==null?Nh(a,Te,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Bo,useCacheRefresh:Zh};nf.useEffectEvent=Hh;function Xo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:w({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Zo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=At(),u=Un(s);u.payload=t,a!=null&&(u.callback=a),t=Mn(e,u,s),t!==null&&(vt(t,e,s),Zr(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=At(),u=Un(s);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Mn(e,u,s),t!==null&&(vt(t,e,s),Zr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=At(),s=Un(a);s.tag=2,t!=null&&(s.callback=t),t=Mn(e,s,a),t!==null&&(vt(t,e,a),Zr(t,e,a))}};function af(e,t,a,s,u,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,v):t.prototype&&t.prototype.isPureReactComponent?!Vr(a,s)||!Vr(u,d):!0}function rf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Zo.enqueueReplaceState(t,t.state,null)}function va(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=w({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function sf(e){ns(e)}function lf(e){console.error(e)}function of(e){ns(e)}function js(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function uf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Fo(e,t,a){return a=Un(a),a.tag=3,a.payload={element:null},a.callback=function(){js(e,t)},a}function cf(e){return e=Un(e),e.tag=3,e}function df(e,t,a,s){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var d=s.value;e.payload=function(){return u(d)},e.callback=function(){uf(t,a,s)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){uf(t,a,s),typeof u!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function By(e,t,a,s,u){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Ka(t,a,u,!0),a=jt.current,a!==null){switch(a.tag){case 31:case 13:return qt===null?Ls():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=u,s===hs?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Su(e,s,u)),!1;case 22:return a.flags|=65536,s===hs?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Su(e,s,u)),!1}throw Error(l(435,a.tag))}return Su(e,s,u),Ls(),!1}if(ye)return t=jt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==vo&&(e=Error(l(422),{cause:s}),Ir(Lt(e,a)))):(s!==vo&&(t=Error(l(423),{cause:s}),Ir(Lt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=Lt(s,a),u=Fo(e.stateNode,s,u),Oo(e,u),Be!==4&&(Be=2)),!1;var d=Error(l(520),{cause:s});if(d=Lt(d,a),di===null?di=[d]:di.push(d),Be!==4&&(Be=2),t===null)return!0;s=Lt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Fo(a.stateNode,s,e),Oo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qn===null||!qn.has(d))))return a.flags|=65536,u&=-u,a.lanes|=u,u=cf(u),df(u,e,a,s),Oo(a,u),!1}a=a.return}while(a!==null);return!1}var Wo=Error(l(461)),Ye=!1;function nt(e,t,a,s){t.child=e===null?mh(t,null,a,s):pa(t,e.child,a,s)}function hf(e,t,a,s,u){a=a.render;var d=t.ref;if("ref"in s){var v={};for(var b in s)b!=="ref"&&(v[b]=s[b])}else v=s;return da(t),s=Uo(e,t,a,v,d,u),b=Mo(),e!==null&&!Ye?(zo(e,t,u),fn(e,t,u)):(ye&&b&&po(t),t.flags|=1,nt(e,t,s,u),t.child)}function ff(e,t,a,s,u){if(e===null){var d=a.type;return typeof d=="function"&&!ho(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,mf(e,t,d,s,u)):(e=ss(a.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!lu(e,u)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Vr,a(v,s)&&e.ref===t.ref)return fn(e,t,u)}return t.flags|=1,e=ln(d,s),e.ref=t.ref,e.return=t,t.child=e}function mf(e,t,a,s,u){if(e!==null){var d=e.memoizedProps;if(Vr(d,s)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=s=d,lu(e,u))(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,fn(e,t,u)}return eu(e,t,a,s,u)}function pf(e,t,a,s){var u=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~d}else s=0,t.child=null;return gf(e,t,d,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cs(t,d!==null?d.cachePool:null),d!==null?vh(t,d):Co(),yh(t);else return s=t.lanes=536870912,gf(e,t,d!==null?d.baseLanes|a:a,a,s)}else d!==null?(cs(t,d.cachePool),vh(t,d),Ln(),t.memoizedState=null):(e!==null&&cs(t,null),Co(),Ln());return nt(e,t,u,a),t.child}function ri(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gf(e,t,a,s,u){var d=Eo();return d=d===null?null:{parent:Ve._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&cs(t,null),Co(),yh(t),e!==null&&Ka(e,t,s,!0),t.childLanes=u,null}function Ts(e,t){return t=Os({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function vf(e,t,a){return pa(t,e.child,null,a),e=Ts(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function Hy(e,t,a){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(s.mode==="hidden")return e=Ts(t,s),t.lanes=536870912,ri(null,e);if(ko(t),(e=ke)?(e=Am(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:An!==null?{id:Ft,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},a=Wd(e),a.return=t,t.child=a,et=t,ke=null)):e=null,e===null)throw Rn(t);return t.lanes=536870912,null}return Ts(t,s)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(ko(t),u)if(t.flags&256)t.flags&=-257,t=vf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ye||Ka(e,t,a,!1),u=(a&e.childLanes)!==0,Ye||u){if(s=Ae,s!==null&&(v=sd(s,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,la(e,v),vt(s,e,v),Wo;Ls(),t=vf(e,t,a)}else e=d.treeContext,ke=Gt(v.nextSibling),et=t,ye=!0,Cn=null,$t=!1,e!==null&&nh(t,e),t=Ts(t,s),t.flags|=4096;return t}return e=ln(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ns(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function eu(e,t,a,s,u){return da(t),a=Uo(e,t,a,s,void 0,u),s=Mo(),e!==null&&!Ye?(zo(e,t,u),fn(e,t,u)):(ye&&s&&po(t),t.flags|=1,nt(e,t,a,u),t.child)}function yf(e,t,a,s,u,d){return da(t),t.updateQueue=null,a=xh(t,s,a,u),bh(e),s=Mo(),e!==null&&!Ye?(zo(e,t,d),fn(e,t,d)):(ye&&s&&po(t),t.flags|=1,nt(e,t,a,d),t.child)}function bf(e,t,a,s,u){if(da(t),t.stateNode===null){var d=Va,v=a.contextType;typeof v=="object"&&v!==null&&(d=tt(v)),d=new a(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},To(t),v=a.contextType,d.context=typeof v=="object"&&v!==null?tt(v):Va,d.state=t.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Xo(t,a,v,s),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Zo.enqueueReplaceState(d,d.state,null),Wr(t,s,d,u),Fr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,N=va(a,b);d.props=N;var U=d.context,$=a.contextType;v=Va,typeof $=="object"&&$!==null&&(v=tt($));var V=a.getDerivedStateFromProps;$=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||U!==v)&&rf(t,d,s,v),Dn=!1;var z=t.memoizedState;d.state=z,Wr(t,s,d,u),Fr(),U=t.memoizedState,b||z!==U||Dn?(typeof V=="function"&&(Xo(t,a,V,s),U=t.memoizedState),(N=Dn||af(t,a,N,s,z,U,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),d.props=s,d.state=U,d.context=v,s=N):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,No(e,t),v=t.memoizedProps,$=va(a,v),d.props=$,V=t.pendingProps,z=d.context,U=a.contextType,N=Va,typeof U=="object"&&U!==null&&(N=tt(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==V||z!==N)&&rf(t,d,s,N),Dn=!1,z=t.memoizedState,d.state=z,Wr(t,s,d,u),Fr();var L=t.memoizedState;v!==V||z!==L||Dn||e!==null&&e.dependencies!==null&&os(e.dependencies)?(typeof b=="function"&&(Xo(t,a,b,s),L=t.memoizedState),($=Dn||af(t,a,$,s,z,L,N)||e!==null&&e.dependencies!==null&&os(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,L,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,L,N)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=L),d.props=s,d.state=L,d.context=N,s=$):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Ns(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=pa(t,e.child,null,u),t.child=pa(t,null,a,u)):nt(e,t,a,u),t.memoizedState=d.state,e=t.child):e=fn(e,t,u),e}function xf(e,t,a,s){return ua(),t.flags|=256,nt(e,t,a,s),t.child}var tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nu(e){return{baseLanes:e,cachePool:oh()}}function au(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ot),e}function _f(e,t,a){var s=t.pendingProps,u=!1,d=(t.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),v&&(u=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(u?zn(t):Ln(),(e=ke)?(e=Am(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:An!==null?{id:Ft,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},a=Wd(e),a.return=t,t.child=a,et=t,ke=null)):e=null,e===null)throw Rn(t);return Hu(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,u?(Ln(),u=t.mode,b=Os({mode:"hidden",children:b},u),s=oa(s,u,a,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=nu(a),s.childLanes=au(e,v,a),t.memoizedState=tu,ri(null,s)):(zn(t),ru(t,b))}var N=e.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)t.flags&256?(zn(t),t.flags&=-257,t=iu(e,t,a)):t.memoizedState!==null?(Ln(),t.child=e.child,t.flags|=128,t=null):(Ln(),b=s.fallback,u=t.mode,s=Os({mode:"visible",children:s.children},u),b=oa(b,u,a,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,pa(t,e.child,null,a),s=t.child,s.memoizedState=nu(a),s.childLanes=au(e,v,a),t.memoizedState=tu,t=ri(null,s));else if(zn(t),Hu(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var U=v.dgst;v=U,s=Error(l(419)),s.stack="",s.digest=v,Ir({value:s,source:null,stack:null}),t=iu(e,t,a)}else if(Ye||Ka(e,t,a,!1),v=(a&e.childLanes)!==0,Ye||v){if(v=Ae,v!==null&&(s=sd(v,a),s!==0&&s!==N.retryLane))throw N.retryLane=s,la(e,s),vt(v,e,s),Wo;Bu(b)||Ls(),t=iu(e,t,a)}else Bu(b)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,ke=Gt(b.nextSibling),et=t,ye=!0,Cn=null,$t=!1,e!==null&&nh(t,e),t=ru(t,s.children),t.flags|=4096);return t}return u?(Ln(),b=s.fallback,u=t.mode,N=e.child,U=N.sibling,s=ln(N,{mode:"hidden",children:s.children}),s.subtreeFlags=N.subtreeFlags&65011712,U!==null?b=ln(U,b):(b=oa(b,u,a,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,ri(null,s),s=t.child,b=e.child.memoizedState,b===null?b=nu(a):(u=b.cachePool,u!==null?(N=Ve._currentValue,u=u.parent!==N?{parent:N,pool:N}:u):u=oh(),b={baseLanes:b.baseLanes|a,cachePool:u}),s.memoizedState=b,s.childLanes=au(e,v,a),t.memoizedState=tu,ri(e.child,s)):(zn(t),a=e.child,e=a.sibling,a=ln(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=a,t.memoizedState=null,a)}function ru(e,t){return t=Os({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Os(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function iu(e,t,a){return pa(t,e.child,null,a),e=ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wf(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),xo(e.return,t,a)}function su(e,t,a,s,u,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:u,treeForkCount:d}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=a,v.tailMode=u,v.treeForkCount=d)}function Sf(e,t,a){var s=t.pendingProps,u=s.revealOrder,d=s.tail;s=s.children;var v=$e.current,b=(v&2)!==0;if(b?(v=v&1|2,t.flags|=128):v&=1,P($e,v),nt(e,t,s,a),s=ye?Yr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wf(e,a,t);else if(e.tag===19)wf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&gs(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),su(t,!1,u,a,d,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&gs(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}su(t,!0,a,null,d,s);break;case"together":su(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function fn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ka(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ln(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ln(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function lu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&os(e)))}function $y(e,t,a){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),kn(t,Ve,e.memoizedState.cache),ua();break;case 27:case 5:Cr(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ko(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(zn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?_f(e,t,a):(zn(t),e=fn(e,t,a),e!==null?e.sibling:null);zn(t);break;case 19:var u=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Ka(e,t,a,!1),s=(a&t.childLanes)!==0),u){if(s)return Sf(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),P($e,$e.current),s)break;return null;case 22:return t.lanes=0,pf(e,t,a,t.pendingProps);case 24:kn(t,Ve,e.memoizedState.cache)}return fn(e,t,a)}function Ef(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!lu(e,a)&&(t.flags&128)===0)return Ye=!1,$y(e,t,a);Ye=(e.flags&131072)!==0}else Ye=!1,ye&&(t.flags&1048576)!==0&&th(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=fa(t.elementType),t.type=e,typeof e=="function")ho(e)?(s=va(e,s),t.tag=1,t=bf(null,t,e,s,a)):(t.tag=0,t=eu(null,t,e,s,a));else{if(e!=null){var u=e.$$typeof;if(u===Y){t.tag=11,t=hf(null,t,e,s,a);break e}else if(u===Q){t.tag=14,t=ff(null,t,e,s,a);break e}}throw t=ct(e)||e,Error(l(306,t,""))}}return t;case 0:return eu(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,u=va(s,t.pendingProps),bf(e,t,s,u,a);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;u=d.element,No(e,t),Wr(t,s,null,a);var v=t.memoizedState;if(s=v.cache,kn(t,Ve,s),s!==d.cache&&_o(t,[Ve],a,!0),Fr(),s=v.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=xf(e,t,s,a);break e}else if(s!==u){u=Lt(Error(l(424)),t),Ir(u),t=xf(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Gt(e.firstChild),et=t,ye=!0,Cn=null,$t=!0,a=mh(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ua(),s===u){t=fn(e,t,a);break e}nt(e,t,s,a)}t=t.child}return t;case 26:return Ns(e,t),e===null?(a=Mm(t.type,null,t.pendingProps,null))?t.memoizedState=a:ye||(a=t.type,e=t.pendingProps,s=Ps(de.current).createElement(a),s[We]=t,s[dt]=e,at(s,a,e),Xe(s),t.stateNode=s):t.memoizedState=Mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Cr(t),e===null&&ye&&(s=t.stateNode=km(t.type,t.pendingProps,de.current),et=t,$t=!0,u=ke,Yn(t.type)?($u=u,ke=Gt(s.firstChild)):ke=u),nt(e,t,t.pendingProps.children,a),Ns(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((u=s=ke)&&(s=gb(s,t.type,t.pendingProps,$t),s!==null?(t.stateNode=s,et=t,ke=Gt(s.firstChild),$t=!1,u=!0):u=!1),u||Rn(t)),Cr(t),u=t.type,d=t.pendingProps,v=e!==null?e.memoizedProps:null,s=d.children,Mu(u,d)?s=null:v!==null&&Mu(u,v)&&(t.flags|=32),t.memoizedState!==null&&(u=Uo(e,t,Ry,null,null,a),bi._currentValue=u),Ns(e,t),nt(e,t,s,a),t.child;case 6:return e===null&&ye&&((e=a=ke)&&(a=vb(a,t.pendingProps,$t),a!==null?(t.stateNode=a,et=t,ke=null,e=!0):e=!1),e||Rn(t)),null;case 13:return _f(e,t,a);case 4:return ot(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=pa(t,null,s,a):nt(e,t,s,a),t.child;case 11:return hf(e,t,t.type,t.pendingProps,a);case 7:return nt(e,t,t.pendingProps,a),t.child;case 8:return nt(e,t,t.pendingProps.children,a),t.child;case 12:return nt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,kn(t,t.type,s.value),nt(e,t,s.children,a),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,da(t),u=tt(u),s=s(u),t.flags|=1,nt(e,t,s,a),t.child;case 14:return ff(e,t,t.type,t.pendingProps,a);case 15:return mf(e,t,t.type,t.pendingProps,a);case 19:return Sf(e,t,a);case 31:return Hy(e,t,a);case 22:return pf(e,t,a,t.pendingProps);case 24:return da(t),s=tt(Ve),e===null?(u=Eo(),u===null&&(u=Ae,d=wo(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=a),u=d),t.memoizedState={parent:s,cache:u},To(t),kn(t,Ve,u)):((e.lanes&a)!==0&&(No(e,t),Wr(t,null,null,a),Fr()),u=e.memoizedState,d=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),kn(t,Ve,s)):(s=d.cache,kn(t,Ve,s),s!==u.cache&&_o(t,[Ve],a,!0))),nt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function mn(e){e.flags|=4}function ou(e,t,a,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Zf())e.flags|=8192;else throw ma=hs,jo}else e.flags&=-16777217}function jf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$m(t))if(Zf())e.flags|=8192;else throw ma=hs,jo}function As(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ad():536870912,e.lanes|=t,ir|=t)}function ii(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function qy(e,t,a){var s=t.pendingProps;switch(go(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),cn(Ve),He(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?mn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yo())),De(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(mn(t),d!==null?(De(t),jf(t,d)):(De(t),ou(t,u,null,s,a))):d?d!==e.memoizedState?(mn(t),De(t),jf(t,d)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&mn(t),De(t),ou(t,u,e,s,a)),null;case 27:if($i(t),a=de.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&mn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return De(t),null}e=I.current,Ia(t)?ah(t):(e=km(u,s,a),t.stateNode=e,mn(t))}return De(t),null;case 5:if($i(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&mn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return De(t),null}if(d=I.current,Ia(t))ah(t);else{var v=Ps(de.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?v.createElement("select",{is:s.is}):v.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?v.createElement(u,{is:s.is}):v.createElement(u)}}d[We]=t,d[dt]=s;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=d;e:switch(at(d,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mn(t)}}return De(t),ou(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&mn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=de.current,Ia(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,u=et,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[We]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||_m(e.nodeValue,a)),e||Rn(t,!0)}else e=Ps(e).createTextNode(s),e[We]=t,t.stateNode=e}return De(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ia(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[We]=t}else ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else a=yo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return De(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ia(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[We]=t}else ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),u=!1}else u=yo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),As(t,t.updateQueue),De(t),null);case 4:return He(),e===null&&Cu(t.stateNode.containerInfo),De(t),null;case 10:return cn(t.type),De(t),null;case 19:if(B($e),s=t.memoizedState,s===null)return De(t),null;if(u=(t.flags&128)!==0,d=s.rendering,d===null)if(u)ii(s,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=gs(e),d!==null){for(t.flags|=128,ii(s,!1),e=d.updateQueue,t.updateQueue=e,As(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Fd(a,e),a=a.sibling;return P($e,$e.current&1|2),ye&&on(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&xt()>Us&&(t.flags|=128,u=!0,ii(s,!1),t.lanes=4194304)}else{if(!u)if(e=gs(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,As(t,e),ii(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!ye)return De(t),null}else 2*xt()-s.renderingStartTime>Us&&a!==536870912&&(t.flags|=128,u=!0,ii(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xt(),e.sibling=null,a=$e.current,P($e,u?a&1|2:a&1),ye&&on(t,s.treeForkCount),e):(De(t),null);case 22:case 23:return Tt(t),Ro(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),a=t.updateQueue,a!==null&&As(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&B(ha),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),cn(Ve),De(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Gy(e,t){switch(go(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(Ve),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $i(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(l(340));ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B($e),null;case 4:return He(),null;case 10:return cn(t.type),null;case 22:case 23:return Tt(t),Ro(),e!==null&&B(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cn(Ve),null;case 25:return null;default:return null}}function Tf(e,t){switch(go(t),t.tag){case 3:cn(Ve),He();break;case 26:case 27:case 5:$i(t);break;case 4:He();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:B($e);break;case 10:cn(t.type);break;case 22:case 23:Tt(t),Ro(),e!==null&&B(ha);break;case 24:cn(Ve)}}function si(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){s=void 0;var d=a.create,v=a.inst;s=d(),v.destroy=s}a=a.next}while(a!==u)}}catch(b){je(t,t.return,b)}}function Bn(e,t,a){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&e)===e){var v=s.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,u=t;var N=a,U=b;try{U()}catch($){je(u,N,$)}}}s=s.next}while(s!==d)}}catch($){je(t,t.return,$)}}function Nf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{gh(t,a)}catch(s){je(e,e.return,s)}}}function Of(e,t,a){a.props=va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){je(e,t,s)}}function li(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(u){je(e,t,u)}}function en(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(u){je(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){je(e,t,u)}else a.current=null}function Af(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(u){je(e,e.return,u)}}function uu(e,t,a){try{var s=e.stateNode;cb(s,e.type,a,t),s[dt]=t}catch(u){je(e,e.return,u)}}function Cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yn(e.type)||e.tag===4}function cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=rn));else if(s!==4&&(s===27&&Yn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(du(e,t,a),e=e.sibling;e!==null;)du(e,t,a),e=e.sibling}function Cs(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Yn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Cs(e,t,a),e=e.sibling;e!==null;)Cs(e,t,a),e=e.sibling}function Rf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);at(t,s,a),t[We]=e,t[dt]=a}catch(d){je(e,e.return,d)}}var pn=!1,Ie=!1,hu=!1,kf=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Vy(e,t){if(e=e.containerInfo,Du=Zs,e=Vd(e),ro(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var u=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,N=-1,U=0,$=0,V=e,z=null;t:for(;;){for(var L;V!==a||u!==0&&V.nodeType!==3||(b=v+u),V!==d||s!==0&&V.nodeType!==3||(N=v+s),V.nodeType===3&&(v+=V.nodeValue.length),(L=V.firstChild)!==null;)z=V,V=L;for(;;){if(V===e)break t;if(z===a&&++U===u&&(b=v),z===d&&++$===s&&(N=v),(L=V.nextSibling)!==null)break;V=z,z=V.parentNode}V=L}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uu={focusedElem:e,selectionRange:a},Zs=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,u=d.memoizedProps,d=d.memoizedState,s=a.stateNode;try{var J=va(a.type,u);e=s.getSnapshotBeforeUpdate(J,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){je(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Lu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Df(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:vn(e,a),s&4&&si(5,a);break;case 1:if(vn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(v){je(a,a.return,v)}else{var u=va(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){je(a,a.return,v)}}s&64&&Nf(a),s&512&&li(a,a.return);break;case 3:if(vn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{gh(e,t)}catch(v){je(a,a.return,v)}}break;case 27:t===null&&s&4&&Rf(a);case 26:case 5:vn(e,a),t===null&&s&4&&Af(a),s&512&&li(a,a.return);break;case 12:vn(e,a);break;case 31:vn(e,a),s&4&&zf(e,a);break;case 13:vn(e,a),s&4&&Lf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Fy.bind(null,a),yb(e,a))));break;case 22:if(s=a.memoizedState!==null||pn,!s){t=t!==null&&t.memoizedState!==null||Ie,u=pn;var d=Ie;pn=s,(Ie=t)&&!d?yn(e,a,(a.subtreeFlags&8772)!==0):vn(e,a),pn=u,Ie=d}break;case 30:break;default:vn(e,a)}}function Uf(e){var t=e.alternate;t!==null&&(e.alternate=null,Uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ql(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,ft=!1;function gn(e,t,a){for(a=a.child;a!==null;)Mf(e,t,a),a=a.sibling}function Mf(e,t,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Rr,a)}catch{}switch(a.tag){case 26:Ie||en(a,t),gn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||en(a,t);var s=Ue,u=ft;Yn(a.type)&&(Ue=a.stateNode,ft=!1),gn(e,t,a),gi(a.stateNode),Ue=s,ft=u;break;case 5:Ie||en(a,t);case 6:if(s=Ue,u=ft,Ue=null,gn(e,t,a),Ue=s,ft=u,Ue!==null)if(ft)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(a.stateNode)}catch(d){je(a,t,d)}else try{Ue.removeChild(a.stateNode)}catch(d){je(a,t,d)}break;case 18:Ue!==null&&(ft?(e=Ue,Nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fr(e)):Nm(Ue,a.stateNode));break;case 4:s=Ue,u=ft,Ue=a.stateNode.containerInfo,ft=!0,gn(e,t,a),Ue=s,ft=u;break;case 0:case 11:case 14:case 15:Bn(2,a,t),Ie||Bn(4,a,t),gn(e,t,a);break;case 1:Ie||(en(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Of(a,t,s)),gn(e,t,a);break;case 21:gn(e,t,a);break;case 22:Ie=(s=Ie)||a.memoizedState!==null,gn(e,t,a),Ie=s;break;default:gn(e,t,a)}}function zf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fr(e)}catch(a){je(t,t.return,a)}}}function Lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fr(e)}catch(a){je(t,t.return,a)}}function Py(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kf),t;default:throw Error(l(435,e.tag))}}function Rs(e,t){var a=Py(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var u=Wy.bind(null,e,s);s.then(u,u)}})}function mt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var u=a[s],d=e,v=t,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Yn(b.type)){Ue=b.stateNode,ft=!1;break e}break;case 5:Ue=b.stateNode,ft=!1;break e;case 3:case 4:Ue=b.stateNode.containerInfo,ft=!0;break e}b=b.return}if(Ue===null)throw Error(l(160));Mf(d,v,u),Ue=null,ft=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Bf(t,e),t=t.sibling}var Yt=null;function Bf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(t,e),pt(e),s&4&&(Bn(3,e,e.return),si(3,e),Bn(5,e,e.return));break;case 1:mt(t,e),pt(e),s&512&&(Ie||a===null||en(a,a.return)),s&64&&pn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var u=Yt;if(mt(t,e),pt(e),s&512&&(Ie||a===null||en(a,a.return)),s&4){var d=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Ur]||d[We]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(s),u.head.insertBefore(d,u.querySelector("head > title"))),at(d,s,a),d[We]=e,Xe(d),s=d;break e;case"link":var v=Bm("link","href",u).get(s+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=u.createElement(s),at(d,s,a),u.head.appendChild(d);break;case"meta":if(v=Bm("meta","content",u).get(s+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=u.createElement(s),at(d,s,a),u.head.appendChild(d);break;default:throw Error(l(468,s))}d[We]=e,Xe(d),s=d}e.stateNode=s}else Hm(u,e.type,e.stateNode);else e.stateNode=Lm(u,s,e.memoizedProps);else d!==s?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,s===null?Hm(u,e.type,e.stateNode):Lm(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&uu(e,e.memoizedProps,a.memoizedProps)}break;case 27:mt(t,e),pt(e),s&512&&(Ie||a===null||en(a,a.return)),a!==null&&s&4&&uu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mt(t,e),pt(e),s&512&&(Ie||a===null||en(a,a.return)),e.flags&32){u=e.stateNode;try{za(u,"")}catch(J){je(e,e.return,J)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,uu(e,u,a!==null?a.memoizedProps:u)),s&1024&&(hu=!0);break;case 6:if(mt(t,e),pt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(J){je(e,e.return,J)}}break;case 3:if(Ks=null,u=Yt,Yt=Ys(t.containerInfo),mt(t,e),Yt=u,pt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{fr(t.containerInfo)}catch(J){je(e,e.return,J)}hu&&(hu=!1,Hf(e));break;case 4:s=Yt,Yt=Ys(e.stateNode.containerInfo),mt(t,e),pt(e),Yt=s;break;case 12:mt(t,e),pt(e);break;case 31:mt(t,e),pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Rs(e,s)));break;case 13:mt(t,e),pt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ds=xt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Rs(e,s)));break;case 22:u=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,U=pn,$=Ie;if(pn=U||u,Ie=$||N,mt(t,e),Ie=$,pn=U,pt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||N||pn||Ie||ya(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){N=a=t;try{if(d=N.stateNode,u)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=N.stateNode;var V=N.memoizedProps.style,z=V!=null&&V.hasOwnProperty("display")?V.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(J){je(N,N.return,J)}}}else if(t.tag===6){if(a===null){N=t;try{N.stateNode.nodeValue=u?"":N.memoizedProps}catch(J){je(N,N.return,J)}}}else if(t.tag===18){if(a===null){N=t;try{var L=N.stateNode;u?Om(L,!0):Om(N.stateNode,!1)}catch(J){je(N,N.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Rs(e,a))));break;case 19:mt(t,e),pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Rs(e,s)));break;case 30:break;case 21:break;default:mt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Cf(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,d=cu(e);Cs(e,d,u);break;case 5:var v=a.stateNode;a.flags&32&&(za(v,""),a.flags&=-33);var b=cu(e);Cs(e,b,v);break;case 3:case 4:var N=a.stateNode.containerInfo,U=cu(e);du(e,U,N);break;default:throw Error(l(161))}}catch($){je(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Df(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bn(4,t,t.return),ya(t);break;case 1:en(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Of(t,t.return,a),ya(t);break;case 27:gi(t.stateNode);case 26:case 5:en(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function yn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,d=t,v=d.flags;switch(d.tag){case 0:case 11:case 15:yn(u,d,a),si(4,d);break;case 1:if(yn(u,d,a),s=d,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(U){je(s,s.return,U)}if(s=d,u=s.updateQueue,u!==null){var b=s.stateNode;try{var N=u.shared.hiddenCallbacks;if(N!==null)for(u.shared.hiddenCallbacks=null,u=0;u<N.length;u++)ph(N[u],b)}catch(U){je(s,s.return,U)}}a&&v&64&&Nf(d),li(d,d.return);break;case 27:Rf(d);case 26:case 5:yn(u,d,a),a&&s===null&&v&4&&Af(d),li(d,d.return);break;case 12:yn(u,d,a);break;case 31:yn(u,d,a),a&&v&4&&zf(u,d);break;case 13:yn(u,d,a),a&&v&4&&Lf(u,d);break;case 22:d.memoizedState===null&&yn(u,d,a),li(d,d.return);break;case 30:break;default:yn(u,d,a)}t=t.sibling}}function fu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Kr(a))}function mu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kr(e))}function It(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$f(e,t,a,s),t=t.sibling}function $f(e,t,a,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,s),u&2048&&si(9,t);break;case 1:It(e,t,a,s);break;case 3:It(e,t,a,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kr(e)));break;case 12:if(u&2048){It(e,t,a,s),e=t.stateNode;try{var d=t.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){je(t,t.return,N)}}else It(e,t,a,s);break;case 31:It(e,t,a,s);break;case 13:It(e,t,a,s);break;case 23:break;case 22:d=t.stateNode,v=t.alternate,t.memoizedState!==null?d._visibility&2?It(e,t,a,s):oi(e,t):d._visibility&2?It(e,t,a,s):(d._visibility|=2,nr(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&fu(v,t);break;case 24:It(e,t,a,s),u&2048&&mu(t.alternate,t);break;default:It(e,t,a,s)}}function nr(e,t,a,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,v=t,b=a,N=s,U=v.flags;switch(v.tag){case 0:case 11:case 15:nr(d,v,b,N,u),si(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?nr(d,v,b,N,u):oi(d,v):($._visibility|=2,nr(d,v,b,N,u)),u&&U&2048&&fu(v.alternate,v);break;case 24:nr(d,v,b,N,u),u&&U&2048&&mu(v.alternate,v);break;default:nr(d,v,b,N,u)}t=t.sibling}}function oi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,u=s.flags;switch(s.tag){case 22:oi(a,s),u&2048&&fu(s.alternate,s);break;case 24:oi(a,s),u&2048&&mu(s.alternate,s);break;default:oi(a,s)}t=t.sibling}}var ui=8192;function ar(e,t,a){if(e.subtreeFlags&ui)for(e=e.child;e!==null;)qf(e,t,a),e=e.sibling}function qf(e,t,a){switch(e.tag){case 26:ar(e,t,a),e.flags&ui&&e.memoizedState!==null&&Cb(a,Yt,e.memoizedState,e.memoizedProps);break;case 5:ar(e,t,a);break;case 3:case 4:var s=Yt;Yt=Ys(e.stateNode.containerInfo),ar(e,t,a),Yt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ui,ui=16777216,ar(e,t,a),ui=s):ar(e,t,a));break;default:ar(e,t,a)}}function Gf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ci(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Ze=s,Pf(s,e)}Gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vf(e),e=e.sibling}function Vf(e){switch(e.tag){case 0:case 11:case 15:ci(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:ci(e);break;case 12:ci(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ks(e)):ci(e);break;default:ci(e)}}function ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Ze=s,Pf(s,e)}Gf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bn(8,t,t.return),ks(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ks(t));break;default:ks(t)}e=e.sibling}}function Pf(e,t){for(;Ze!==null;){var a=Ze;switch(a.tag){case 0:case 11:case 15:Bn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Kr(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Ze=s;else e:for(a=e;Ze!==null;){s=Ze;var u=s.sibling,d=s.return;if(Uf(s),s===a){Ze=null;break e}if(u!==null){u.return=d,Ze=u;break e}Ze=d}}}var Yy={getCacheForType:function(e){var t=tt(Ve),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return tt(Ve).controller.signal}},Iy=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ae=null,he=null,pe=0,Ee=0,Nt=null,Hn=!1,rr=!1,pu=!1,bn=0,Be=0,$n=0,ba=0,gu=0,Ot=0,ir=0,di=null,gt=null,vu=!1,Ds=0,Yf=0,Us=1/0,Ms=null,qn=null,Qe=0,Gn=null,sr=null,xn=0,yu=0,bu=null,If=null,hi=0,xu=null;function At(){return(_e&2)!==0&&pe!==0?pe&-pe:H.T!==null?Tu():ld()}function Kf(){if(Ot===0)if((pe&536870912)===0||ye){var e=Vi;Vi<<=1,(Vi&3932160)===0&&(Vi=262144),Ot=e}else Ot=536870912;return e=jt.current,e!==null&&(e.flags|=32),Ot}function vt(e,t,a){(e===Ae&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(lr(e,0),Vn(e,pe,Ot,!1)),Dr(e,a),((_e&2)===0||e!==Ae)&&(e===Ae&&((_e&2)===0&&(ba|=a),Be===4&&Vn(e,pe,Ot,!1)),tn(e))}function Qf(e,t,a){if((_e&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||kr(e,t),u=s?Jy(e,t):wu(e,t,!0),d=s;do{if(u===0){rr&&!s&&Vn(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Ky(a)){u=wu(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var b=e;u=di;var N=b.current.memoizedState.isDehydrated;if(N&&(lr(b,v).flags|=256),v=wu(b,v,!1),v!==2){if(pu&&!N){b.errorRecoveryDisabledLanes|=d,ba|=d,u=4;break e}d=gt,gt=u,d!==null&&(gt===null?gt=d:gt.push.apply(gt,d))}u=v}if(d=!1,u!==2)continue}}if(u===1){lr(e,0),Vn(e,t,0,!0);break}e:{switch(s=e,d=u,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Vn(s,t,Ot,!Hn);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=Ds+300-xt(),10<u)){if(Vn(s,t,Ot,!Hn),Yi(s,0,!0)!==0)break e;xn=t,s.timeoutHandle=jm(Jf.bind(null,s,a,gt,Ms,vu,t,Ot,ba,ir,Hn,d,"Throttled",-0,0),u);break e}Jf(s,a,gt,Ms,vu,t,Ot,ba,ir,Hn,d,null,-0,0)}}break}while(!0);tn(e)}function Jf(e,t,a,s,u,d,v,b,N,U,$,V,z,L){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},qf(t,d,V);var J=(d&62914560)===d?Ds-xt():(d&4194048)===d?Yf-xt():0;if(J=Rb(V,J),J!==null){xn=d,e.cancelPendingCommit=J(am.bind(null,e,t,d,a,s,u,v,b,N,$,V,null,z,L)),Vn(e,d,v,!U);return}}am(e,t,d,a,s,u,v,b,N)}function Ky(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var u=a[s],d=u.getSnapshot;u=u.value;try{if(!St(d(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t,a,s){t&=~gu,t&=~ba,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var d=31-wt(u),v=1<<d;s[d]=-1,u&=~v}a!==0&&rd(e,a,t)}function zs(){return(_e&6)===0?(fi(0),!1):!0}function _u(){if(he!==null){if(Ee===0)var e=he.return;else e=he,un=ca=null,Lo(e),Za=null,Jr=0,e=he;for(;e!==null;)Tf(e.alternate,e),e=e.return;he=null}}function lr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,fb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xn=0,_u(),Ae=e,he=a=ln(e.current,null),pe=t,Ee=0,Nt=null,Hn=!1,rr=kr(e,t),pu=!1,ir=Ot=gu=ba=$n=Be=0,gt=di=null,vu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-wt(s),d=1<<u;t|=e[u],s&=~d}return bn=t,as(),a}function Xf(e,t){ue=null,H.H=ai,t===Xa||t===ds?(t=dh(),Ee=3):t===jo?(t=dh(),Ee=4):Ee=t===Wo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Nt=t,he===null&&(Be=1,js(e,Lt(t,e.current)))}function Zf(){var e=jt.current;return e===null?!0:(pe&4194048)===pe?qt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===qt:!1}function Ff(){var e=H.H;return H.H=ai,e===null?ai:e}function Wf(){var e=H.A;return H.A=Yy,e}function Ls(){Be=4,Hn||(pe&4194048)!==pe&&jt.current!==null||(rr=!0),($n&134217727)===0&&(ba&134217727)===0||Ae===null||Vn(Ae,pe,Ot,!1)}function wu(e,t,a){var s=_e;_e|=2;var u=Ff(),d=Wf();(Ae!==e||pe!==t)&&(Ms=null,lr(e,t)),t=!1;var v=Be;e:do try{if(Ee!==0&&he!==null){var b=he,N=Nt;switch(Ee){case 8:_u(),v=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(t=!0);var U=Ee;if(Ee=0,Nt=null,or(e,b,N,U),a&&rr){v=0;break e}break;default:U=Ee,Ee=0,Nt=null,or(e,b,N,U)}}Qy(),v=Be;break}catch($){Xf(e,$)}while(!0);return t&&e.shellSuspendCounter++,un=ca=null,_e=s,H.H=u,H.A=d,he===null&&(Ae=null,pe=0,as()),v}function Qy(){for(;he!==null;)em(he)}function Jy(e,t){var a=_e;_e|=2;var s=Ff(),u=Wf();Ae!==e||pe!==t?(Ms=null,Us=xt()+500,lr(e,t)):rr=kr(e,t);e:do try{if(Ee!==0&&he!==null){t=he;var d=Nt;t:switch(Ee){case 1:Ee=0,Nt=null,or(e,t,d,1);break;case 2:case 9:if(uh(d)){Ee=0,Nt=null,tm(t);break}t=function(){Ee!==2&&Ee!==9||Ae!==e||(Ee=7),tn(e)},d.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:uh(d)?(Ee=0,Nt=null,tm(t)):(Ee=0,Nt=null,or(e,t,d,7));break;case 5:var v=null;switch(he.tag){case 26:v=he.memoizedState;case 5:case 27:var b=he;if(v?$m(v):b.stateNode.complete){Ee=0,Nt=null;var N=b.sibling;if(N!==null)he=N;else{var U=b.return;U!==null?(he=U,Bs(U)):he=null}break t}}Ee=0,Nt=null,or(e,t,d,5);break;case 6:Ee=0,Nt=null,or(e,t,d,6);break;case 8:_u(),Be=6;break e;default:throw Error(l(462))}}Xy();break}catch($){Xf(e,$)}while(!0);return un=ca=null,H.H=s,H.A=u,_e=a,he!==null?0:(Ae=null,pe=0,as(),Be)}function Xy(){for(;he!==null&&!bv();)em(he)}function em(e){var t=Ef(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?Bs(e):he=t}function tm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=yf(a,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=yf(a,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:Lo(t);default:Tf(a,t),t=he=Fd(t,bn),t=Ef(a,t,bn)}e.memoizedProps=e.pendingProps,t===null?Bs(e):he=t}function or(e,t,a,s){un=ca=null,Lo(t),Za=null,Jr=0;var u=t.return;try{if(By(e,u,t,a,pe)){Be=1,js(e,Lt(a,e.current)),he=null;return}}catch(d){if(u!==null)throw he=u,d;Be=1,js(e,Lt(a,e.current)),he=null;return}t.flags&32768?(ye||s===1?e=!0:rr||(pe&536870912)!==0?e=!1:(Hn=e=!0,(s===2||s===9||s===3||s===6)&&(s=jt.current,s!==null&&s.tag===13&&(s.flags|=16384))),nm(t,e)):Bs(t)}function Bs(e){var t=e;do{if((t.flags&32768)!==0){nm(t,Hn);return}e=t.return;var a=qy(t.alternate,t,bn);if(a!==null){he=a;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);Be===0&&(Be=5)}function nm(e,t){do{var a=Gy(e.alternate,e);if(a!==null){a.flags&=32767,he=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=a}while(e!==null);Be=6,he=null}function am(e,t,a,s,u,d,v,b,N){e.cancelPendingCommit=null;do Hs();while(Qe!==0);if((_e&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=uo,Av(e,a,d,v,b,N),e===Ae&&(he=Ae=null,pe=0),sr=t,Gn=e,xn=a,yu=d,bu=u,If=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,eb(qi,function(){return om(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,u=K.p,K.p=2,v=_e,_e|=4;try{Vy(e,t,a)}finally{_e=v,K.p=u,H.T=s}}Qe=1,rm(),im(),sm()}}function rm(){if(Qe===1){Qe=0;var e=Gn,t=sr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var s=K.p;K.p=2;var u=_e;_e|=4;try{Bf(t,e);var d=Uu,v=Vd(e.containerInfo),b=d.focusedElem,N=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Gd(b.ownerDocument.documentElement,b)){if(N!==null&&ro(b)){var U=N.start,$=N.end;if($===void 0&&($=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min($,b.value.length);else{var V=b.ownerDocument||document,z=V&&V.defaultView||window;if(z.getSelection){var L=z.getSelection(),J=b.textContent.length,ie=Math.min(N.start,J),Oe=N.end===void 0?ie:Math.min(N.end,J);!L.extend&&ie>Oe&&(v=Oe,Oe=ie,ie=v);var C=qd(b,ie),A=qd(b,Oe);if(C&&A&&(L.rangeCount!==1||L.anchorNode!==C.node||L.anchorOffset!==C.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var D=V.createRange();D.setStart(C.node,C.offset),L.removeAllRanges(),ie>Oe?(L.addRange(D),L.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),L.addRange(D))}}}}for(V=[],L=b;L=L.parentNode;)L.nodeType===1&&V.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<V.length;b++){var G=V[b];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Zs=!!Du,Uu=Du=null}finally{_e=u,K.p=s,H.T=a}}e.current=t,Qe=2}}function im(){if(Qe===2){Qe=0;var e=Gn,t=sr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var s=K.p;K.p=2;var u=_e;_e|=4;try{Df(e,t.alternate,t)}finally{_e=u,K.p=s,H.T=a}}Qe=3}}function sm(){if(Qe===4||Qe===3){Qe=0,xv();var e=Gn,t=sr,a=xn,s=If;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qe=5:(Qe=0,sr=Gn=null,lm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(qn=null),Hl(a),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Rr,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=H.T,u=K.p,K.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<s.length;v++){var b=s[v];d(b.value,{componentStack:b.stack})}}finally{H.T=t,K.p=u}}(xn&3)!==0&&Hs(),tn(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===xu?hi++:(hi=0,xu=e):hi=0,fi(0)}}function lm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Kr(t)))}function Hs(){return rm(),im(),sm(),om()}function om(){if(Qe!==5)return!1;var e=Gn,t=yu;yu=0;var a=Hl(xn),s=H.T,u=K.p;try{K.p=32>a?32:a,H.T=null,a=bu,bu=null;var d=Gn,v=xn;if(Qe=0,sr=Gn=null,xn=0,(_e&6)!==0)throw Error(l(331));var b=_e;if(_e|=4,Vf(d.current),$f(d,d.current,v,a),_e=b,fi(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Rr,d)}catch{}return!0}finally{K.p=u,H.T=s,lm(e,t)}}function um(e,t,a){t=Lt(a,t),t=Fo(e.stateNode,t,2),e=Mn(e,t,2),e!==null&&(Dr(e,2),tn(e))}function je(e,t,a){if(e.tag===3)um(e,e,a);else for(;t!==null;){if(t.tag===3){um(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))){e=Lt(a,e),a=cf(2),s=Mn(t,a,2),s!==null&&(df(a,s,t,e),Dr(s,2),tn(s));break}}t=t.return}}function Su(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Iy;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(a)||(pu=!0,u.add(a),e=Zy.bind(null,e,t,a),t.then(e,e))}function Zy(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ae===e&&(pe&a)===a&&(Be===4||Be===3&&(pe&62914560)===pe&&300>xt()-Ds?(_e&2)===0&&lr(e,0):gu|=a,ir===pe&&(ir=0)),tn(e)}function cm(e,t){t===0&&(t=ad()),e=la(e,t),e!==null&&(Dr(e,t),tn(e))}function Fy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),cm(e,a)}function Wy(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),cm(e,a)}function eb(e,t){return Ml(e,t)}var $s=null,ur=null,Eu=!1,qs=!1,ju=!1,Pn=0;function tn(e){e!==ur&&e.next===null&&(ur===null?$s=ur=e:ur=ur.next=e),qs=!0,Eu||(Eu=!0,nb())}function fi(e,t){if(!ju&&qs){ju=!0;do for(var a=!1,s=$s;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var d=0;else{var v=s.suspendedLanes,b=s.pingedLanes;d=(1<<31-wt(42|e)+1)-1,d&=u&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,mm(s,d))}else d=pe,d=Yi(s,s===Ae?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||kr(s,d)||(a=!0,mm(s,d));s=s.next}while(a);ju=!1}}function tb(){dm()}function dm(){qs=Eu=!1;var e=0;Pn!==0&&hb()&&(e=Pn);for(var t=xt(),a=null,s=$s;s!==null;){var u=s.next,d=hm(s,t);d===0?(s.next=null,a===null?$s=u:a.next=u,u===null&&(ur=a)):(a=s,(e!==0||(d&3)!==0)&&(qs=!0)),s=u}Qe!==0&&Qe!==5||fi(e),Pn!==0&&(Pn=0)}function hm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-wt(d),b=1<<v,N=u[v];N===-1?((b&a)===0||(b&s)!==0)&&(u[v]=Ov(b,t)):N<=t&&(e.expiredLanes|=b),d&=~b}if(t=Ae,a=pe,a=Yi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&zl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||kr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&zl(s),Hl(a)){case 2:case 8:a=td;break;case 32:a=qi;break;case 268435456:a=nd;break;default:a=qi}return s=fm.bind(null,e),a=Ml(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&zl(s),e.callbackPriority=2,e.callbackNode=null,2}function fm(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Hs()&&e.callbackNode!==a)return null;var s=pe;return s=Yi(e,e===Ae?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Qf(e,s,t),hm(e,xt()),e.callbackNode!=null&&e.callbackNode===a?fm.bind(null,e):null)}function mm(e,t){if(Hs())return null;Qf(e,t,!0)}function nb(){mb(function(){(_e&6)!==0?Ml(ed,tb):dm()})}function Tu(){if(Pn===0){var e=Qa;e===0&&(e=Gi,Gi<<=1,(Gi&261888)===0&&(Gi=256)),Pn=e}return Pn}function pm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ji(""+e)}function gm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ab(e,t,a,s,u){if(t==="submit"&&a&&a.stateNode===u){var d=pm((u[dt]||null).action),v=s.submitter;v&&(t=(t=v[dt]||null)?pm(t.formAction):v.getAttribute("formAction"),t!==null&&(d=t,v=null));var b=new Wi("action","action",null,s,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Pn!==0){var N=v?gm(u,v):new FormData(u);Io(a,{pending:!0,data:N,method:u.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=v?gm(u,v):new FormData(u),Io(a,{pending:!0,data:N,method:u.method,action:d},d,N))},currentTarget:u}]})}}for(var Nu=0;Nu<oo.length;Nu++){var Ou=oo[Nu],rb=Ou.toLowerCase(),ib=Ou[0].toUpperCase()+Ou.slice(1);Pt(rb,"on"+ib)}Pt(Id,"onAnimationEnd"),Pt(Kd,"onAnimationIteration"),Pt(Qd,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(_y,"onTransitionRun"),Pt(wy,"onTransitionStart"),Pt(Sy,"onTransitionCancel"),Pt(Jd,"onTransitionEnd"),Ua("onMouseEnter",["mouseout","mouseover"]),Ua("onMouseLeave",["mouseout","mouseover"]),Ua("onPointerEnter",["pointerout","pointerover"]),Ua("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mi));function vm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],u=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var v=s.length-1;0<=v;v--){var b=s[v],N=b.instance,U=b.currentTarget;if(b=b.listener,N!==d&&u.isPropagationStopped())break e;d=b,u.currentTarget=U;try{d(u)}catch($){ns($)}u.currentTarget=null,d=N}else for(v=0;v<s.length;v++){if(b=s[v],N=b.instance,U=b.currentTarget,b=b.listener,N!==d&&u.isPropagationStopped())break e;d=b,u.currentTarget=U;try{d(u)}catch($){ns($)}u.currentTarget=null,d=N}}}}function fe(e,t){var a=t[$l];a===void 0&&(a=t[$l]=new Set);var s=e+"__bubble";a.has(s)||(ym(t,e,2,!1),a.add(s))}function Au(e,t,a){var s=0;t&&(s|=4),ym(a,e,s,t)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function Cu(e){if(!e[Gs]){e[Gs]=!0,cd.forEach(function(a){a!=="selectionchange"&&(sb.has(a)||Au(a,!1,e),Au(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gs]||(t[Gs]=!0,Au("selectionchange",!1,t))}}function ym(e,t,a,s){switch(Km(t)){case 2:var u=Ub;break;case 8:u=Mb;break;default:u=Yu}a=u.bind(null,t,a,e),u=void 0,!Jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Ru(e,t,a,s,u){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var b=s.stateNode.containerInfo;if(b===u)break;if(v===4)for(v=s.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;b!==null;){if(v=Ra(b),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){s=d=v;continue e}b=b.parentNode}}s=s.return}wd(function(){var U=d,$=Kl(a),V=[];e:{var z=Xd.get(e);if(z!==void 0){var L=Wi,J=e;switch(e){case"keypress":if(Zi(a)===0)break e;case"keydown":case"keyup":L=Wv;break;case"focusin":J="focus",L=Wl;break;case"focusout":J="blur",L=Wl;break;case"beforeblur":case"afterblur":L=Wl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=ny;break;case Id:case Kd:case Qd:L=Pv;break;case Jd:L=ry;break;case"scroll":case"scrollend":L=Hv;break;case"wheel":L=sy;break;case"copy":case"cut":case"paste":L=Iv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Nd;break;case"toggle":case"beforetoggle":L=oy}var ie=(t&4)!==0,Oe=!ie&&(e==="scroll"||e==="scrollend"),C=ie?z!==null?z+"Capture":null:z;ie=[];for(var A=U,D;A!==null;){var G=A;if(D=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||D===null||C===null||(G=zr(A,C),G!=null&&ie.push(pi(A,G,D))),Oe)break;A=A.return}0<ie.length&&(z=new L(z,J,null,a,$),V.push({event:z,listeners:ie}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",z&&a!==Il&&(J=a.relatedTarget||a.fromElement)&&(Ra(J)||J[Ca]))break e;if((L||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,L?(J=a.relatedTarget||a.toElement,L=U,J=J?Ra(J):null,J!==null&&(Oe=c(J),ie=J.tag,J!==Oe||ie!==5&&ie!==27&&ie!==6)&&(J=null)):(L=null,J=U),L!==J)){if(ie=jd,G="onMouseLeave",C="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Nd,G="onPointerLeave",C="onPointerEnter",A="pointer"),Oe=L==null?z:Mr(L),D=J==null?z:Mr(J),z=new ie(G,A+"leave",L,a,$),z.target=Oe,z.relatedTarget=D,G=null,Ra($)===U&&(ie=new ie(C,A+"enter",J,a,$),ie.target=D,ie.relatedTarget=Oe,G=ie),Oe=G,L&&J)t:{for(ie=lb,C=L,A=J,D=0,G=C;G;G=ie(G))D++;G=0;for(var ne=A;ne;ne=ie(ne))G++;for(;0<D-G;)C=ie(C),D--;for(;0<G-D;)A=ie(A),G--;for(;D--;){if(C===A||A!==null&&C===A.alternate){ie=C;break t}C=ie(C),A=ie(A)}ie=null}else ie=null;L!==null&&bm(V,z,L,ie,!1),J!==null&&Oe!==null&&bm(V,Oe,J,ie,!0)}}e:{if(z=U?Mr(U):window,L=z.nodeName&&z.nodeName.toLowerCase(),L==="select"||L==="input"&&z.type==="file")var be=Md;else if(Dd(z))if(zd)be=yy;else{be=gy;var F=py}else L=z.nodeName,!L||L.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Yl(U.elementType)&&(be=Md):be=vy;if(be&&(be=be(e,U))){Ud(V,be,a,$);break e}F&&F(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Pl(z,"number",z.value)}switch(F=U?Mr(U):window,e){case"focusin":(Dd(F)||F.contentEditable==="true")&&($a=F,io=U,Pr=null);break;case"focusout":Pr=io=$a=null;break;case"mousedown":so=!0;break;case"contextmenu":case"mouseup":case"dragend":so=!1,Pd(V,a,$);break;case"selectionchange":if(xy)break;case"keydown":case"keyup":Pd(V,a,$)}var ce;if(to)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ha?Rd(e,a)&&(ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(Od&&a.locale!=="ko"&&(Ha||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ha&&(ce=Sd()):(On=$,Xl="value"in On?On.value:On.textContent,Ha=!0)),F=Vs(U,ge),0<F.length&&(ge=new Td(ge,e,null,a,$),V.push({event:ge,listeners:F}),ce?ge.data=ce:(ce=kd(a),ce!==null&&(ge.data=ce)))),(ce=cy?dy(e,a):hy(e,a))&&(ge=Vs(U,"onBeforeInput"),0<ge.length&&(F=new Td("onBeforeInput","beforeinput",null,a,$),V.push({event:F,listeners:ge}),F.data=ce)),ab(V,e,U,a,$)}vm(V,t)})}function pi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Vs(e,t){for(var a=t+"Capture",s=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=zr(e,a),u!=null&&s.unshift(pi(e,u,d)),u=zr(e,t),u!=null&&s.push(pi(e,u,d))),e.tag===3)return s;e=e.return}return[]}function lb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bm(e,t,a,s,u){for(var d=t._reactName,v=[];a!==null&&a!==s;){var b=a,N=b.alternate,U=b.stateNode;if(b=b.tag,N!==null&&N===s)break;b!==5&&b!==26&&b!==27||U===null||(N=U,u?(U=zr(a,d),U!=null&&v.unshift(pi(a,U,N))):u||(U=zr(a,d),U!=null&&v.push(pi(a,U,N)))),a=a.return}v.length!==0&&e.push({event:t,listeners:v})}var ob=/\r\n?/g,ub=/\u0000|\uFFFD/g;function xm(e){return(typeof e=="string"?e:""+e).replace(ob,`
`).replace(ub,"")}function _m(e,t){return t=xm(t),xm(e)===t}function Ne(e,t,a,s,u,d){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||za(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&za(e,""+s);break;case"className":Ki(e,"class",s);break;case"tabIndex":Ki(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,a,s);break;case"style":xd(e,s,d);break;case"data":if(t!=="object"){Ki(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ji(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Ne(e,t,"name",u.name,u,null),Ne(e,t,"formEncType",u.formEncType,u,null),Ne(e,t,"formMethod",u.formMethod,u,null),Ne(e,t,"formTarget",u.formTarget,u,null)):(Ne(e,t,"encType",u.encType,u,null),Ne(e,t,"method",u.method,u,null),Ne(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ji(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=rn);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Ji(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Ii(e,"popover",s);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ii(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lv.get(a)||a,Ii(e,a,s))}}function ku(e,t,a,s,u,d){switch(a){case"style":xd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?za(e,s):(typeof s=="number"||typeof s=="bigint")&&za(e,""+s);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),d=e[dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof s=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,u);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ii(e,a,s)}}}function at(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var s=!1,u=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,d,v,a,null)}}u&&Ne(e,t,"srcSet",a.srcSet,a,null),s&&Ne(e,t,"src",a.src,a,null);return;case"input":fe("invalid",e);var b=d=v=u=null,N=null,U=null;for(s in a)if(a.hasOwnProperty(s)){var $=a[s];if($!=null)switch(s){case"name":u=$;break;case"type":v=$;break;case"checked":N=$;break;case"defaultChecked":U=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:Ne(e,t,s,$,a,null)}}gd(e,d,b,N,U,v,u,!1);return;case"select":fe("invalid",e),s=v=d=null;for(u in a)if(a.hasOwnProperty(u)&&(b=a[u],b!=null))switch(u){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":s=b;default:Ne(e,t,u,b,a,null)}t=d,a=v,e.multiple=!!s,t!=null?Ma(e,!!s,t,!1):a!=null&&Ma(e,!!s,a,!0);return;case"textarea":fe("invalid",e),d=u=s=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":s=b;break;case"defaultValue":u=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ne(e,t,v,b,a,null)}yd(e,s,u,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(s=a[N],s!=null))switch(N){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ne(e,t,N,s,a,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(s=0;s<mi.length;s++)fe(mi[s],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ne(e,t,U,s,a,null)}return;default:if(Yl(t)){for($ in a)a.hasOwnProperty($)&&(s=a[$],s!==void 0&&ku(e,t,$,s,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null&&Ne(e,t,b,s,a,null))}function cb(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,v=null,b=null,N=null,U=null,$=null;for(L in a){var V=a[L];if(a.hasOwnProperty(L)&&V!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":N=V;default:s.hasOwnProperty(L)||Ne(e,t,L,null,s,V)}}for(var z in s){var L=s[z];if(V=a[z],s.hasOwnProperty(z)&&(L!=null||V!=null))switch(z){case"type":d=L;break;case"name":u=L;break;case"checked":U=L;break;case"defaultChecked":$=L;break;case"value":v=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:L!==V&&Ne(e,t,z,L,s,V)}}Vl(e,v,b,N,U,$,d,u);return;case"select":L=v=b=z=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":L=N;default:s.hasOwnProperty(d)||Ne(e,t,d,null,s,N)}for(u in s)if(d=s[u],N=a[u],s.hasOwnProperty(u)&&(d!=null||N!=null))switch(u){case"value":z=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==N&&Ne(e,t,u,d,s,N)}t=b,a=v,s=L,z!=null?Ma(e,!!a,z,!1):!!s!=!!a&&(t!=null?Ma(e,!!a,t,!0):Ma(e,!!a,a?[]:"",!1));return;case"textarea":L=z=null;for(b in a)if(u=a[b],a.hasOwnProperty(b)&&u!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ne(e,t,b,null,s,u)}for(v in s)if(u=s[v],d=a[v],s.hasOwnProperty(v)&&(u!=null||d!=null))switch(v){case"value":z=u;break;case"defaultValue":L=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==d&&Ne(e,t,v,u,s,d)}vd(e,z,L);return;case"option":for(var J in a)if(z=a[J],a.hasOwnProperty(J)&&z!=null&&!s.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Ne(e,t,J,null,s,z)}for(N in s)if(z=s[N],L=a[N],s.hasOwnProperty(N)&&z!==L&&(z!=null||L!=null))switch(N){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ne(e,t,N,z,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)z=a[ie],a.hasOwnProperty(ie)&&z!=null&&!s.hasOwnProperty(ie)&&Ne(e,t,ie,null,s,z);for(U in s)if(z=s[U],L=a[U],s.hasOwnProperty(U)&&z!==L&&(z!=null||L!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Ne(e,t,U,z,s,L)}return;default:if(Yl(t)){for(var Oe in a)z=a[Oe],a.hasOwnProperty(Oe)&&z!==void 0&&!s.hasOwnProperty(Oe)&&ku(e,t,Oe,void 0,s,z);for($ in s)z=s[$],L=a[$],!s.hasOwnProperty($)||z===L||z===void 0&&L===void 0||ku(e,t,$,z,s,L);return}}for(var C in a)z=a[C],a.hasOwnProperty(C)&&z!=null&&!s.hasOwnProperty(C)&&Ne(e,t,C,null,s,z);for(V in s)z=s[V],L=a[V],!s.hasOwnProperty(V)||z===L||z==null&&L==null||Ne(e,t,V,z,s,L)}function wm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function db(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var u=a[s],d=u.transferSize,v=u.initiatorType,b=u.duration;if(d&&b&&wm(v)){for(v=0,b=u.responseEnd,s+=1;s<a.length;s++){var N=a[s],U=N.startTime;if(U>b)break;var $=N.transferSize,V=N.initiatorType;$&&wm(V)&&(N=N.responseEnd,v+=$*(N<b?1:(b-U)/(N-U)))}if(--s,t+=8*(d+v)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Du=null,Uu=null;function Ps(e){return e.nodeType===9?e:e.ownerDocument}function Sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Em(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zu=null;function hb(){var e=window.event;return e&&e.type==="popstate"?e===zu?!1:(zu=e,!0):(zu=null,!1)}var jm=typeof setTimeout=="function"?setTimeout:void 0,fb=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(pb)}:jm;function pb(e){setTimeout(function(){throw e})}function Yn(e){return e==="head"}function Nm(e,t){var a=t,s=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(u),fr(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")gi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,gi(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[Ur]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&gi(e.ownerDocument.body);a=u}while(a);fr(t)}function Om(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Lu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lu(a),ql(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function gb(e,t,a,s){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ur])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function vb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gt(e.nextSibling),e===null))return null;return e}function Am(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function Bu(e){return e.data==="$?"||e.data==="$~"}function Hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yb(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $u=null;function Cm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Gt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function km(e,t,a){switch(t=Ps(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function gi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ql(e)}var Vt=new Map,Dm=new Set;function Ys(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _n=K.d;K.d={f:bb,r:xb,D:_b,C:wb,L:Sb,m:Eb,X:Tb,S:jb,M:Nb};function bb(){var e=_n.f(),t=zs();return e||t}function xb(e){var t=ka(e);t!==null&&t.tag===5&&t.type==="form"?Jh(t):_n.r(e)}var cr=typeof document>"u"?null:document;function Um(e,t,a){var s=cr;if(s&&typeof t=="string"&&t){var u=Mt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Dm.has(u)||(Dm.add(u),e={rel:e,crossOrigin:a,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),at(t,"link",e),Xe(t),s.head.appendChild(t)))}}function _b(e){_n.D(e),Um("dns-prefetch",e,null)}function wb(e,t){_n.C(e,t),Um("preconnect",e,t)}function Sb(e,t,a){_n.L(e,t,a);var s=cr;if(s&&e&&t){var u='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Mt(a.imageSizes)+'"]')):u+='[href="'+Mt(e)+'"]';var d=u;switch(t){case"style":d=dr(e);break;case"script":d=hr(e)}Vt.has(d)||(e=w({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Vt.set(d,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(vi(d))||t==="script"&&s.querySelector(yi(d))||(t=s.createElement("link"),at(t,"link",e),Xe(t),s.head.appendChild(t)))}}function Eb(e,t){_n.m(e,t);var a=cr;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',d=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=hr(e)}if(!Vt.has(d)&&(e=w({rel:"modulepreload",href:e},t),Vt.set(d,e),a.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yi(d)))return}s=a.createElement("link"),at(s,"link",e),Xe(s),a.head.appendChild(s)}}}function jb(e,t,a){_n.S(e,t,a);var s=cr;if(s&&e){var u=Da(s).hoistableStyles,d=dr(e);t=t||"default";var v=u.get(d);if(!v){var b={loading:0,preload:null};if(v=s.querySelector(vi(d)))b.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Vt.get(d))&&qu(e,a);var N=v=s.createElement("link");Xe(N),at(N,"link",e),N._p=new Promise(function(U,$){N.onload=U,N.onerror=$}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Is(v,t,s)}v={type:"stylesheet",instance:v,count:1,state:b},u.set(d,v)}}}function Tb(e,t){_n.X(e,t);var a=cr;if(a&&e){var s=Da(a).hoistableScripts,u=hr(e),d=s.get(u);d||(d=a.querySelector(yi(u)),d||(e=w({src:e,async:!0},t),(t=Vt.get(u))&&Gu(e,t),d=a.createElement("script"),Xe(d),at(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function Nb(e,t){_n.M(e,t);var a=cr;if(a&&e){var s=Da(a).hoistableScripts,u=hr(e),d=s.get(u);d||(d=a.querySelector(yi(u)),d||(e=w({src:e,async:!0,type:"module"},t),(t=Vt.get(u))&&Gu(e,t),d=a.createElement("script"),Xe(d),at(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function Mm(e,t,a,s){var u=(u=de.current)?Ys(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=dr(a.href),a=Da(u).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=dr(a.href);var d=Da(u).hoistableStyles,v=d.get(e);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=u.querySelector(vi(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Vt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vt.set(e,a),d||Ob(u,e,a,v.state))),t&&s===null)throw Error(l(528,""));return v}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hr(a),a=Da(u).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function dr(e){return'href="'+Mt(e)+'"'}function vi(e){return'link[rel="stylesheet"]['+e+"]"}function zm(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Ob(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),at(t,"link",a),Xe(t),e.head.appendChild(t))}function hr(e){return'[src="'+Mt(e)+'"]'}function yi(e){return"script[async]"+e}function Lm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(s)return t.instance=s,Xe(s),s;var u=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Xe(s),at(s,"style",u),Is(s,a.precedence,e),t.instance=s;case"stylesheet":u=dr(a.href);var d=e.querySelector(vi(u));if(d)return t.state.loading|=4,t.instance=d,Xe(d),d;s=zm(a),(u=Vt.get(u))&&qu(s,u),d=(e.ownerDocument||e).createElement("link"),Xe(d);var v=d;return v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),at(d,"link",s),t.state.loading|=4,Is(d,a.precedence,e),t.instance=d;case"script":return d=hr(a.src),(u=e.querySelector(yi(d)))?(t.instance=u,Xe(u),u):(s=a,(u=Vt.get(d))&&(s=w({},a),Gu(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xe(u),at(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Is(s,a.precedence,e));return t.instance}function Is(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,d=u,v=0;v<s.length;v++){var b=s[v];if(b.dataset.precedence===t)d=b;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ks=null;function Bm(e,t,a){if(Ks===null){var s=new Map,u=Ks=new Map;u.set(a,s)}else u=Ks,s=u.get(a),s||(s=new Map,u.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var d=a[u];if(!(d[Ur]||d[We]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(t)||"";v=e+v;var b=s.get(v);b?b.push(d):s.set(v,[d])}}return s}function Hm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ab(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cb(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=dr(s.href),d=t.querySelector(vi(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Qs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,Xe(d);return}d=t.ownerDocument||t,s=zm(s),(u=Vt.get(u))&&qu(s,u),d=d.createElement("link"),Xe(d);var v=d;v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),at(d,"link",s),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Qs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Vu=0;function Rb(e,t){return e.stylesheets&&e.count===0&&Xs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Xs(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Vu===0&&(Vu=62500*db());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xs(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Vu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Qs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Js=null;function Xs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Js=new Map,t.forEach(kb,e),Js=null,Qs.call(e))}function kb(e,t){if(!(t.state.loading&4)){var a=Js.get(e);if(a)var s=a.get(null);else{a=new Map,Js.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var v=u[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),s=v)}s&&a.set(null,s)}u=t.instance,v=u.getAttribute("data-precedence"),d=a.get(v)||s,d===s&&a.set(null,u),a.set(v,u),this.count++,s=Qs.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var bi={$$typeof:R,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Db(e,t,a,s,u,d,v,b,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ll(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.hiddenUpdates=Ll(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function qm(e,t,a,s,u,d,v,b,N,U,$,V){return e=new Db(e,t,a,v,N,U,$,V,b),t=1,d===!0&&(t|=24),d=Et(3,null,null,t),e.current=d,d.stateNode=e,t=wo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:a,cache:t},To(d),e}function Gm(e){return e?(e=Va,e):Va}function Vm(e,t,a,s,u,d){u=Gm(u),s.context===null?s.context=u:s.pendingContext=u,s=Un(t),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=Mn(e,s,t),a!==null&&(vt(a,e,t),Zr(a,e,t))}function Pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Pu(e,t){Pm(e,t),(e=e.alternate)&&Pm(e,t)}function Ym(e){if(e.tag===13||e.tag===31){var t=la(e,67108864);t!==null&&vt(t,e,67108864),Pu(e,67108864)}}function Im(e){if(e.tag===13||e.tag===31){var t=At();t=Bl(t);var a=la(e,t);a!==null&&vt(a,e,t),Pu(e,t)}}var Zs=!0;function Ub(e,t,a,s){var u=H.T;H.T=null;var d=K.p;try{K.p=2,Yu(e,t,a,s)}finally{K.p=d,H.T=u}}function Mb(e,t,a,s){var u=H.T;H.T=null;var d=K.p;try{K.p=8,Yu(e,t,a,s)}finally{K.p=d,H.T=u}}function Yu(e,t,a,s){if(Zs){var u=Iu(s);if(u===null)Ru(e,t,s,Fs,a),Qm(e,s);else if(Lb(u,e,t,a,s))s.stopPropagation();else if(Qm(e,s),t&4&&-1<zb.indexOf(e)){for(;u!==null;){var d=ka(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=na(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var N=1<<31-wt(v);b.entanglements[1]|=N,v&=~N}tn(d),(_e&6)===0&&(Us=xt()+500,fi(0))}}break;case 31:case 13:b=la(d,2),b!==null&&vt(b,d,2),zs(),Pu(d,2)}if(d=Iu(s),d===null&&Ru(e,t,s,Fs,a),d===u)break;u=d}u!==null&&s.stopPropagation()}else Ru(e,t,s,null,a)}}function Iu(e){return e=Kl(e),Ku(e)}var Fs=null;function Ku(e){if(Fs=null,e=Ra(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fs=e,null}function Km(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_v()){case ed:return 2;case td:return 8;case qi:case wv:return 32;case nd:return 268435456;default:return 32}default:return 32}}var Qu=!1,In=null,Kn=null,Qn=null,xi=new Map,_i=new Map,Jn=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qm(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(t.pointerId)}}function wi(e,t,a,s,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:d,targetContainers:[u]},t!==null&&(t=ka(t),t!==null&&Ym(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Lb(e,t,a,s,u){switch(t){case"focusin":return In=wi(In,e,t,a,s,u),!0;case"dragenter":return Kn=wi(Kn,e,t,a,s,u),!0;case"mouseover":return Qn=wi(Qn,e,t,a,s,u),!0;case"pointerover":var d=u.pointerId;return xi.set(d,wi(xi.get(d)||null,e,t,a,s,u)),!0;case"gotpointercapture":return d=u.pointerId,_i.set(d,wi(_i.get(d)||null,e,t,a,s,u)),!0}return!1}function Jm(e){var t=Ra(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,od(e.priority,function(){Im(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,od(e.priority,function(){Im(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Iu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Il=s,a.target.dispatchEvent(s),Il=null}else return t=ka(a),t!==null&&Ym(t),e.blockedOn=a,!1;t.shift()}return!0}function Xm(e,t,a){Ws(e)&&a.delete(t)}function Bb(){Qu=!1,In!==null&&Ws(In)&&(In=null),Kn!==null&&Ws(Kn)&&(Kn=null),Qn!==null&&Ws(Qn)&&(Qn=null),xi.forEach(Xm),_i.forEach(Xm)}function el(e,t){e.blockedOn===t&&(e.blockedOn=null,Qu||(Qu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bb)))}var tl=null;function Zm(e){tl!==e&&(tl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){tl===e&&(tl=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(Ku(s||a)===null)continue;break}var d=ka(a);d!==null&&(e.splice(t,3),t-=3,Io(d,{pending:!0,data:u,method:a.method,action:s},s,u))}}))}function fr(e){function t(N){return el(N,e)}In!==null&&el(In,e),Kn!==null&&el(Kn,e),Qn!==null&&el(Qn,e),xi.forEach(t),_i.forEach(t);for(var a=0;a<Jn.length;a++){var s=Jn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Jn.length&&(a=Jn[0],a.blockedOn===null);)Jm(a),a.blockedOn===null&&Jn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var u=a[s],d=a[s+1],v=u[dt]||null;if(typeof d=="function")v||Zm(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(u=d,v=d[dt]||null)b=v.formAction;else if(Ku(u)!==null)continue}else b=v.action;typeof b=="function"?a[s+1]=b:(a.splice(s,3),s-=3),Zm(a)}}}function Fm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return u=v})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Ju(e){this._internalRoot=e}nl.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=At();Vm(a,s,e,t,null,null)},nl.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vm(e.current,2,null,e,null,null),zs(),t[Ca]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ld();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Jn.length&&t!==0&&t<Jn[a].priority;a++);Jn.splice(a,0,e),a===0&&Jm(e)}};var Wm=n.version;if(Wm!=="19.2.0")throw Error(l(527,Wm,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Hb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Rr=al.inject(Hb),_t=al}catch{}}return Ei.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,s="",u=sf,d=lf,v=of;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=qm(e,1,!1,null,null,a,s,null,u,d,v,Fm),e[Ca]=t.current,Cu(e),new Ju(t)},Ei.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var s=!1,u="",d=sf,v=lf,b=of,N=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),t=qm(e,1,!0,t,a??null,s,u,N,d,v,b,Fm),t.context=Gm(null),a=t.current,s=At(),s=Bl(s),u=Un(s),u.callback=null,Mn(a,u,s),a=s,t.current.lanes=a,Dr(t,a),tn(t),e[Ca]=t.current,Cu(e),new nl(t)},Ei.version="19.2.0",Ei}var up;function Fb(){if(up)return Fu.exports;up=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Fu.exports=Zb(),Fu.exports}var Wb=Fb();const e0=Mc(Wb);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cp="popstate";function t0(i={}){function n(o,c){let{pathname:h="/",search:p="",hash:m=""}=Aa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),yc("",{pathname:h,search:p,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");p=g===-1?m:m.slice(0,g)}return p+"#"+(typeof c=="string"?c:Ri(c))}function l(o,c){bt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return a0(n,r,l,i)}function Me(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function bt(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function n0(){return Math.random().toString(36).substring(2,10)}function dp(i,n){return{usr:i.state,key:i.key,idx:n}}function yc(i,n,r=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?Aa(n):n,state:r,key:n&&n.key||l||n0()}}function Ri({pathname:i="/",search:n="",hash:r=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Aa(i){let n={};if(i){let r=i.indexOf("#");r>=0&&(n.hash=i.substring(r),i=i.substring(0,r));let l=i.indexOf("?");l>=0&&(n.search=i.substring(l),i=i.substring(0,l)),i&&(n.pathname=i)}return n}function a0(i,n,r,l={}){let{window:o=document.defaultView,v5Compat:c=!1}=l,h=o.history,p="POP",m=null,g=x();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function x(){return(h.state||{idx:null}).idx}function w(){p="POP";let S=x(),E=S==null?null:S-g;g=S,m&&m({action:p,location:T.location,delta:E})}function j(S,E){p="PUSH";let q=yc(T.location,S,E);r&&r(q,S),g=x()+1;let R=dp(q,g),Y=T.createHref(q);try{h.pushState(R,"",Y)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(Y)}c&&m&&m({action:p,location:T.location,delta:1})}function y(S,E){p="REPLACE";let q=yc(T.location,S,E);r&&r(q,S),g=x();let R=dp(q,g),Y=T.createHref(q);h.replaceState(R,"",Y),c&&m&&m({action:p,location:T.location,delta:0})}function _(S){return r0(S)}let T={get action(){return p},get location(){return i(o,h)},listen(S){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(cp,w),m=S,()=>{o.removeEventListener(cp,w),m=null}},createHref(S){return n(o,S)},createURL:_,encodeLocation(S){let E=_(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:j,replace:y,go(S){return h.go(S)}};return T}function r0(i,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Me(r,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:Ri(i);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Fp(i,n,r="/"){return i0(i,n,r,!1)}function i0(i,n,r,l){let o=typeof n=="string"?Aa(n):n,c=En(o.pathname||"/",r);if(c==null)return null;let h=Wp(i);s0(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let g=v0(c);p=p0(h[m],g,l)}return p}function Wp(i,n=[],r=[],l="",o=!1){let c=(h,p,m=o,g)=>{let x={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(l)&&m)return;Me(x.relativePath.startsWith(l),`Absolute route path "${x.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(l.length)}let w=Sn([l,x.relativePath]),j=r.concat(x);h.children&&h.children.length>0&&(Me(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Wp(h.children,n,j,w,m)),!(h.path==null&&!h.index)&&n.push({path:w,score:f0(w,h.index),routesMeta:j})};return i.forEach((h,p)=>{var m;if(h.path===""||!((m=h.path)!=null&&m.includes("?")))c(h,p);else for(let g of eg(h.path))c(h,p,!0,g)}),n}function eg(i){let n=i.split("/");if(n.length===0)return[];let[r,...l]=n,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(l.length===0)return o?[c,""]:[c];let h=eg(l.join("/")),p=[];return p.push(...h.map(m=>m===""?c:[c,m].join("/"))),o&&p.push(...h),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function s0(i){i.sort((n,r)=>n.score!==r.score?r.score-n.score:m0(n.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var l0=/^:[\w-]+$/,o0=3,u0=2,c0=1,d0=10,h0=-2,hp=i=>i==="*";function f0(i,n){let r=i.split("/"),l=r.length;return r.some(hp)&&(l+=h0),n&&(l+=u0),r.filter(o=>!hp(o)).reduce((o,c)=>o+(l0.test(c)?o0:c===""?c0:d0),l)}function m0(i,n){return i.length===n.length&&i.slice(0,-1).every((l,o)=>l===n[o])?i[i.length-1]-n[n.length-1]:0}function p0(i,n,r=!1){let{routesMeta:l}=i,o={},c="/",h=[];for(let p=0;p<l.length;++p){let m=l[p],g=p===l.length-1,x=c==="/"?n:n.slice(c.length)||"/",w=bl({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),j=m.route;if(!w&&g&&r&&!l[l.length-1].route.index&&(w=bl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:Sn([c,w.pathname]),pathnameBase:w0(Sn([c,w.pathnameBase])),route:j}),w.pathnameBase!=="/"&&(c=Sn([c,w.pathnameBase]))}return h}function bl(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,l]=g0(i.path,i.caseSensitive,i.end),o=n.match(r);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:l.reduce((g,{paramName:x,isOptional:w},j)=>{if(x==="*"){let _=p[j]||"";h=c.slice(0,c.length-_.length).replace(/(.)\/+$/,"$1")}const y=p[j];return w&&!y?g[x]=void 0:g[x]=(y||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:h,pattern:i}}function g0(i,n=!1,r=!0){bt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(l.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function v0(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return bt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function En(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,l=i.charAt(r);return l&&l!=="/"?null:i.slice(r)||"/"}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b0=i=>y0.test(i);function x0(i,n="/"){let{pathname:r,search:l="",hash:o=""}=typeof i=="string"?Aa(i):i,c;if(r)if(b0(r))c=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),bt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${r}`)}r.startsWith("/")?c=fp(r.substring(1),"/"):c=fp(r,n)}else c=n;return{pathname:c,search:S0(l),hash:E0(o)}}function fp(i,n){let r=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function nc(i,n,r,l){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _0(i){return i.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Lc(i){let n=_0(i);return n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase)}function Bc(i,n,r,l=!1){let o;typeof i=="string"?o=Aa(i):(o={...i},Me(!o.pathname||!o.pathname.includes("?"),nc("?","pathname","search",o)),Me(!o.pathname||!o.pathname.includes("#"),nc("#","pathname","hash",o)),Me(!o.search||!o.search.includes("#"),nc("#","search","hash",o)));let c=i===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=r;else{let w=n.length-1;if(!l&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),w-=1;o.pathname=j.join("/")}p=w>=0?n[w]:"/"}let m=x0(o,p),g=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}var Sn=i=>i.join("/").replace(/\/\/+/g,"/"),w0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),S0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,E0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function j0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tg=["POST","PUT","PATCH","DELETE"];new Set(tg);var T0=["GET",...tg];new Set(T0);var jr=k.createContext(null);jr.displayName="DataRouter";var jl=k.createContext(null);jl.displayName="DataRouterState";k.createContext(!1);var ng=k.createContext({isTransitioning:!1});ng.displayName="ViewTransition";var N0=k.createContext(new Map);N0.displayName="Fetchers";var O0=k.createContext(null);O0.displayName="Await";var Xt=k.createContext(null);Xt.displayName="Navigation";var zi=k.createContext(null);zi.displayName="Location";var Zt=k.createContext({outlet:null,matches:[],isDataRoute:!1});Zt.displayName="Route";var Hc=k.createContext(null);Hc.displayName="RouteError";function A0(i,{relative:n}={}){Me(Tr(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=k.useContext(Xt),{hash:o,pathname:c,search:h}=Li(i,{relative:n}),p=c;return r!=="/"&&(p=c==="/"?r:Sn([r,c])),l.createHref({pathname:p,search:h,hash:o})}function Tr(){return k.useContext(zi)!=null}function jn(){return Me(Tr(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(zi).location}var ag="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rg(i){k.useContext(Xt).static||k.useLayoutEffect(i)}function Nr(){let{isDataRoute:i}=k.useContext(Zt);return i?G0():C0()}function C0(){Me(Tr(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(jr),{basename:n,navigator:r}=k.useContext(Xt),{matches:l}=k.useContext(Zt),{pathname:o}=jn(),c=JSON.stringify(Lc(l)),h=k.useRef(!1);return rg(()=>{h.current=!0}),k.useCallback((m,g={})=>{if(bt(h.current,ag),!h.current)return;if(typeof m=="number"){r.go(m);return}let x=Bc(m,JSON.parse(c),o,g.relative==="path");i==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:Sn([n,x.pathname])),(g.replace?r.replace:r.push)(x,g.state,g)},[n,r,c,o,i])}k.createContext(null);function ig(){let{matches:i}=k.useContext(Zt),n=i[i.length-1];return n?n.params:{}}function Li(i,{relative:n}={}){let{matches:r}=k.useContext(Zt),{pathname:l}=jn(),o=JSON.stringify(Lc(r));return k.useMemo(()=>Bc(i,JSON.parse(o),l,n==="path"),[i,o,l,n])}function R0(i,n){return sg(i,n)}function sg(i,n,r,l,o){var q;Me(Tr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=k.useContext(Xt),{matches:h}=k.useContext(Zt),p=h[h.length-1],m=p?p.params:{},g=p?p.pathname:"/",x=p?p.pathnameBase:"/",w=p&&p.route;{let R=w&&w.path||"";lg(g,!w||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let j=jn(),y;if(n){let R=typeof n=="string"?Aa(n):n;Me(x==="/"||((q=R.pathname)==null?void 0:q.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${R.pathname}" was given in the \`location\` prop.`),y=R}else y=j;let _=y.pathname||"/",T=_;if(x!=="/"){let R=x.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=Fp(i,{pathname:T});bt(w||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),bt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=z0(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:Sn([x,c.encodeLocation?c.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?x:Sn([x,c.encodeLocation?c.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),h,r,l,o);return n&&E?k.createElement(zi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function k0(){let i=q0(),n=j0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},n),r?k.createElement("pre",{style:o},r):null,h)}var D0=k.createElement(k0,null),U0=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){this.props.onError?this.props.onError(i,n):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?k.createElement(Zt.Provider,{value:this.props.routeContext},k.createElement(Hc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M0({routeContext:i,match:n,children:r}){let l=k.useContext(jr);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Zt.Provider,{value:i},r)}function z0(i,n=[],r=null,l=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let c=i,h=r==null?void 0:r.errors;if(h!=null){let x=c.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);Me(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,m=-1;if(r)for(let x=0;x<c.length;x++){let w=c[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=x),w.route.id){let{loaderData:j,errors:y}=r,_=w.route.loader&&!j.hasOwnProperty(w.route.id)&&(!y||y[w.route.id]===void 0);if(w.route.lazy||_){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let g=r&&l?(x,w)=>{var j,y;l(x,{location:r.location,params:((y=(j=r.matches)==null?void 0:j[0])==null?void 0:y.params)??{},errorInfo:w})}:void 0;return c.reduceRight((x,w,j)=>{let y,_=!1,T=null,S=null;r&&(y=h&&w.route.id?h[w.route.id]:void 0,T=w.route.errorElement||D0,p&&(m<0&&j===0?(lg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):m===j&&(_=!0,S=w.route.hydrateFallbackElement||null)));let E=n.concat(c.slice(0,j+1)),q=()=>{let R;return y?R=T:_?R=S:w.route.Component?R=k.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=x,k.createElement(M0,{match:w,routeContext:{outlet:x,matches:E,isDataRoute:r!=null},children:R})};return r&&(w.route.ErrorBoundary||w.route.errorElement||j===0)?k.createElement(U0,{location:r.location,revalidation:r.revalidation,component:T,error:y,children:q(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:g}):q()},null)}function $c(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(i){let n=k.useContext(jr);return Me(n,$c(i)),n}function B0(i){let n=k.useContext(jl);return Me(n,$c(i)),n}function H0(i){let n=k.useContext(Zt);return Me(n,$c(i)),n}function qc(i){let n=H0(i),r=n.matches[n.matches.length-1];return Me(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function $0(){return qc("useRouteId")}function q0(){var l;let i=k.useContext(Hc),n=B0("useRouteError"),r=qc("useRouteError");return i!==void 0?i:(l=n.errors)==null?void 0:l[r]}function G0(){let{router:i}=L0("useNavigate"),n=qc("useNavigate"),r=k.useRef(!1);return rg(()=>{r.current=!0}),k.useCallback(async(o,c={})=>{bt(r.current,ag),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:n,...c}))},[i,n])}var mp={};function lg(i,n,r){!n&&!mp[i]&&(mp[i]=!0,bt(!1,r))}k.memo(V0);function V0({routes:i,future:n,state:r,unstable_onError:l}){return sg(i,void 0,r,l,n)}function P0({to:i,replace:n,state:r,relative:l}){Me(Tr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Xt);bt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=k.useContext(Zt),{pathname:h}=jn(),p=Nr(),m=Bc(i,Lc(c),h,l==="path"),g=JSON.stringify(m);return k.useEffect(()=>{p(JSON.parse(g),{replace:n,state:r,relative:l})},[p,g,l,n,r]),null}function nn(i){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y0({basename:i="/",children:n=null,location:r,navigationType:l="POP",navigator:o,static:c=!1}){Me(!Tr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof r=="string"&&(r=Aa(r));let{pathname:m="/",search:g="",hash:x="",state:w=null,key:j="default"}=r,y=k.useMemo(()=>{let _=En(m,h);return _==null?null:{location:{pathname:_,search:g,hash:x,state:w,key:j},navigationType:l}},[h,m,g,x,w,j,l]);return bt(y!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:k.createElement(Xt.Provider,{value:p},k.createElement(zi.Provider,{children:n,value:y}))}function I0({children:i,location:n}){return R0(bc(i),n)}function bc(i,n=[]){let r=[];return k.Children.forEach(i,(l,o)=>{if(!k.isValidElement(l))return;let c=[...n,o];if(l.type===k.Fragment){r.push.apply(r,bc(l.props.children,c));return}Me(l.type===nn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=bc(l.props.children,c)),r.push(h)}),r}var vl="get",yl="application/x-www-form-urlencoded";function Tl(i){return i!=null&&typeof i.tagName=="string"}function K0(i){return Tl(i)&&i.tagName.toLowerCase()==="button"}function Q0(i){return Tl(i)&&i.tagName.toLowerCase()==="form"}function J0(i){return Tl(i)&&i.tagName.toLowerCase()==="input"}function X0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Z0(i,n){return i.button===0&&(!n||n==="_self")&&!X0(i)}function xc(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((n,r)=>{let l=i[r];return n.concat(Array.isArray(l)?l.map(o=>[r,o]):[[r,l]])},[]))}function F0(i,n){let r=xc(i);return n&&n.forEach((l,o)=>{r.has(o)||n.getAll(o).forEach(c=>{r.append(o,c)})}),r}var rl=null;function W0(){if(rl===null)try{new FormData(document.createElement("form"),0),rl=!1}catch{rl=!0}return rl}var e1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ac(i){return i!=null&&!e1.has(i)?(bt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yl}"`),null):i}function t1(i,n){let r,l,o,c,h;if(Q0(i)){let p=i.getAttribute("action");l=p?En(p,n):null,r=i.getAttribute("method")||vl,o=ac(i.getAttribute("enctype"))||yl,c=new FormData(i)}else if(K0(i)||J0(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||p.getAttribute("action");if(l=m?En(m,n):null,r=i.getAttribute("formmethod")||p.getAttribute("method")||vl,o=ac(i.getAttribute("formenctype"))||ac(p.getAttribute("enctype"))||yl,c=new FormData(p,i),!W0()){let{name:g,type:x,value:w}=i;if(x==="image"){let j=g?`${g}.`:"";c.append(`${j}x`,"0"),c.append(`${j}y`,"0")}else g&&c.append(g,w)}}else{if(Tl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vl,l=null,o=yl,h=i}return c&&o==="text/plain"&&(h=c,c=void 0),{action:l,method:r.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gc(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function n1(i,n,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l.pathname==="/"?l.pathname=`_root.${r}`:n&&En(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function a1(i,n){if(i.id in n)return n[i.id];try{let r=await import(i.module);return n[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function i1(i,n,r){let l=await Promise.all(i.map(async o=>{let c=n.routes[o.route.id];if(c){let h=await a1(c,r);return h.links?h.links():[]}return[]}));return u1(l.flat(1).filter(r1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pp(i,n,r,l,o,c){let h=(m,g)=>r[g]?m.route.id!==r[g].route.id:!0,p=(m,g)=>{var x;return r[g].pathname!==m.pathname||((x=r[g].route.path)==null?void 0:x.endsWith("*"))&&r[g].params["*"]!==m.params["*"]};return c==="assets"?n.filter((m,g)=>h(m,g)||p(m,g)):c==="data"?n.filter((m,g)=>{var w;let x=l.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(h(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let j=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function s1(i,n,{includeHydrateFallback:r}={}){return l1(i.map(l=>{let o=n.routes[l.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function l1(i){return[...new Set(i)]}function o1(i){let n={},r=Object.keys(i).sort();for(let l of r)n[l]=i[l];return n}function u1(i,n){let r=new Set;return new Set(n),i.reduce((l,o)=>{let c=JSON.stringify(o1(o));return r.has(c)||(r.add(c),l.push({key:c,link:o})),l},[])}function og(){let i=k.useContext(jr);return Gc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function c1(){let i=k.useContext(jl);return Gc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Vc=k.createContext(void 0);Vc.displayName="FrameworkContext";function ug(){let i=k.useContext(Vc);return Gc(i,"You must render this element inside a <HydratedRouter> element"),i}function d1(i,n){let r=k.useContext(Vc),[l,o]=k.useState(!1),[c,h]=k.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:x,onTouchStart:w}=n,j=k.useRef(null);k.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let T=E=>{E.forEach(q=>{h(q.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return j.current&&S.observe(j.current),()=>{S.disconnect()}}},[i]),k.useEffect(()=>{if(l){let T=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(T)}}},[l]);let y=()=>{o(!0)},_=()=>{o(!1),h(!1)};return r?i!=="intent"?[c,j,{}]:[c,j,{onFocus:ji(p,y),onBlur:ji(m,_),onMouseEnter:ji(g,y),onMouseLeave:ji(x,_),onTouchStart:ji(w,y)}]:[!1,j,{}]}function ji(i,n){return r=>{i&&i(r),r.defaultPrevented||n(r)}}function h1({page:i,...n}){let{router:r}=og(),l=k.useMemo(()=>Fp(r.routes,i,r.basename),[r.routes,i,r.basename]);return l?k.createElement(m1,{page:i,matches:l,...n}):null}function f1(i){let{manifest:n,routeModules:r}=ug(),[l,o]=k.useState([]);return k.useEffect(()=>{let c=!1;return i1(i,n,r).then(h=>{c||o(h)}),()=>{c=!0}},[i,n,r]),l}function m1({page:i,matches:n,...r}){let l=jn(),{manifest:o,routeModules:c}=ug(),{basename:h}=og(),{loaderData:p,matches:m}=c1(),g=k.useMemo(()=>pp(i,n,m,o,l,"data"),[i,n,m,o,l]),x=k.useMemo(()=>pp(i,n,m,o,l,"assets"),[i,n,m,o,l]),w=k.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let _=new Set,T=!1;if(n.forEach(E=>{var R;let q=o.routes[E.route.id];!q||!q.hasLoader||(!g.some(Y=>Y.route.id===E.route.id)&&E.route.id in p&&((R=c[E.route.id])!=null&&R.shouldRevalidate)||q.hasClientLoader?T=!0:_.add(E.route.id))}),_.size===0)return[];let S=n1(i,h,"data");return T&&_.size>0&&S.searchParams.set("_routes",n.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[h,p,l,o,g,n,i,c]),j=k.useMemo(()=>s1(x,o),[x,o]),y=f1(x);return k.createElement(k.Fragment,null,w.map(_=>k.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),j.map(_=>k.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),y.map(({key:_,link:T})=>k.createElement("link",{key:_,nonce:r.nonce,...T})))}function p1(...i){return n=>{i.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var cg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cg&&(window.__reactRouterVersion="7.9.6")}catch{}function g1({basename:i,children:n,window:r}){let l=k.useRef();l.current==null&&(l.current=t0({window:r,v5Compat:!0}));let o=l.current,[c,h]=k.useState({action:o.action,location:o.location}),p=k.useCallback(m=>{k.startTransition(()=>h(m))},[h]);return k.useLayoutEffect(()=>o.listen(p),[o,p]),k.createElement(Y0,{basename:i,children:n,location:c.location,navigationType:c.action,navigator:o})}var dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=k.forwardRef(function({onClick:n,discover:r="render",prefetch:l="none",relative:o,reloadDocument:c,replace:h,state:p,target:m,to:g,preventScrollReset:x,viewTransition:w,...j},y){let{basename:_}=k.useContext(Xt),T=typeof g=="string"&&dg.test(g),S,E=!1;if(typeof g=="string"&&T&&(S=g,cg))try{let te=new URL(window.location.href),me=g.startsWith("//")?new URL(te.protocol+g):new URL(g),Se=En(me.pathname,_);me.origin===te.origin&&Se!=null?g=Se+me.search+me.hash:E=!0}catch{bt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=A0(g,{relative:o}),[R,Y,re]=d1(l,j),ae=x1(g,{replace:h,state:p,target:m,preventScrollReset:x,relative:o,viewTransition:w});function Q(te){n&&n(te),te.defaultPrevented||ae(te)}let ve=k.createElement("a",{...j,...re,href:S||q,onClick:E||c?n:Q,ref:p1(y,Y),target:m,"data-discover":!T&&r==="render"?"true":void 0});return R&&!T?k.createElement(k.Fragment,null,ve,k.createElement(h1,{page:q})):ve});yt.displayName="Link";var v1=k.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:l="",end:o=!1,style:c,to:h,viewTransition:p,children:m,...g},x){let w=Li(h,{relative:g.relative}),j=jn(),y=k.useContext(jl),{navigator:_,basename:T}=k.useContext(Xt),S=y!=null&&T1(w)&&p===!0,E=_.encodeLocation?_.encodeLocation(w).pathname:w.pathname,q=j.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(q=q.toLowerCase(),R=R?R.toLowerCase():null,E=E.toLowerCase()),R&&T&&(R=En(R,T)||R);const Y=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let re=q===E||!o&&q.startsWith(E)&&q.charAt(Y)==="/",ae=R!=null&&(R===E||!o&&R.startsWith(E)&&R.charAt(E.length)==="/"),Q={isActive:re,isPending:ae,isTransitioning:S},ve=re?n:void 0,te;typeof l=="function"?te=l(Q):te=[l,re?"active":null,ae?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let me=typeof c=="function"?c(Q):c;return k.createElement(yt,{...g,"aria-current":ve,className:te,ref:x,style:me,to:h,viewTransition:p},typeof m=="function"?m(Q):m)});v1.displayName="NavLink";var y1=k.forwardRef(({discover:i="render",fetcherKey:n,navigate:r,reloadDocument:l,replace:o,state:c,method:h=vl,action:p,onSubmit:m,relative:g,preventScrollReset:x,viewTransition:w,...j},y)=>{let _=E1(),T=j1(p,{relative:g}),S=h.toLowerCase()==="get"?"get":"post",E=typeof p=="string"&&dg.test(p),q=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let Y=R.nativeEvent.submitter,re=(Y==null?void 0:Y.getAttribute("formmethod"))||h;_(Y||R.currentTarget,{fetcherKey:n,method:re,navigate:r,replace:o,state:c,relative:g,preventScrollReset:x,viewTransition:w})};return k.createElement("form",{ref:y,method:S,action:T,onSubmit:l?m:q,...j,"data-discover":!E&&i==="render"?"true":void 0})});y1.displayName="Form";function b1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hg(i){let n=k.useContext(jr);return Me(n,b1(i)),n}function x1(i,{target:n,replace:r,state:l,preventScrollReset:o,relative:c,viewTransition:h}={}){let p=Nr(),m=jn(),g=Li(i,{relative:c});return k.useCallback(x=>{if(Z0(x,n)){x.preventDefault();let w=r!==void 0?r:Ri(m)===Ri(g);p(i,{replace:w,state:l,preventScrollReset:o,relative:c,viewTransition:h})}},[m,p,g,r,l,n,i,o,c,h])}function _1(i){bt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=k.useRef(xc(i)),r=k.useRef(!1),l=jn(),o=k.useMemo(()=>F0(l.search,r.current?null:n.current),[l.search]),c=Nr(),h=k.useCallback((p,m)=>{const g=xc(typeof p=="function"?p(new URLSearchParams(o)):p);r.current=!0,c("?"+g,m)},[c,o]);return[o,h]}var w1=0,S1=()=>`__${String(++w1)}__`;function E1(){let{router:i}=hg("useSubmit"),{basename:n}=k.useContext(Xt),r=$0();return k.useCallback(async(l,o={})=>{let{action:c,method:h,encType:p,formData:m,body:g}=t1(l,n);if(o.navigate===!1){let x=o.fetcherKey||S1();await i.fetch(x,r,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,n,r])}function j1(i,{relative:n}={}){let{basename:r}=k.useContext(Xt),l=k.useContext(Zt);Me(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),c={...Li(i||".",{relative:n})},h=jn();if(i==null){c.search=h.search;let p=new URLSearchParams(c.search),m=p.getAll("index");if(m.some(x=>x==="")){p.delete("index"),m.filter(w=>w).forEach(w=>p.append("index",w));let x=p.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Sn([r,c.pathname])),Ri(c)}function T1(i,{relative:n}={}){let r=k.useContext(ng);Me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=hg("useViewTransitionState"),o=Li(i,{relative:n});if(!r.isTransitioning)return!1;let c=En(r.currentLocation.pathname,l)||r.currentLocation.pathname,h=En(r.nextLocation.pathname,l)||r.nextLocation.pathname;return bl(o.pathname,h)!=null||bl(o.pathname,c)!=null}const N1=({team:i})=>f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map((n,r)=>f.jsxs("div",{className:"flex items-center p-6 bg-white border border-[#141413] hover:bg-[#F0F0EB] transition-colors group",children:[f.jsx("div",{className:"h-12 w-12 bg-[#141413] text-white flex items-center justify-center text-lg font-bold mr-5",children:n.name.charAt(0)}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-lg font-bold text-[#141413] uppercase tracking-wide",children:n.name}),f.jsx("p",{className:"text-xs text-[#9E9E98] uppercase tracking-widest mt-0.5",children:n.role})]}),f.jsxs("div",{className:"text-right flex flex-col items-end space-y-1",children:[n.phone&&f.jsx("a",{href:`tel:${n.phone}`,className:"text-xs font-mono border border-[#141413] px-2 py-1 hover:bg-[#141413] hover:text-white transition-colors",children:n.phone}),n.email&&f.jsx("a",{href:`mailto:${n.email}`,className:"text-[10px] uppercase tracking-widest text-[#9E9E98] hover:text-[#141413] border-b border-transparent hover:border-[#141413]",children:"Email"})]})]},r))}),O1=i=>"#141413",A1=i=>{var r;const n=i.trim().toUpperCase().split(/\s+/);return n.length===1?n[0].substring(0,2):n[0][0]+(((r=n[1])==null?void 0:r[0])||"")},fg=({title:i,client:n,className:r="",variant:l="card"})=>{const o=A1(i),c=O1(),h=l==="hero",p=h?"clamp(1.5rem, 4vw, 3rem)":"clamp(3rem, 8vw, 6rem)";return f.jsxs("div",{className:`relative w-full h-full flex items-center justify-center overflow-hidden ${r}`,style:{backgroundColor:c},children:[f.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`repeating-linear-gradient(
          0deg,
          transparent,
          transparent 50px,
          rgba(255,255,255,0.3) 50px,
          rgba(255,255,255,0.3) 51px
        ),
        repeating-linear-gradient(
          90deg,
          transparent,
          transparent 50px,
          rgba(255,255,255,0.3) 50px,
          rgba(255,255,255,0.3) 51px
        )`}}),!h&&f.jsx("div",{className:"relative z-10 text-white font-extrabold uppercase select-none",style:{fontSize:p,lineHeight:1,fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',fontWeight:900,letterSpacing:"-0.02em"},children:o})]})},C1=()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M15 19l-7-7 7-7"})}),mg=({backTo:i,backLabel:n="Back",variant:r="dark",position:l="relative",className:o=""})=>{const c=Nr(),h=()=>{c(i)},p={light:"text-[#141413] hover:bg-[#141413] hover:text-[#D8D9CF]",dark:"text-white bg-[#141413] hover:bg-white hover:text-[#141413]",transparent:"text-white bg-[#141413]/80 backdrop-blur-sm hover:bg-[#141413]"},m={fixed:"fixed top-6 left-6 z-50",relative:"relative"};return f.jsx("div",{className:`${m[l]} ${o}`,children:f.jsxs("button",{onClick:h,className:`
          inline-flex items-center gap-2
          px-4 py-3
          border-2 border-[#141413]
          text-xs font-bold uppercase tracking-widest
          transition-all duration-200
          ${p[r]}
          touch-manipulation
          shadow-[4px_4px_0px_0px_rgba(20,20,19,1)]
          hover:shadow-[6px_6px_0px_0px_rgba(20,20,19,1)]
          active:shadow-[2px_2px_0px_0px_rgba(20,20,19,1)]
          active:translate-x-[2px] active:translate-y-[2px]
        `,children:[f.jsx(C1,{}),f.jsx("span",{children:n})]})})},R1=()=>f.jsx("svg",{className:"w-4 h-4 mr-3 text-[#141413]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),k1=()=>f.jsxs("svg",{className:"w-4 h-4 mr-3 text-[#141413]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),rc=()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),ic=()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),D1=({shoot:i})=>{const[n,r]=k.useState("details"),l=i.projectType==="photo_shoot"||i.projectType==="hybrid"||!i.projectType,o=i.projectType==="video_project"||i.projectType==="hybrid",c=l,h=l;return f.jsxs("div",{className:"min-h-screen bg-[#D8D9CF] text-[#141413] pb-24 md:pb-0 font-light selection:bg-[#141413] selection:text-white",children:[f.jsx(mg,{backTo:"/dashboard",backLabel:"Dashboard",variant:"transparent",position:"fixed"}),f.jsxs("div",{className:"relative h-[50vh] w-full overflow-hidden",children:[f.jsx(fg,{title:i.title,client:i.client,variant:"hero"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#141413]/70 pointer-events-none"}),f.jsx("div",{className:"absolute bottom-0 left-0 p-6 md:p-12 w-full",children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsxs("div",{className:"flex items-center space-x-3 text-xs md:text-sm uppercase font-bold tracking-[0.2em] text-white mb-4 bg-[#141413] inline-block px-3 py-1",children:[f.jsx("span",{children:i.client}),f.jsx("span",{children:"//"}),f.jsx("span",{children:new Date(i.date+"T00:00:00").toLocaleDateString(void 0,{month:"long",day:"numeric"})})]}),f.jsx("h1",{className:"text-4xl md:text-7xl font-extrabold uppercase tracking-tight text-white leading-none",children:i.title})]})})]}),f.jsx("div",{className:"sticky top-0 z-30 bg-[#D8D9CF]/95 backdrop-blur-sm border-b border-[#141413]",children:f.jsx("div",{className:"max-w-5xl mx-auto flex",children:["details","style",...h?["team"]:[]].map(p=>f.jsx("button",{onClick:()=>r(p),className:`flex-1 py-5 text-xs font-bold uppercase tracking-[0.2em] transition-all
                ${n===p?"text-[#141413] bg-white border-r border-l border-[#141413] -mx-[1px]":"text-[#9E9E98] hover:text-[#141413]"}`,children:p},p))})}),f.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-12 animate-fade-in",children:[n==="details"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[f.jsxs("div",{className:"lg:col-span-7 space-y-12",children:[f.jsxs("section",{children:[f.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest mb-6 border-b border-[#141413] pb-2",children:"Description"}),f.jsx("p",{className:"text-lg leading-relaxed font-normal",children:i.description})]}),i.timeline&&i.timeline.length>0&&f.jsxs("section",{children:[f.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest mb-6 border-b border-[#141413] pb-2",children:"Run of Show"}),f.jsx("div",{className:"space-y-0 border-l border-[#141413]",children:i.timeline.map((p,m)=>f.jsxs("div",{className:"relative pl-8 py-4 hover:bg-white/50 transition-colors group",children:[f.jsx("div",{className:"absolute -left-[5px] top-6 h-2.5 w-2.5 bg-[#141413] rotate-45 group-hover:scale-125 transition-transform"}),f.jsxs("div",{className:"flex flex-col md:flex-row md:items-baseline md:justify-between",children:[f.jsx("span",{className:"font-mono font-bold text-lg",children:p.time}),f.jsx("span",{className:"text-base md:ml-8 font-medium uppercase tracking-wide",children:p.activity})]})]},m))})]})]}),f.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[c&&f.jsxs("div",{className:"bg-white p-8 border border-[#141413] sharp-shadow",children:[f.jsx("h3",{className:"text-xs font-bold uppercase tracking-[0.1em] text-[#9E9E98] mb-6",children:"Logistics"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-start",children:[f.jsx(R1,{}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-bold uppercase text-sm",children:[i.startTime,"  ",i.endTime]}),f.jsx("p",{className:"text-xs text-[#9E9E98] mt-1 uppercase tracking-wide",children:"Production Hours"})]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx(k1,{}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold uppercase text-sm",children:i.locationName}),f.jsx("p",{className:"text-sm text-gray-600 mt-1 font-serif italic",children:i.locationAddress}),i.locationMapUrl&&f.jsx("a",{href:i.locationMapUrl,target:"_blank",rel:"noreferrer",className:"mt-3 inline-block text-[10px] font-bold uppercase tracking-widest border-b border-[#141413] pb-0.5 hover:text-[#9E9E98] hover:border-[#9E9E98]",children:"View Map"})]})]})]})]}),f.jsxs("div",{className:"bg-[#141413] text-white p-8 border border-[#141413]",children:[f.jsx("h3",{className:"text-xs font-bold uppercase tracking-[0.1em] text-[#9E9E98] mb-6",children:"Production Files"}),f.jsxs("div",{className:"space-y-4",children:[i.callSheetUrl&&f.jsxs("a",{href:i.callSheetUrl,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between w-full p-4 bg-transparent border border-[#9E9E98] hover:bg-white hover:text-[#141413] hover:border-white transition-all group",children:[f.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Call Sheet"}),f.jsx(rc,{})]}),i.moodboardUrl&&f.jsxs("a",{href:i.moodboardUrl,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between w-full p-4 bg-transparent border border-[#9E9E98] hover:bg-white hover:text-[#141413] hover:border-white transition-all group",children:[f.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Moodboard"}),f.jsx(ic,{})]}),l&&i.photoStatus==="selection_ready"&&i.photoSelectionUrl&&f.jsxs("a",{href:i.photoSelectionUrl,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between w-full p-4 bg-[#D8D9CF] text-[#141413] border border-[#D8D9CF] hover:bg-white transition-colors",children:[f.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Select Your Photos"}),f.jsx(ic,{})]}),l&&i.photoStatus==="editing_in_progress"&&f.jsx("div",{className:"w-full p-4 bg-transparent border border-[#9E9E98] opacity-60 cursor-not-allowed",children:f.jsx("span",{className:"text-sm font-bold uppercase tracking-wider italic",children:"Editing in Progress..."})}),l&&i.photoStatus==="completed"&&i.finalPhotosUrl&&f.jsxs("a",{href:i.finalPhotosUrl,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between w-full p-4 bg-[#D8D9CF] text-[#141413] border border-[#D8D9CF] hover:bg-white transition-colors",children:[f.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Download Final Photos"}),f.jsx(rc,{})]}),o&&i.videoStatus==="draft"&&i.videoUrl&&f.jsxs("div",{className:"w-full p-4 bg-transparent border border-[#9E9E98]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Video Draft"}),f.jsx("span",{className:"text-xs text-[#9E9E98] uppercase",children:"In Progress"})]}),f.jsx("a",{href:i.videoUrl,target:"_blank",rel:"noreferrer",className:"text-xs underline hover:text-[#D8D9CF]",children:"View Draft"})]}),o&&i.videoStatus==="editing"&&f.jsx("div",{className:"w-full p-4 bg-transparent border border-[#9E9E98] opacity-60 cursor-not-allowed",children:f.jsx("span",{className:"text-sm font-bold uppercase tracking-wider italic",children:"Video Editing..."})}),o&&i.videoStatus==="review"&&i.videoUrl&&f.jsxs("a",{href:i.videoUrl,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between w-full p-4 bg-[#D8D9CF] text-[#141413] border border-[#D8D9CF] hover:bg-white transition-colors",children:[f.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Review Video"}),f.jsx(ic,{})]}),o&&i.videoStatus==="final"&&i.videoUrl&&f.jsxs("a",{href:i.videoUrl,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between w-full p-4 bg-[#D8D9CF] text-[#141413] border border-[#D8D9CF] hover:bg-white transition-colors",children:[f.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:"Download Final Video"}),f.jsx(rc,{})]}),o&&i.videoStatus==="review"&&i.revisionNotes&&f.jsxs("div",{className:"w-full p-4 bg-transparent border border-[#9E9E98]",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-[#9E9E98] mb-2",children:"Revision Notes"}),f.jsx("p",{className:"text-sm font-serif italic whitespace-pre-wrap",children:i.revisionNotes})]})]})]})]})]}),n==="style"&&f.jsxs("div",{className:"space-y-12",children:[i.moodboardImages&&i.moodboardImages.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest mb-6 border-b border-[#141413] pb-2",children:"Visual Direction"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.moodboardImages.map((p,m)=>f.jsxs("div",{className:"bg-white p-2 border border-[#141413]",children:[f.jsx("div",{className:"aspect-[3/4] overflow-hidden bg-[#9E9E98]",children:f.jsx("img",{src:p,alt:`Mood ${m}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500 grayscale contrast-125"})}),f.jsx("div",{className:"pt-2 flex justify-between items-end",children:f.jsxs("span",{className:"text-[10px] font-mono uppercase text-[#9E9E98]",children:["Ref. 0",m+1]})})]},m))})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[f.jsxs("div",{className:"bg-white p-8 border border-[#141413]",children:[f.jsx("h3",{className:"text-xl font-bold uppercase tracking-tight mb-4",children:"Styling"}),i.stylingUrl?f.jsxs("a",{href:i.stylingUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-6 py-3 bg-[#141413] text-white border border-[#141413] text-xs font-bold uppercase tracking-widest hover:bg-white hover:text-[#141413] transition-colors",children:["View Guide ",f.jsx("span",{className:"ml-2",children:""})]}):f.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap font-serif italic",children:i.stylingNotes||"No notes provided."})]}),f.jsxs("div",{className:"bg-white p-8 border border-[#141413]",children:[f.jsx("h3",{className:"text-xl font-bold uppercase tracking-tight mb-4",children:"Hair & Makeup"}),f.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap font-serif italic",children:i.hairMakeupNotes})]})]})]}),n==="team"&&h&&f.jsx(N1,{team:i.team})]})]})},U1=({shoots:i})=>f.jsx("div",{className:"min-h-screen bg-[#D8D9CF] text-[#141413] font-light selection:bg-[#141413] selection:text-white",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-20",children:[f.jsx("div",{className:"mb-24 border-b border-[#141413] pb-8",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-6xl md:text-[9rem] font-extrabold tracking-tighter leading-[0.8] mb-4 uppercase font-stretch-wide -ml-1 md:-ml-2",children:"CLIXY"}),f.jsx("p",{className:"text-sm md:text-base font-bold uppercase tracking-[0.2em]",children:"Studio Olga Prudka"})]}),f.jsxs("div",{className:"mt-2 flex flex-col gap-3 items-end",children:[f.jsx(yt,{to:"/",className:"text-[10px] uppercase font-bold tracking-widest text-[#9E9E98] hover:text-[#141413] transition-colors",children:" Home"}),f.jsx(yt,{to:"/admin",className:"inline-block text-[10px] uppercase font-bold tracking-widest border border-[#141413] px-4 py-2 hover:bg-[#141413] hover:text-[#D8D9CF] transition-colors",children:"Producer Access"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-16",children:i.map(n=>f.jsxs(yt,{to:`/shoot/${n.id}`,className:"group block",children:[f.jsx("div",{className:"relative aspect-[4/3] overflow-hidden border-2 border-[#141413] mb-4 transition-all duration-300 group-hover:shadow-[8px_8px_0px_0px_rgba(20,20,19,1)]",children:f.jsx(fg,{title:n.title,client:n.client})}),f.jsxs("div",{className:"flex flex-col space-y-1 border-t border-[#141413] pt-3",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold uppercase tracking-tight leading-none group-hover:opacity-70 transition-opacity",children:n.title}),f.jsx("span",{className:"text-xs font-mono pt-1",children:n.date})]}),f.jsx("span",{className:"text-xs uppercase tracking-widest text-[#9E9E98]",children:n.client})]})]},n.id))}),f.jsx("div",{className:"mt-32 pt-8 border-t border-[#141413] flex justify-between items-end text-[10px] uppercase tracking-widest text-[#141413]",children:f.jsx("p",{children:"2025 STUDIO OLGA PRUDKA"})})]})});var _c=function(i,n){return _c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(r[o]=l[o])},_c(i,n)};function pg(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");_c(i,n);function r(){this.constructor=i}i.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var xl=function(){return xl=Object.assign||function(n){for(var r,l=1,o=arguments.length;l<o;l++){r=arguments[l];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},xl.apply(this,arguments)};function Or(i,n){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(i);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(i,l[o])&&(r[l[o]]=i[l[o]]);return r}function gg(i,n,r,l){var o=arguments.length,c=o<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,r):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(i,n,r,l);else for(var p=i.length-1;p>=0;p--)(h=i[p])&&(c=(o<3?h(c):o>3?h(n,r,c):h(n,r))||c);return o>3&&c&&Object.defineProperty(n,r,c),c}function vg(i,n){return function(r,l){n(r,l,i)}}function yg(i,n,r,l,o,c){function h(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var p=l.kind,m=p==="getter"?"get":p==="setter"?"set":"value",g=!n&&i?l.static?i:i.prototype:null,x=n||(g?Object.getOwnPropertyDescriptor(g,l.name):{}),w,j=!1,y=r.length-1;y>=0;y--){var _={};for(var T in l)_[T]=T==="access"?{}:l[T];for(var T in l.access)_.access[T]=l.access[T];_.addInitializer=function(E){if(j)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(E||null))};var S=(0,r[y])(p==="accessor"?{get:x.get,set:x.set}:x[m],_);if(p==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(w=h(S.get))&&(x.get=w),(w=h(S.set))&&(x.set=w),(w=h(S.init))&&o.unshift(w)}else(w=h(S))&&(p==="field"?o.unshift(w):x[m]=w)}g&&Object.defineProperty(g,l.name,x),j=!0}function bg(i,n,r){for(var l=arguments.length>2,o=0;o<n.length;o++)r=l?n[o].call(i,r):n[o].call(i);return l?r:void 0}function xg(i){return typeof i=="symbol"?i:"".concat(i)}function _g(i,n,r){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:r?"".concat(r," ",n):n})}function wg(i,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,n)}function X(i,n,r,l){function o(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function p(x){try{g(l.next(x))}catch(w){h(w)}}function m(x){try{g(l.throw(x))}catch(w){h(w)}}function g(x){x.done?c(x.value):o(x.value).then(p,m)}g((l=l.apply(i,n||[])).next())})}function Sg(i,n){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,o,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=p(0),h.throw=p(1),h.return=p(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(g){return function(x){return m([g,x])}}function m(g){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(r=0)),r;)try{if(l=1,o&&(c=g[0]&2?o.return:g[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,g[1])).done)return c;switch(o=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,o=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){r.label=g[1];break}if(g[0]===6&&r.label<c[1]){r.label=c[1],c=g;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(g);break}c[2]&&r.ops.pop(),r.trys.pop();continue}g=n.call(i,r)}catch(x){g=[6,x],o=0}finally{l=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Nl=Object.create?(function(i,n,r,l){l===void 0&&(l=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(i,l,o)}):(function(i,n,r,l){l===void 0&&(l=r),i[l]=n[r]});function Eg(i,n){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&Nl(n,i,r)}function _l(i){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&i[n],l=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pc(i,n){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var l=r.call(i),o,c=[],h;try{for(;(n===void 0||n-- >0)&&!(o=l.next()).done;)c.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(r=l.return)&&r.call(l)}finally{if(h)throw h.error}}return c}function jg(){for(var i=[],n=0;n<arguments.length;n++)i=i.concat(Pc(arguments[n]));return i}function Tg(){for(var i=0,n=0,r=arguments.length;n<r;n++)i+=arguments[n].length;for(var l=Array(i),o=0,n=0;n<r;n++)for(var c=arguments[n],h=0,p=c.length;h<p;h++,o++)l[o]=c[h];return l}function Ng(i,n,r){if(r||arguments.length===2)for(var l=0,o=n.length,c;l<o;l++)(c||!(l in n))&&(c||(c=Array.prototype.slice.call(n,0,l)),c[l]=n[l]);return i.concat(c||Array.prototype.slice.call(n))}function Er(i){return this instanceof Er?(this.v=i,this):new Er(i)}function Og(i,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=r.apply(i,n||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(y){return function(_){return Promise.resolve(_).then(y,w)}}function p(y,_){l[y]&&(o[y]=function(T){return new Promise(function(S,E){c.push([y,T,S,E])>1||m(y,T)})},_&&(o[y]=_(o[y])))}function m(y,_){try{g(l[y](_))}catch(T){j(c[0][3],T)}}function g(y){y.value instanceof Er?Promise.resolve(y.value.v).then(x,w):j(c[0][2],y)}function x(y){m("next",y)}function w(y){m("throw",y)}function j(y,_){y(_),c.shift(),c.length&&m(c[0][0],c[0][1])}}function Ag(i){var n,r;return n={},l("next"),l("throw",function(o){throw o}),l("return"),n[Symbol.iterator]=function(){return this},n;function l(o,c){n[o]=i[o]?function(h){return(r=!r)?{value:Er(i[o](h)),done:!1}:c?c(h):h}:c}}function Cg(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],r;return n?n.call(i):(i=typeof _l=="function"?_l(i):i[Symbol.iterator](),r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r);function l(c){r[c]=i[c]&&function(h){return new Promise(function(p,m){h=i[c](h),o(p,m,h.done,h.value)})}}function o(c,h,p,m){Promise.resolve(m).then(function(g){c({value:g,done:p})},h)}}function Rg(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i}var M1=Object.create?(function(i,n){Object.defineProperty(i,"default",{enumerable:!0,value:n})}):function(i,n){i.default=n},wc=function(i){return wc=Object.getOwnPropertyNames||function(n){var r=[];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[r.length]=l);return r},wc(i)};function kg(i){if(i&&i.__esModule)return i;var n={};if(i!=null)for(var r=wc(i),l=0;l<r.length;l++)r[l]!=="default"&&Nl(n,i,r[l]);return M1(n,i),n}function Dg(i){return i&&i.__esModule?i:{default:i}}function Ug(i,n,r,l){if(r==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?i!==n||!l:!n.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?l:r==="a"?l.call(i):l?l.value:n.get(i)}function Mg(i,n,r,l,o){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?i!==n||!o:!n.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?o.call(i,r):o?o.value=r:n.set(i,r),r}function zg(i,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?n===i:i.has(n)}function Lg(i,n,r){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var l,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=n[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=n[Symbol.dispose],r&&(o=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");o&&(l=function(){try{o.call(this)}catch(c){return Promise.reject(c)}}),i.stack.push({value:n,dispose:l,async:r})}else r&&i.stack.push({async:!0});return n}var z1=typeof SuppressedError=="function"?SuppressedError:function(i,n,r){var l=new Error(r);return l.name="SuppressedError",l.error=i,l.suppressed=n,l};function Bg(i){function n(c){i.error=i.hasError?new z1(c,i.error,"An error was suppressed during disposal."):c,i.hasError=!0}var r,l=0;function o(){for(;r=i.stack.pop();)try{if(!r.async&&l===1)return l=0,i.stack.push(r),Promise.resolve().then(o);if(r.dispose){var c=r.dispose.call(r.value);if(r.async)return l|=2,Promise.resolve(c).then(o,function(h){return n(h),o()})}else l|=1}catch(h){n(h)}if(l===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return o()}function Hg(i,n){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,l,o,c,h){return l?n?".jsx":".js":o&&(!c||!h)?r:o+c+"."+h.toLowerCase()+"js"}):i}const L1={__extends:pg,__assign:xl,__rest:Or,__decorate:gg,__param:vg,__esDecorate:yg,__runInitializers:bg,__propKey:xg,__setFunctionName:_g,__metadata:wg,__awaiter:X,__generator:Sg,__createBinding:Nl,__exportStar:Eg,__values:_l,__read:Pc,__spread:jg,__spreadArrays:Tg,__spreadArray:Ng,__await:Er,__asyncGenerator:Og,__asyncDelegator:Ag,__asyncValues:Cg,__makeTemplateObject:Rg,__importStar:kg,__importDefault:Dg,__classPrivateFieldGet:Ug,__classPrivateFieldSet:Mg,__classPrivateFieldIn:zg,__addDisposableResource:Lg,__disposeResources:Bg,__rewriteRelativeImportExtension:Hg},B1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Lg,get __assign(){return xl},__asyncDelegator:Ag,__asyncGenerator:Og,__asyncValues:Cg,__await:Er,__awaiter:X,__classPrivateFieldGet:Ug,__classPrivateFieldIn:zg,__classPrivateFieldSet:Mg,__createBinding:Nl,__decorate:gg,__disposeResources:Bg,__esDecorate:yg,__exportStar:Eg,__extends:pg,__generator:Sg,__importDefault:Dg,__importStar:kg,__makeTemplateObject:Rg,__metadata:wg,__param:vg,__propKey:xg,__read:Pc,__rest:Or,__rewriteRelativeImportExtension:Hg,__runInitializers:bg,__setFunctionName:_g,__spread:jg,__spreadArray:Ng,__spreadArrays:Tg,__values:_l,default:L1},Symbol.toStringTag,{value:"Module"})),H1=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class Yc extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class $1 extends Yc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class gp extends Yc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class vp extends Yc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Sc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Sc||(Sc={}));class q1{constructor(n,{headers:r={},customFetch:l,region:o=Sc.Any}={}){this.url=n,this.headers=r,this.region=o,this.fetch=H1(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return X(this,arguments,void 0,function*(r,l={}){var o;let c,h;try{const{headers:p,method:m,body:g,signal:x,timeout:w}=l;let j={},{region:y}=l;y||(y=this.region);const _=new URL(`${this.url}/${r}`);y&&y!=="any"&&(j["x-region"]=y,_.searchParams.set("forceFunctionRegion",y));let T;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(j["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(j["Content-Type"]="application/json",T=JSON.stringify(g)):T=g;let S=x;w&&(h=new AbortController,c=setTimeout(()=>h.abort(),w),x?(S=h.signal,x.addEventListener("abort",()=>h.abort())):S=h.signal);const E=yield this.fetch(_.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),p),body:T,signal:S}).catch(re=>{throw new $1(re)}),q=E.headers.get("x-relay-error");if(q&&q==="true")throw new gp(E);if(!E.ok)throw new vp(E);let R=((o=E.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Y;return R==="application/json"?Y=yield E.json():R==="application/octet-stream"||R==="application/pdf"?Y=yield E.blob():R==="text/event-stream"?Y=E:R==="multipart/form-data"?Y=yield E.formData():Y=yield E.text(),{data:Y,error:null,response:E}}catch(p){return{data:null,error:p,response:p instanceof vp||p instanceof gp?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var lt={};const Ar=Gb(B1);var il={},sl={},ll={},ol={},ul={},cl={},yp;function $g(){if(yp)return cl;yp=1,Object.defineProperty(cl,"__esModule",{value:!0});class i extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return cl.default=i,cl}var bp;function qg(){if(bp)return ul;bp=1,Object.defineProperty(ul,"__esModule",{value:!0});const n=Ar.__importDefault($g());class r{constructor(o){var c,h;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(h=o.isMaybeSingle)!==null&&h!==void 0?h:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,x,w,j;let y=null,_=null,T=null,S=m.status,E=m.statusText;if(m.ok){if(this.method!=="HEAD"){const re=await m.text();re===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?_=re:_=JSON.parse(re))}const R=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),Y=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&Y&&Y.length>1&&(T=parseInt(Y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(y={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,T=null,S=406,E="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const R=await m.text();try{y=JSON.parse(R),Array.isArray(y)&&m.status===404&&(_=[],y=null,S=200,E="OK")}catch{m.status===404&&R===""?(S=204,E="No Content"):y={message:R}}if(y&&this.isMaybeSingle&&(!((j=y==null?void 0:y.details)===null||j===void 0)&&j.includes("0 rows"))&&(y=null,S=200,E="OK"),y&&this.shouldThrowOnError)throw new n.default(y)}return{error:y,data:_,count:T,status:S,statusText:E}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,x,w,j,y,_;let T="";const S=m==null?void 0:m.cause;if(S){const E=(g=S==null?void 0:S.message)!==null&&g!==void 0?g:"",q=(x=S==null?void 0:S.code)!==null&&x!==void 0?x:"";T=`${(w=m==null?void 0:m.name)!==null&&w!==void 0?w:"FetchError"}: ${m==null?void 0:m.message}`,T+=`

Caused by: ${(j=S==null?void 0:S.name)!==null&&j!==void 0?j:"Error"}: ${E}`,q&&(T+=` (${q})`),S!=null&&S.stack&&(T+=`
${S.stack}`)}else T=(y=m==null?void 0:m.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(_=m==null?void 0:m.name)!==null&&_!==void 0?_:"FetchError"}: ${m==null?void 0:m.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(o,c)}returns(){return this}overrideTypes(){return this}}return ul.default=r,ul}var xp;function Gg(){if(xp)return ol;xp=1,Object.defineProperty(ol,"__esModule",{value:!0});const n=Ar.__importDefault(qg());class r extends n.default{select(o){let c=!1;const h=(o??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:h,foreignTable:p,referencedTable:m=p}={}){const g=m?`${m}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${o}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this}range(o,c,{foreignTable:h,referencedTable:p=h}={}){const m=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:h=!1,buffers:p=!1,wal:m=!1,format:g="text"}={}){var x;const w=[o?"analyze":null,c?"verbose":null,h?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),j=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${j}"; options=${w};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ol.default=r,ol}var _p;function Ic(){if(_p)return ll;_p=1,Object.defineProperty(ll,"__esModule",{value:!0});const n=Ar.__importDefault(Gg()),r=new RegExp("[,()]");class l extends n.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}regexMatch(c,h){return this.url.searchParams.append(c,`match.${h}`),this}regexIMatch(c,h){return this.url.searchParams.append(c,`imatch.${h}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}isDistinct(c,h){return this.url.searchParams.append(c,`isdistinct.${h}`),this}in(c,h){const p=Array.from(new Set(h)).map(m=>typeof m=="string"&&r.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:p,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const x=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${g}fts${x}.${h}`),this}match(c){return Object.entries(c).forEach(([h,p])=>{this.url.searchParams.append(h,`eq.${p}`)}),this}not(c,h,p){return this.url.searchParams.append(c,`not.${h}.${p}`),this}or(c,{foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,h,p){return this.url.searchParams.append(c,`${h}.${p}`),this}}return ll.default=l,ll}var wp;function Vg(){if(wp)return sl;wp=1,Object.defineProperty(sl,"__esModule",{value:!0});const n=Ar.__importDefault(Ic());class r{constructor(o,{headers:c={},schema:h,fetch:p}){this.url=o,this.headers=new Headers(c),this.schema=h,this.fetch=p}select(o,c){const{head:h=!1,count:p}=c??{},m=h?"HEAD":"GET";let g=!1;const x=(o??"*").split("").map(w=>/\s/.test(w)&&!g?"":(w==='"'&&(g=!g),w)).join("");return this.url.searchParams.set("select",x),p&&this.headers.append("Prefer",`count=${p}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:h=!0}={}){var p;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(g.length>0){const x=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:h=!1,count:p,defaultToNull:m=!0}={}){var g;const x="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const w=o.reduce((j,y)=>j.concat(Object.keys(y)),[]);if(w.length>0){const j=[...new Set(w)].map(y=>`"${y}"`);this.url.searchParams.set("columns",j.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:c}={}){var h;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:o}={}){var c;const h="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return sl.default=r,sl}var Sp;function G1(){if(Sp)return il;Sp=1,Object.defineProperty(il,"__esModule",{value:!0});const i=Ar,n=i.__importDefault(Vg()),r=i.__importDefault(Ic());class l{constructor(c,{headers:h={},schema:p,fetch:m}={}){this.url=c,this.headers=new Headers(h),this.schemaName=p,this.fetch=m}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${c}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:p=!1,get:m=!1,count:g}={}){var x;let w;const j=new URL(`${this.url}/rpc/${c}`);let y;p||m?(w=p?"HEAD":"GET",Object.entries(h).filter(([T,S])=>S!==void 0).map(([T,S])=>[T,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([T,S])=>{j.searchParams.append(T,S)})):(w="POST",y=h);const _=new Headers(this.headers);return g&&_.set("Prefer",`count=${g}`),new r.default({method:w,url:j,headers:_,schema:this.schemaName,body:y,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return il.default=l,il}var Ep;function V1(){if(Ep)return lt;Ep=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const i=Ar,n=i.__importDefault(G1());lt.PostgrestClient=n.default;const r=i.__importDefault(Vg());lt.PostgrestQueryBuilder=r.default;const l=i.__importDefault(Ic());lt.PostgrestFilterBuilder=l.default;const o=i.__importDefault(Gg());lt.PostgrestTransformBuilder=o.default;const c=i.__importDefault(qg());lt.PostgrestBuilder=c.default;const h=i.__importDefault($g());return lt.PostgrestError=h.default,lt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:h.default},lt}var Pg=V1();const Yg=Mc(Pg),P1=qb({__proto__:null,default:Yg},[Pg]),{PostgrestClient:Y1,PostgrestQueryBuilder:Pw,PostgrestFilterBuilder:Yw,PostgrestTransformBuilder:Iw,PostgrestBuilder:Kw,PostgrestError:Qw}=Yg||P1;class I1{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const l=r.node,o=parseInt(l.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const K1="2.86.0",Q1=`realtime-js/${K1}`,Ig="1.0.0",J1="2.0.0",jp=Ig,Ec=1e4,X1=1e3,Z1=100;var Ea;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ea||(Ea={}));var Je;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Je||(Je={}));var Jt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Jt||(Jt={}));var jc;(function(i){i.websocket="websocket"})(jc||(jc={}));var ja;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(ja||(ja={}));class F1{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const o=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var r,l;const o=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,r,l){var o,c;const h=n.topic,p=(o=n.ref)!==null&&o!==void 0?o:"",m=(c=n.join_ref)!==null&&c!==void 0?c:"",g=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},w=Object.keys(x).length===0?"":JSON.stringify(x);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+h.length+g.length+w.length,y=new ArrayBuffer(this.HEADER_LENGTH+j);let _=new DataView(y),T=0;_.setUint8(T++,this.KINDS.userBroadcastPush),_.setUint8(T++,m.length),_.setUint8(T++,p.length),_.setUint8(T++,h.length),_.setUint8(T++,g.length),_.setUint8(T++,w.length),_.setUint8(T++,r),Array.from(m,E=>_.setUint8(T++,E.charCodeAt(0))),Array.from(p,E=>_.setUint8(T++,E.charCodeAt(0))),Array.from(h,E=>_.setUint8(T++,E.charCodeAt(0))),Array.from(g,E=>_.setUint8(T++,E.charCodeAt(0))),Array.from(w,E=>_.setUint8(T++,E.charCodeAt(0)));var S=new Uint8Array(y.byteLength+l.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(l),y.byteLength),S.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,c,h,p,m]=l;return r({join_ref:o,ref:c,topic:h,event:p,payload:m})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),o=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,o)}}_decodeUserBroadcast(n,r,l){const o=r.getUint8(1),c=r.getUint8(2),h=r.getUint8(3),p=r.getUint8(4);let m=this.HEADER_LENGTH+4;const g=l.decode(n.slice(m,m+o));m=m+o;const x=l.decode(n.slice(m,m+c));m=m+c;const w=l.decode(n.slice(m,m+h));m=m+h;const j=n.slice(m,n.byteLength),y=p===this.JSON_ENCODING?JSON.parse(l.decode(j)):j,_={type:this.BROADCAST_EVENT,event:x,payload:y};return h>0&&(_.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class Kg{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ce||(Ce={}));const Tp=(i,n,r={})=>{var l;const o=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,h)=>(c[h]=W1(h,i,n,o),c),{}):{}},W1=(i,n,r,l)=>{const o=n.find(p=>p.name===i),c=o==null?void 0:o.type,h=r[i];return c&&!l.includes(c)?Qg(c,h):Tc(h)},Qg=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return ax(n,r)}switch(i){case Ce.bool:return ex(n);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return tx(n);case Ce.json:case Ce.jsonb:return nx(n);case Ce.timestamp:return rx(n);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Tc(n);default:return Tc(n)}},Tc=i=>i,ex=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},tx=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},nx=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},ax=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let c;const h=i.slice(1,r);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>Qg(n,p))}return i},rx=i=>typeof i=="string"?i.replace(" ","T"):i,Jg=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class sc{constructor(n,r,l={},o=Ec){this.channel=n,this.event=r,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Np;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Np||(Np={}));class Ai{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ai.syncState(this.state,o,c,h),this.pendingDiffs.forEach(m=>{this.state=Ai.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},o=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ai.syncDiff(this.state,o,c,h),p())}),this.onJoin((o,c,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:h})}),this.onLeave((o,c,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,o){const c=this.cloneDeep(n),h=this.transformState(r),p={},m={};return this.map(c,(g,x)=>{h[g]||(m[g]=x)}),this.map(h,(g,x)=>{const w=c[g];if(w){const j=x.map(S=>S.presence_ref),y=w.map(S=>S.presence_ref),_=x.filter(S=>y.indexOf(S.presence_ref)<0),T=w.filter(S=>j.indexOf(S.presence_ref)<0);_.length>0&&(p[g]=_),T.length>0&&(m[g]=T)}else p[g]=x}),this.syncDiff(c,{joins:p,leaves:m},l,o)}static syncDiff(n,r,l,o){const{joins:c,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(c,(p,m)=>{var g;const x=(g=n[p])!==null&&g!==void 0?g:[];if(n[p]=this.cloneDeep(m),x.length>0){const w=n[p].map(y=>y.presence_ref),j=x.filter(y=>w.indexOf(y.presence_ref)<0);n[p].unshift(...j)}l(p,x,m)}),this.map(h,(p,m)=>{let g=n[p];if(!g)return;const x=m.map(w=>w.presence_ref);g=g.filter(w=>x.indexOf(w.presence_ref)<0),n[p]=g,o(p,g,m),g.length===0&&delete n[p]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const o=n[l];return"metas"in o?r[l]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[l]=o,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Op;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Op||(Op={}));var Ci;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ci||(Ci={}));var wn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class Kc{constructor(n,r={config:{}},l){var o,c;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sc(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new Kg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new Ai(this),this.broadcastEndpointURL=Jg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,g=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(y=>y.filter))!==null&&o!==void 0?o:[],x=!!this.bindings[Ci.PRESENCE]&&this.bindings[Ci.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},j={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:x}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(y=>n==null?void 0:n(wn.CHANNEL_ERROR,y)),this._onClose(()=>n==null?void 0:n(wn.CLOSED)),this.updateJoinPayload(Object.assign({config:j},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){n==null||n(wn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(_=T==null?void 0:T.length)!==null&&_!==void 0?_:0,E=[];for(let q=0;q<S;q++){const R=T[q],{filter:{event:Y,schema:re,table:ae,filter:Q}}=R,ve=y&&y[q];if(ve&&ve.event===Y&&ve.schema===re&&ve.table===ae&&ve.filter===Q)E.push(Object.assign(Object.assign({},R),{id:ve.id}));else{this.unsubscribe(),this.state=Je.errored,n==null||n(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,n&&n(wn.SUBSCRIBED);return}}).receive("error",y=>{this.state=Je.errored,n==null||n(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===Je.joined&&n===Ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var o;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,r={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,m;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new sc(this,Jt.leave,{},n),l.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const o=new AbortController,c=setTimeout(()=>o.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),h}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new sc(this,n,r,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Z1){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var o,c;const h=n.toLocaleLowerCase(),{close:p,error:m,leave:g,join:x}=Jt;if(l&&[p,m,g,x].indexOf(h)>=0&&l!==this._joinRef())return;let j=this._onMessage(h,r,l);if(r&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var _,T,S;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(T=y.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===h}).map(y=>y.callback(j,l)):(c=this.bindings[h])===null||c===void 0||c.filter(y=>{var _,T,S,E,q,R;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in y){const Y=y.id,re=(_=y.filter)===null||_===void 0?void 0:_.event;return Y&&((T=r.ids)===null||T===void 0?void 0:T.includes(Y))&&(re==="*"||(re==null?void 0:re.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const Y=(q=(E=y==null?void 0:y.filter)===null||E===void 0?void 0:E.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return Y==="*"||Y===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===h}).map(y=>{if(typeof j=="object"&&"ids"in j){const _=j.data,{schema:T,table:S,commit_timestamp:E,type:q,errors:R}=_;j=Object.assign(Object.assign({},{schema:T,table:S,commit_timestamp:E,eventType:q,new:{},old:{},errors:R}),this._getPayloadRecords(_))}y.callback(j,l)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const o=n.toLocaleLowerCase(),c={type:o,filter:r,callback:l};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Kc.isEqual(o.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Jt.close,{},n)}_onError(n){this._on(Jt.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Tp(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Tp(n.columns,n.old_record)),r}}const lc=()=>{},dl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ix=[1e3,2e3,5e3,1e4],sx=1e4,lx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ox{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ec,this.transport=null,this.heartbeatIntervalMs=dl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lc,this.ref=0,this.reconnectTimer=null,this.vsn=jp,this.logger=lc,this.conn=null,this.sendBuffer=[],this.serializer=new F1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((l=r==null?void 0:r.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${jc.websocket}`,this.httpEndpoint=Jg(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=I1.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return ja.Connecting;case Ea.open:return ja.Open;case Ea.closing:return ja.Closing;default:return ja.Closed}}isConnected(){return this.connectionState()===ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===l);if(o)return o;{const c=new Kc(`realtime:${n}`,r,this);return this.channels.push(c),c}}push(n){const{topic:r,event:l,payload:o,ref:c}=n,h=()=>{this.encode(n,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${r} ${l} (${c})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(X1,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},dl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:o,payload:c,ref:h}=r,p=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${l} ${o} ${p}`.trim(),c),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(o,c,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ea.open||this.conn.readyState===Ea.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Jt.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${n}${l}${o}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([lx],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(l=>{const o={access_token:r,version:Q1};r&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(Jt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Kg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,o,c,h,p,m,g,x,w,j,y;switch(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:Ec,this.heartbeatIntervalMs=(o=n==null?void 0:n.heartbeatIntervalMs)!==null&&o!==void 0?o:dl.HEARTBEAT_INTERVAL,this.worker=(c=n==null?void 0:n.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=n==null?void 0:n.heartbeatCallback)!==null&&p!==void 0?p:lc,this.vsn=(m=n==null?void 0:n.vsn)!==null&&m!==void 0?m:jp,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(_=>ix[_-1]||sx),this.vsn){case Ig:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:((_,T)=>T(JSON.stringify(_))),this.decode=(w=n==null?void 0:n.decode)!==null&&w!==void 0?w:((_,T)=>T(JSON.parse(_)));break;case J1:this.encode=(j=n==null?void 0:n.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(y=n==null?void 0:n.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class Ol extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function ze(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class ux extends Ol{constructor(n,r,l){super(n),this.name="StorageApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nc extends Ol{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}const Qc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),cx=()=>Response,Oc=i=>{if(Array.isArray(i))return i.map(r=>Oc(r));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([r,l])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=Oc(l)}),n},dx=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},hx=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),oc=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},fx=(i,n,r)=>X(void 0,void 0,void 0,function*(){const l=yield cx();i instanceof l&&!(r!=null&&r.noResolveJson)?i.json().then(o=>{const c=i.status||500,h=(o==null?void 0:o.statusCode)||c+"";n(new ux(oc(o),c,h))}).catch(o=>{n(new Nc(oc(o),o))}):n(new Nc(oc(i),i))}),mx=(i,n,r,l)=>{const o={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"||!l?o:(dx(l)?(o.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),o.body=JSON.stringify(l)):o.body=l,n!=null&&n.duplex&&(o.duplex=n.duplex),Object.assign(Object.assign({},o),r))};function Bi(i,n,r,l,o,c){return X(this,void 0,void 0,function*(){return new Promise((h,p)=>{i(r,mx(n,l,o,c)).then(m=>{if(!m.ok)throw m;return l!=null&&l.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>fx(m,p,l))})})}function ki(i,n,r,l){return X(this,void 0,void 0,function*(){return Bi(i,"GET",n,r,l)})}function Qt(i,n,r,l,o){return X(this,void 0,void 0,function*(){return Bi(i,"POST",n,l,o,r)})}function Ac(i,n,r,l,o){return X(this,void 0,void 0,function*(){return Bi(i,"PUT",n,l,o,r)})}function px(i,n,r,l){return X(this,void 0,void 0,function*(){return Bi(i,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),l)})}function Jc(i,n,r,l,o){return X(this,void 0,void 0,function*(){return Bi(i,"DELETE",n,l,o,r)})}class gx{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}}var Xg;class vx{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[Xg]="BlobDownloadBuilder",this.promise=null}asStream(){return new gx(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}})}}Xg=Symbol.toStringTag;const yx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ap={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bx{constructor(n,r={},l,o){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.bucketId=l,this.fetch=Qc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,r,l,o){return X(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Ap),o);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(m))):(c=l,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),o!=null&&o.headers&&(p=Object.assign(Object.assign({},p),o.headers));const g=this._removeEmptyFolders(r),x=this._getFinalPath(g),w=yield(n=="PUT"?Ac:Qt)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}})}upload(n,r,l){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,l)})}uploadToSignedUrl(n,r,l,o){return X(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",r);try{let m;const g=Object.assign({upsert:Ap.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",g.cacheControl)):(m=l,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const w=yield Ac(this.fetch,p.toString(),m,{headers:x});return{data:{path:c,fullPath:w.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(ze(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,r){return X(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const c=yield Qt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:o}),h=new URL(this.url+c.url),p=h.searchParams.get("token");if(!p)throw new Ol("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:p},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}update(n,r,l){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,l)})}move(n,r,l){return X(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}copy(n,r,l){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}createSignedUrl(n,r,l){return X(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),c=yield Qt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}createSignedUrls(n,r,l){return X(this,void 0,void 0,function*(){try{const o=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),c=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}download(n,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),h=c?`?${c}`:"",p=this._getFinalPath(n),m=()=>ki(this.fetch,`${this.url}/${o}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new vx(m,this.shouldThrowOnError)}info(n){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const l=yield ki(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Oc(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}exists(n){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield px(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l)&&l instanceof Nc){const o=l.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,r){const l=this._getFinalPath(n),o=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&o.push(c);const p=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});m!==""&&o.push(m);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${l}${g}`)}}}remove(n){return X(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}list(n,r,l){return X(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},yx),r),{prefix:n||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}listV2(n,r){return X(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const Zg="2.86.0",Fg={"X-Client-Info":`storage-js/${Zg}`};class xx{constructor(n,r={},l,o){this.shouldThrowOnError=!1;const c=new URL(n);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fg),r),this.fetch=Qc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return X(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(n);return{data:yield ki(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}getBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}createBucket(n){return X(this,arguments,void 0,function*(r,l={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ze(o))return{data:null,error:o};throw o}})}updateBucket(n,r){return X(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ze(l))return{data:null,error:l};throw l}})}emptyBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}deleteBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Di=class extends Error{constructor(i,n){var r;super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((r=n.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _x(i,n,r){const l=new URL(n,i);if(r)for(const[o,c]of Object.entries(r))c!==void 0&&l.searchParams.set(o,c);return l.toString()}async function wx(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Sx(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:o,body:c,headers:h}){const p=_x(i.baseUrl,l,o),m=await wx(i.auth),g=await n(p,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...m,...h},body:c?JSON.stringify(c):void 0}),x=await g.text(),w=(g.headers.get("content-type")||"").includes("application/json"),j=w&&x?JSON.parse(x):x;if(!g.ok){const y=w?j:void 0,_=y==null?void 0:y.error;throw new Di((_==null?void 0:_.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:y})}return{status:g.status,headers:g.headers,data:j}}}}function hl(i){return i.join("")}var Ex=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:hl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,n){const r={namespace:i.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hl(i.namespace)}`}),!0}catch(n){if(n instanceof Di&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(r){if(r instanceof Di&&r.status===409)return;throw r}}};function mr(i){return i.join("")}var jx=class{constructor(i,n="",r){this.client=i,this.prefix=n,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mr(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mr(i.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(i,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mr(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mr(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mr(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mr(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(r){if(r instanceof Di&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(r){if(r instanceof Di&&r.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw r}}},Tx=class{constructor(i){var l;let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Sx({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(l=i.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new Ex(this.client,n),this.tableOps=new jx(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}};class Nx{constructor(n,r={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fg),r),this.fetch=Qc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}listBuckets(n){return X(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&r.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&r.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&r.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&r.set("sortOrder",n.sortOrder),n!=null&&n.search&&r.set("search",n.search);const l=r.toString(),o=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield ki(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}deleteBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}})}from(n){if(!hx(n))throw new Ol("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Tx({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>X(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Xc={"X-Client-Info":`storage-js/${Zg}`,"Content-Type":"application/json"};class Wg extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class uc extends Wg{constructor(n,r,l){super(n),this.name="StorageVectorsApiError",this.status=r,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ox extends Wg{constructor(n,r){super(n),this.name="StorageVectorsUnknownError",this.originalError=r}}var Cp;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Cp||(Cp={}));const Zc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Ax=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Rp=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Cx=(i,n,r)=>X(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(r!=null&&r.noResolveJson)){const o=i.status||500,c=i;if(typeof c.json=="function")c.json().then(h=>{const p=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||o+"";n(new uc(Rp(h),o,p))}).catch(()=>{const h=o+"",p=c.statusText||`HTTP ${o} error`;n(new uc(p,o,h))});else{const h=o+"",p=c.statusText||`HTTP ${o} error`;n(new uc(p,o,h))}}else n(new Ox(Rp(i),i))}),Rx=(i,n,r,l)=>{const o={method:i,headers:(n==null?void 0:n.headers)||{}};return l?(Ax(l)?(o.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),o.body=JSON.stringify(l)):o.body=l,Object.assign(Object.assign({},o),r)):o};function kx(i,n,r,l,o,c){return X(this,void 0,void 0,function*(){return new Promise((h,p)=>{i(r,Rx(n,l,o,c)).then(m=>{if(!m.ok)throw m;if(l!=null&&l.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>Cx(m,p,l))})})}function kt(i,n,r,l,o){return X(this,void 0,void 0,function*(){return kx(i,"POST",n,l,o,r)})}class Dx{constructor(n,r={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),r),this.fetch=Zc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return X(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}getIndex(n,r){return X(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Rt(l))return{data:null,error:l};throw l}})}listIndexes(n){return X(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}deleteIndex(n,r){return X(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Rt(l))return{data:null,error:l};throw l}})}}class Ux{constructor(n,r={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),r),this.fetch=Zc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return X(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield kt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}getVectors(n){return X(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listVectors(n){return X(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield kt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}queryVectors(n){return X(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}deleteVectors(n){return X(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield kt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}}class Mx{constructor(n,r={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),r),this.fetch=Zc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return X(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}getBucket(n){return X(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}listBuckets(){return X(this,arguments,void 0,function*(n={}){try{return{data:yield kt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return X(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rt(r))return{data:null,error:r};throw r}})}}class zx extends Mx{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new Lx(this.url,this.headers,n,this.fetch)}createBucket(n){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return X(this,void 0,void 0,function*(){return r.createBucket.call(this,n)})}getBucket(n){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return X(this,void 0,void 0,function*(){return r.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return X(this,arguments,void 0,function*(r={}){return n.listBuckets.call(this,r)})}deleteBucket(n){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return X(this,void 0,void 0,function*(){return r.deleteBucket.call(this,n)})}}class Lx extends Dx{constructor(n,r,l,o){super(n,r,o),this.vectorBucketName=l}createIndex(n){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(r={}){return n.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Bx(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Bx extends Ux{constructor(n,r,l,o,c){super(n,r,c),this.vectorBucketName=l,this.indexName=o}putVectors(n){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(r={}){return n.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Hx extends xx{constructor(n,r={},l,o){super(n,r,l,o)}from(n){return new bx(this.url,this.headers,n,this.fetch)}get vectors(){return new zx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nx(this.url+"/iceberg",this.headers,this.fetch)}}const $x="2.86.0";let Oi="";typeof Deno<"u"?Oi="deno":typeof document<"u"?Oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oi="react-native":Oi="node";const qx={"X-Client-Info":`supabase-js-${Oi}/${$x}`},Gx={headers:qx},Vx={schema:"public"},Px={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yx={},Ix=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Kx=()=>Headers,Qx=(i,n,r)=>{const l=Ix(r),o=Kx();return async(c,h)=>{var p;const m=(p=await n())!==null&&p!==void 0?p:i;let g=new o(h==null?void 0:h.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(c,Object.assign(Object.assign({},h),{headers:g}))}};function Jx(i){return i.endsWith("/")?i:i+"/"}function Xx(i,n){var r,l;const{db:o,auth:c,realtime:h,global:p}=i,{db:m,auth:g,realtime:x,global:w}=n,j={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},x),h),storage:{},global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(l=p==null?void 0:p.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?j.accessToken=i.accessToken:delete j.accessToken,j}function Zx(i){const n=i==null?void 0:i.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jx(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ev="2.86.0",xr=30*1e3,Cc=3,cc=Cc*xr,Fx="http://localhost:9999",Wx="supabase.auth.token",e_={"X-Client-Info":`gotrue-js/${ev}`},Rc="X-Supabase-Api-Version",tv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n_=600*1e3;class Ui extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ee(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class a_ extends Ui{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function r_(i){return ee(i)&&i.name==="AuthApiError"}class Ta extends Ui{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class ea extends Ui{constructor(n,r,l,o){super(n,l,o),this.name=r,this.status=l}}class Ct extends ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i_(i){return ee(i)&&i.name==="AuthSessionMissingError"}class pr extends ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fl extends ea{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ml extends ea{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s_(i){return ee(i)&&i.name==="AuthImplicitGrantRedirectError"}class kp extends ea{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kc extends ea{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function dc(i){return ee(i)&&i.name==="AuthRetryableFetchError"}class Dp extends ea{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Dc extends ea{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const wl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Up=` 	
\r=`.split(""),l_=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Up.length;n+=1)i[Up[n].charCodeAt(0)]=-2;for(let n=0;n<wl.length;n+=1)i[wl[n].charCodeAt(0)]=n;return i})();function Mp(i,n,r){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(wl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(wl[l]),n.queuedBits-=6}}function nv(i,n,r){const l=l_[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function zp(i){const n=[],r=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=h=>{c_(h,l,r)};for(let h=0;h<i.length;h+=1)nv(i.charCodeAt(h),o,c);return n.join("")}function o_(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function u_(i,n){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}o_(l,n)}}function c_(i,n,r){if(n.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Sr(i){const n=[],r={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<i.length;o+=1)nv(i.charCodeAt(o),r,l);return new Uint8Array(n)}function d_(i){const n=[];return u_(i,r=>n.push(r)),new Uint8Array(n)}function Na(i){const n=[],r={queue:0,queuedBits:0},l=o=>{n.push(o)};return i.forEach(o=>Mp(o,r,l)),Mp(null,r,l),n.join("")}function h_(i){return Math.round(Date.now()/1e3)+i}function f_(){return Symbol("auth-callback")}const rt=()=>typeof window<"u"&&typeof document<"u",xa={tested:!1,writable:!1},av=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xa.tested)return xa.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),xa.tested=!0,xa.writable=!0}catch{xa.tested=!0,xa.writable=!1}return xa.writable};function m_(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return r.searchParams.forEach((l,o)=>{n[o]=l}),n}const rv=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),p_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",_r=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},_a=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zn=async(i,n)=>{await i.removeItem(n)};class Al{constructor(){this.promise=new Al.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Al.promiseConstructor=Promise;function hc(i){const n=i.split(".");if(n.length!==3)throw new Dc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!t_.test(n[l]))throw new Dc("JWT not in base64url format");return{header:JSON.parse(zp(n[0])),payload:JSON.parse(zp(n[1])),signature:Sr(n[2]),raw:{header:n[0],payload:n[1]}}}async function g_(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function v_(i,n){return new Promise((l,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await i(c);if(!n(c,null,h)){l(h);return}}catch(h){if(!n(c,h)){o(h);return}}})()})}function y_(i){return("0"+i.toString(16)).substr(-2)}function b_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,y_).join("")}async function x_(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(l);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function __(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await x_(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gr(i,n,r=!1){const l=b_();let o=l;r&&(o+="/PASSWORD_RECOVERY"),await _r(i,`${n}-code-verifier`,o);const c=await __(l);return[c,l===c?"plain":"s256"]}const w_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S_(i){const n=i.headers.get(Rc);if(!n||!n.match(w_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function E_(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function j_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(i){if(!T_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fc(){const i={};return new Proxy(i,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N_(i,n){return new Proxy(i,{get:(r,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,o)}})}function Lp(i){return JSON.parse(JSON.stringify(i))}const wa=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),O_=[502,503,504];async function Bp(i){var n;if(!p_(i))throw new kc(wa(i),0);if(O_.includes(i.status))throw new kc(wa(i),i.status);let r;try{r=await i.json()}catch(c){throw new Ta(wa(c),c)}let l;const o=S_(i);if(o&&o.getTime()>=tv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Dp(wa(r),i.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Dp(wa(r),i.status,r.weak_password.reasons);throw new a_(wa(r),i.status||500,l)}const A_=(i,n,r,l)=>{const o={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),r))};async function se(i,n,r,l){var o;const c=Object.assign({},l==null?void 0:l.headers);c[Rc]||(c[Rc]=tv["2024-01-01"].name),l!=null&&l.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const h=(o=l==null?void 0:l.query)!==null&&o!==void 0?o:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await C_(i,n,r+p,{headers:c,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(m):{data:Object.assign({},m),error:null}}async function C_(i,n,r,l,o,c){const h=A_(n,l,o,c);let p;try{p=await i(r,Object.assign({},h))}catch(m){throw console.error(m),new kc(wa(m),0)}if(p.ok||await Bp(p),l!=null&&l.noResolveJson)return p;try{return await p.json()}catch(m){await Bp(m)}}function Kt(i){var n;let r=null;D_(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=h_(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:l},error:null}}function Hp(i){const n=Kt(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function Wn(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function R_(i){return{data:i,error:null}}function k_(i){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:o,verification_type:c}=i,h=Or(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:r,hashed_token:l,redirect_to:o,verification_type:c},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function $p(i){return i}function D_(i){return i.access_token&&i.refresh_token&&i.expires_in}const mc=["global","local","others"];class U_{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=rv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=mc[0]){if(mc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mc.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ee(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wn})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=Or(n,["options"]),o=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(o.new_email=l==null?void 0:l.newEmail,delete o.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:k_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Wn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,o,c,h,p,m;try{const g={nextPage:null,lastPage:0,total:0},x=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n==null?void 0:n.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:$p});if(x.error)throw x.error;const w=await x.json(),j=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,y=(m=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return y.length>0&&(y.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);g[`${S}Page`]=T}),g.total=parseInt(j)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ee(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){vr(n);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Wn})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){vr(n);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Wn})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){vr(n);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wn})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){vr(n.userId);try{const{data:r,error:l}=await se(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:l}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteFactor(n){vr(n.userId),vr(n.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,o,c,h,p,m;try{const g={nextPage:null,lastPage:0,total:0},x=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n==null?void 0:n.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:$p});if(x.error)throw x.error;const w=await x.json(),j=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,y=(m=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return y.length>0&&(y.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);g[`${S}Page`]=T}),g.total=parseInt(j)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(ee(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}}function qp(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}const yr={debug:!!(globalThis&&av()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class M_ extends iv{}async function z_(i,n,r){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await r()}finally{yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(n===0)throw yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new M_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(yr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function L_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sv(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function B_(i){return parseInt(i,16)}function H_(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function $_(i){var n;const{chainId:r,domain:l,expirationTime:o,issuedAt:c=new Date,nonce:h,notBefore:p,requestId:m,resources:g,scheme:x,uri:w,version:j}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const y=sv(i.address),_=x?`${x}://${l}`:l,T=i.statement?`${i.statement}
`:"",S=`${_} wants you to sign in with your Ethereum account:
${y}

${T}`;let E=`URI: ${w}
Version: ${j}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(o&&(E+=`
Expiration Time: ${o.toISOString()}`),p&&(E+=`
Not Before: ${p.toISOString()}`),m&&(E+=`
Request ID: ${m}`),g){let q=`
Resources:`;for(const R of g){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);q+=`
- ${R}`}E+=q}return`${S}
${E}`}class Ke extends Error{constructor({message:n,code:r,cause:l,name:o}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=o??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class Sl extends Ke{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function q_({error:i,options:n}){var r,l,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ke({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(lv(h)){if(c.rp.id!==h)return new Ke({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function G_({error:i,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ke({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(lv(l)){if(r.rpId!==l)return new Ke({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class V_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const P_=new V_;function Y_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:r,excludeCredentials:l}=i,o=Or(i,["challenge","user","excludeCredentials"]),c=Sr(n).buffer,h=Object.assign(Object.assign({},r),{id:Sr(r.id).buffer}),p=Object.assign(Object.assign({},o),{challenge:c,user:h});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const g=l[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Sr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function I_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:r}=i,l=Or(i,["challenge","allowCredentials"]),o=Sr(n).buffer,c=Object.assign(Object.assign({},l),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const p=r[h];c.allowCredentials[h]=Object.assign(Object.assign({},p),{id:Sr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function K_(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:Na(new Uint8Array(i.response.attestationObject)),clientDataJSON:Na(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Q_(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Na(new Uint8Array(o.authenticatorData)),clientDataJSON:Na(new Uint8Array(o.clientDataJSON)),signature:Na(new Uint8Array(o.signature)),userHandle:o.userHandle?Na(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function lv(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Gp(){var i,n;return!!(rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function J_(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Sl("Browser returned unexpected credential type",n)}:{data:null,error:new Sl("Empty credential response",n)}}catch(n){return{data:null,error:q_({error:n,options:i})}}}async function X_(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Sl("Browser returned unexpected credential type",n)}:{data:null,error:new Sl("Empty credential response",n)}}catch(n){return{data:null,error:G_({error:n,options:i})}}}const Z_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},F_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function El(...i){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of i)if(o)for(const c in o){const h=o[c];if(h!==void 0)if(Array.isArray(h))l[c]=h;else if(r(h))l[c]=h;else if(n(h)){const p=l[c];n(p)?l[c]=El(p,h):l[c]=El(h)}else l[c]=h}return l}function W_(i,n){return El(Z_,i,n||{})}function ew(i,n){return El(F_,i,n||{})}class tw{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:o},c){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!h)return{data:null,error:p};const m=o??P_.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:g}=h.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${l}`),g.displayName||(g.displayName=g.name)}switch(h.webauthn.type){case"create":{const g=W_(h.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:x,error:w}=await J_({publicKey:g,signal:m});return x?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const g=ew(h.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:x,error:w}=await X_(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g,signal:m}));return x?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Ta("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new Ui("rpId is required for WebAuthn authentication")};try{if(!Gp())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:o},{request:c});if(!h)return{data:null,error:p};const{webauthn:m}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:l,credential_response:m.credential_response}})}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Ta("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new Ui("rpId is required for WebAuthn registration")};try{if(!Gp())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(x=>{var w;return(w=x.data)===null||w===void 0?void 0:w.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===n&&j.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:o},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(h){return ee(h)?{data:null,error:h}:{data:null,error:new Ta("Unexpected error in register",h)}}}}L_();const nw={url:Fx,storageKey:Wx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Vp(i,n,r){return await r()}const br={};class Mi{get jwks(){var n,r;return(r=(n=br[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=br[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},nw),n);if(this.storageKey=c.storageKey,this.instanceID=(r=Mi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Mi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&rt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new U_({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=rv(c.fetch),this.lock=c.lock||Vp,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:rt()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=z_:this.lock=Vp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:av()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qp(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=qp(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ev}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(rt()&&(r=m_(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),rt()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),s_(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ee(r)?this._returnResult({error:r}):this._returnResult({error:new Ta("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,o;try{const c=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n==null?void 0:n.options)===null||o===void 0?void 0:o.captchaToken}},xform:Kt}),{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var r,l,o;try{let c;if("email"in n){const{email:x,password:w,options:j}=n;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await gr(this.storage,this.storageKey)),c=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:x,password:w,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:y,code_challenge_method:_},xform:Kt})}else if("phone"in n){const{phone:x,password:w,options:j}=n;c=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(l=j==null?void 0:j.data)!==null&&l!==void 0?l:{},channel:(o=j==null?void 0:j.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:Kt})}else throw new fl("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let r;if("email"in n){const{email:c,password:h,options:p}=n;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Hp})}else if("phone"in n){const{phone:c,password:h,options:p}=n;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Hp})}else throw new fl("You must provide either an email or phone number and a password");const{data:l,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const c=new pr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,o,c,h,p,m,g,x,w,j;let y,_;if("message"in n)y=n.message,_=n.signature;else{const{chain:T,wallet:S,statement:E,options:q}=n;let R;if(rt())if(typeof S=="object")R=S;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")R=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=S}const Y=new URL((r=q==null?void 0:q.url)!==null&&r!==void 0?r:window.location.href),re=await R.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!re||re.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ae=sv(re[0]);let Q=(l=q==null?void 0:q.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!Q){const te=await R.request({method:"eth_chainId"});Q=B_(te)}const ve={domain:Y.host,address:ae,statement:E,uri:Y.href,version:"1",chainId:Q,nonce:(o=q==null?void 0:q.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(h=(c=q==null?void 0:q.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=q==null?void 0:q.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=q==null?void 0:q.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=q==null?void 0:q.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=q==null?void 0:q.signInWithEthereum)===null||x===void 0?void 0:x.resources};y=$_(ve),_=await R.request({method:"personal_sign",params:[H_(y),ae]})}try{const{data:T,error:S}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:_},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Kt});if(S)throw S;if(!T||!T.session||!T.user){const E=new pr;return this._returnResult({data:{user:null,session:null},error:E})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:S})}catch(T){if(ee(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(n){var r,l,o,c,h,p,m,g,x,w,j,y;let _,T;if("message"in n)_=n.message,T=n.signature;else{const{chain:S,wallet:E,statement:q,options:R}=n;let Y;if(rt())if(typeof E=="object")Y=E;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))Y=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=E}const re=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Y&&Y.signIn){const ae=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:re.host,uri:re.href}),q?{statement:q}:null));let Q;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")Q=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)Q=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)_=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),T=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${re.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${re.href}`,`Issued At: ${(o=(l=R==null?void 0:R.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((h=R==null?void 0:R.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R==null?void 0:R.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((w=(x=R==null?void 0:R.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||w===void 0)&&w.length?["Resources",...R.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const ae=await Y.signMessage(new TextEncoder().encode(_),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=ae}}try{const{data:S,error:E}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Na(T)},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Kt});if(E)throw E;if(!S||!S.session||!S.user){const q=new pr;return this._returnResult({data:{user:null,session:null},error:q})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(ee(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(n){const r=await _a(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(r??"").split("/");try{const{data:c,error:h}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Kt});if(await Zn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const p=new pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:h})}catch(c){if(ee(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:r,provider:l,token:o,access_token:c,nonce:h}=n,p=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Kt}),{data:m,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const x=new pr;return this._returnResult({data:{user:null,session:null},error:x})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,o,c,h;try{if("email"in n){const{email:p,options:m}=n;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await gr(this.storage,this.storageKey));const{error:w}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in n){const{phone:p,options:m}=n,{data:g,error:x}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x})}throw new fl("You must provide either an email or phone number.")}catch(p){if(ee(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var r,l;try{let o,c;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:p}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Kt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,g=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,l,o,c,h;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await gr(this.storage,this.storageKey));const g=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n==null?void 0:n.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:R_});return!((c=g.data)===null||c===void 0)&&c.url&&rt()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(ee(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Ct;const{error:o}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:c}=n,{error:h}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:l,type:o,options:c}=n,{data:h,error:p}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new fl("You must provide either an email or phone number and a type")}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await _a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<cc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await _a(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=fc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=N_(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Wn}):await this._useSession(async r=>{var l,o,c;const{data:h,error:p}=r;if(p)throw p;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Wn})})}catch(r){if(ee(r))return i_(r)&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:o,error:c}=l;if(c)throw c;if(!o.session)throw new Ct;const h=o.session;let p=null,m=null;this.flowType==="pkce"&&n.email!=null&&([p,m]=await gr(this.storage,this.storageKey));const{data:g,error:x}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:Wn});if(x)throw x;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(ee(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ct;const r=Date.now()/1e3;let l=r,o=!0,c=null;const{payload:h}=hc(n.access_token);if(h.exp&&(l=h.exp,o=l<=r),o){const{data:p,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(n.access_token);if(m)throw m;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:h,error:p}=r;if(p)throw p;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new Ct;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!rt())throw new ml("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ml(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ml("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new kp("No code detected.");const{data:q,error:R}=await this._exchangeCodeForSession(n.code);if(R)throw R;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:c,refresh_token:h,expires_in:p,expires_at:m,token_type:g}=n;if(!c||!p||!h||!g)throw new ml("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(p);let j=x+w;m&&(j=parseInt(m));const y=j-x;y*1e3<=xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${w}s`);const _=j-w;x-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,j,x):x-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,j,x);const{data:T,error:S}=await this._getUser(c);if(S)throw S;const E={provider_token:l,provider_refresh_token:o,access_token:c,expires_in:w,expires_at:j,refresh_token:h,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:n.type},error:null})}catch(l){if(ee(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await _a(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:o,error:c}=r;if(c)return this._returnResult({error:c});const h=(l=o.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:p}=await this.admin.signOut(h,n);if(p&&!(r_(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=f_(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,o;try{const{data:{session:c},error:h}=r;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,r={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await gr(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(ee(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:o}=await this._useSession(async c=>{var h,p,m,g,x;const{data:w,error:j}=c;if(j)throw j;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",y,{headers:this.headers,jwt:(x=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return rt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:n.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(ee(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:h,provider:p,token:m,access_token:g,nonce:x}=n,w=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c==null?void 0:c.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:m,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kt}),{data:j,error:y}=w;return y?this._returnResult({data:{user:null,session:null},error:y}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new pr}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:y}))}catch(o){if(ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,o;const{data:c,error:h}=r;if(h)throw h;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await v_(async o=>(o>0&&await g_(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Kt})),(o,c)=>{const h=200*Math.pow(2,o);return c&&dc(c)&&Date.now()+h-l<xr})}catch(l){if(this._debug(r,"error",l),ee(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),rt()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await _a(this.storage,this.storageKey);if(o&&this.userStorage){let h=await _a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await _r(this.userStorage,this.storageKey+"-user",h)),o.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:fc()}else if(o&&!o.user&&!o.user){const h=await _a(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(o.user=h.user,await Zn(this.storage,this.storageKey+"-user"),await _r(this.storage,this.storageKey,o)):o.user=fc()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<cc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${cc}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),dc(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(o.access_token);!p&&(h!=null&&h.user)?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Al;const{data:c,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!c.session)throw new Ct;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(o,"error",c),ee(c)){const h={data:null,error:c};return dc(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,r)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await _r(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=Lp(o);await _r(this.storage,this.storageKey,c)}else{const o=Lp(r);await _r(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Zn(this.storage,this.storageKey),await Zn(this.storage,this.storageKey+"-code-verifier"),await Zn(this.storage,this.storageKey+"-user"),this.userStorage&&await Zn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),xr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${xr}ms, refresh threshold is ${Cc} ticks`),o<=Cc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof iv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const o=[`provider=${encodeURIComponent(r)}`];if(l!=null&&l.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,h]=await gr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(p.toString())}if(l!=null&&l.queryParams){const c=new URLSearchParams(l.queryParams);o.push(c.toString())}return l!=null&&l.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:o,error:c}=r;return c?this._returnResult({data:null,error:c}):await se(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,o;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await se(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?K_(n.webauthn.credential_response):Q_(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:m}=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Y_(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:I_(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=r==null?void 0:r.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=hc(l.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const g=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;return o?this._returnResult({data:null,error:o}):l?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Ct});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Ct});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&rt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;return o?this._returnResult({data:null,error:o}):l?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(p=>p.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(p=>p.kid===n),l&&this.jwks_cached_at+n_>o)return l;const{data:c,error:h}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,l=c.keys.find(p=>p.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:y,error:_}=await this.getSession();if(_||!y.session)return this._returnResult({data:null,error:_});l=y.session.access_token}const{header:o,payload:c,signature:h,raw:{header:p,payload:m}}=hc(l);r!=null&&r.allowExpired||E_(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!g){const{error:y}=await this.getUser(l);if(y)throw y;return{data:{claims:c,header:o,signature:h},error:null}}const x=j_(o.alg),w=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,h,d_(`${p}.${m}`)))throw new Dc("Invalid JWT signature");return{data:{claims:c,header:o,signature:h},error:null}}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}}Mi.nextInstanceID={};const aw=Mi;class rw extends aw{constructor(n){super(n)}}class iw{constructor(n,r,l){var o,c,h;this.supabaseUrl=n,this.supabaseKey=r;const p=Zx(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:Vx,realtime:Yx,auth:Object.assign(Object.assign({},Px),{storageKey:m}),global:Gx},x=Xx(l??{},g);this.storageKey=(o=x.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(w,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=x.auth)!==null&&h!==void 0?h:{},this.headers,x.global.fetch),this.fetch=Qx(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new Y1(new URL("rest/v1",p).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new Hx(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new q1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,l)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,r;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(r=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:l,storage:o,userStorage:c,storageKey:h,flowType:p,lock:m,debug:g,throwOnError:x},w,j){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rw({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),w),storageKey:h,autoRefreshToken:n,persistSession:r,detectSessionInUrl:l,storage:o,userStorage:c,flowType:p,lock:m,debug:g,throwOnError:x,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new ox(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,l)=>{this._handleTokenChanged(r,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(n,r,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sw=(i,n,r)=>new iw(i,n,r);function lw(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}lw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ov="https://xxzjkgsmvpkacuosenhp.supabase.co",uv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh4emprZ3NtdnBrYWN1b3NlbmhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1MzAxNDYsImV4cCI6MjA4MDEwNjE0Nn0.-d5eH4wpifc-CDduxzzbyzpzc0Md0KfhCjY1M77x9Kk";console.log("Supabase Config:",{url:ov,hasKey:!0,keyLength:uv.length});const Oa=sw(ov,uv),cv=async i=>{try{const{data:n,error:r}=await Oa.from("shoots").select("*").eq("id",i).single();if(r){console.error("Error fetching shoot:",r);return}return n?{id:n.id,projectType:n.project_type||"photo_shoot",title:n.title,client:n.client,date:n.date,startTime:n.start_time||"09:00",endTime:n.end_time||"18:00",locationName:n.location_name||n.location||"",locationAddress:n.location_address||"",locationMapUrl:n.location_map_url||"",description:n.description||"",moodboardUrl:n.moodboard_url||"",moodboardImages:n.moodboard_images||[],callSheetUrl:n.call_sheet_url||"",photoSelectionUrl:n.photo_selection_url||"",finalPhotosUrl:n.final_photos_url||"",photoStatus:n.photo_status||"selection_ready",videoUrl:n.video_url||"",videoStatus:n.video_status||"draft",revisionNotes:n.revision_notes||"",stylingUrl:n.styling_url||"",stylingNotes:n.styling_notes||"",hairMakeupNotes:n.hair_makeup_notes||"",coverImage:n.cover_image||"",timeline:n.timeline||[],team:n.team||[]}:void 0}catch(n){console.error("Error fetching shoot:",n);return}},dv=async()=>{try{const{data:i,error:n}=await Oa.from("shoots").select("*").order("created_at",{ascending:!1});return n?(console.error("Error fetching shoots:",n),[]):(i||[]).map(r=>({id:r.id,projectType:r.project_type||"photo_shoot",title:r.title,client:r.client,date:r.date,startTime:r.start_time||"09:00",endTime:r.end_time||"18:00",locationName:r.location_name||r.location||"",locationAddress:r.location_address||"",locationMapUrl:r.location_map_url||"",description:r.description||"",moodboardUrl:r.moodboard_url||"",moodboardImages:r.moodboard_images||[],callSheetUrl:r.call_sheet_url||"",photoSelectionUrl:r.photo_selection_url||"",finalPhotosUrl:r.final_photos_url||"",photoStatus:r.photo_status||"selection_ready",videoUrl:r.video_url||"",videoStatus:r.video_status||"draft",revisionNotes:r.revision_notes||"",stylingUrl:r.styling_url||"",stylingNotes:r.styling_notes||"",hairMakeupNotes:r.hair_makeup_notes||"",coverImage:r.cover_image||"",timeline:r.timeline||[],team:r.team||[]}))}catch(i){return console.error("Error fetching shoots:",i),[]}},ow=async i=>{try{const n={id:i.id,project_type:i.projectType||"photo_shoot",title:i.title,client:i.client,date:i.date,start_time:i.startTime,end_time:i.endTime,location_name:i.locationName,location_address:i.locationAddress,location_map_url:i.locationMapUrl,description:i.description,moodboard_url:i.moodboardUrl,moodboard_images:i.moodboardImages,call_sheet_url:i.callSheetUrl,photo_selection_url:i.photoSelectionUrl,final_photos_url:i.finalPhotosUrl,photo_status:i.photoStatus,video_url:i.videoUrl,video_status:i.videoStatus,revision_notes:i.revisionNotes,styling_url:i.stylingUrl,styling_notes:i.stylingNotes,hair_makeup_notes:i.hairMakeupNotes,cover_image:i.coverImage,timeline:i.timeline,team:i.team};console.log("Creating shoot with data:",n);const{data:r,error:l}=await Oa.from("shoots").insert([n]).select();if(l)throw console.error("Supabase error details:",JSON.stringify(l,null,2)),console.error("Error code:",l.code),console.error("Error message:",l.message),console.error("Error hint:",l.hint),new Error(`Failed to create shoot: ${l.message}`);console.log("Shoot created successfully:",r)}catch(n){throw console.error("Error creating shoot:",n),n}},uw=async i=>{try{const{error:n}=await Oa.from("shoots").update({project_type:i.projectType||"photo_shoot",title:i.title,client:i.client,date:i.date,start_time:i.startTime,end_time:i.endTime,location_name:i.locationName,location_address:i.locationAddress,location_map_url:i.locationMapUrl,description:i.description,moodboard_url:i.moodboardUrl,moodboard_images:i.moodboardImages,call_sheet_url:i.callSheetUrl,photo_selection_url:i.photoSelectionUrl,final_photos_url:i.finalPhotosUrl,photo_status:i.photoStatus,video_url:i.videoUrl,video_status:i.videoStatus,revision_notes:i.revisionNotes,styling_url:i.stylingUrl,styling_notes:i.stylingNotes,hair_makeup_notes:i.hairMakeupNotes,cover_image:i.coverImage,timeline:i.timeline,team:i.team,updated_at:new Date().toISOString()}).eq("id",i.id);if(n)throw console.error("Error updating shoot:",n),new Error(`Failed to update shoot: ${n.message}`)}catch(n){throw console.error("Error updating shoot:",n),n}},cw=async i=>{try{const{error:n}=await Oa.from("shoots").delete().eq("id",i);if(n)throw console.error("Error deleting shoot:",n),new Error(`Failed to delete shoot: ${n.message}`)}catch(n){throw console.error("Error deleting shoot:",n),n}},hv=k.createContext(void 0),dw=({children:i})=>{const[n,r]=k.useState([]),l=k.useCallback((c,h,p=5e3)=>{const m=`${Date.now()}-${Math.random()}`,g={id:m,type:c,message:h,duration:p};r(x=>[...x,g]),p>0&&setTimeout(()=>{o(m)},p)},[]),o=k.useCallback(c=>{r(h=>h.filter(p=>p.id!==c))},[]);return f.jsx(hv.Provider,{value:{notifications:n,addNotification:l,removeNotification:o},children:i})},Cl=()=>{const i=k.useContext(hv);if(!i)throw new Error("useNotification must be used within NotificationProvider");return i},fv=({className:i="w-4 h-4"})=>f.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),Pp=({className:i="w-4 h-4"})=>f.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),mv=({className:i="w-4 h-4"})=>f.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),hw=({className:i="w-4 h-4"})=>f.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),fw=()=>{const[i,n]=k.useState([]),[r,l]=k.useState(!0),[o,c]=k.useState(null),[h,p]=k.useState(""),{addNotification:m}=Cl();k.useEffect(()=>{g()},[]);const g=async()=>{try{l(!0);const q=[...await dv()].sort((R,Y)=>new Date(R.date+"T00:00:00").getTime()-new Date(Y.date+"T00:00:00").getTime());n(q)}catch{m("error","Failed to load shoots")}finally{l(!1)}},x=async(E,q,R)=>{if(E.preventDefault(),E.stopPropagation(),window.confirm(`Are you sure you want to delete "${R}"? This cannot be undone.`))try{await cw(q),m("success","Shoot deleted successfully"),g()}catch{m("error","Failed to delete shoot")}},w=(E,q)=>{E.preventDefault(),E.stopPropagation();const Y=`${window.location.href.split("#")[0]}#/shoot/${q}`;navigator.clipboard.writeText(Y).then(()=>{c(q),m("success","Link copied to clipboard!",2e3),setTimeout(()=>c(null),2e3)}).catch(()=>{m("error","Failed to copy link")})},j=i.filter(E=>E.title.toLowerCase().includes(h.toLowerCase())||E.client.toLowerCase().includes(h.toLowerCase())),y=new Date;y.setHours(0,0,0,0);const _=j.filter(E=>new Date(E.date+"T00:00:00")>=y),T=j.filter(E=>new Date(E.date+"T00:00:00")<y).reverse(),S=({shoot:E})=>{const q=new Date(E.date+"T00:00:00").toDateString()===new Date().toDateString();return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-4 p-6 border-b border-[#141413] items-center hover:bg-[#F0F0EB] transition-colors bg-white group last:border-b-0",children:[f.jsx("div",{className:"col-span-5",children:f.jsxs(yt,{to:`/shoot/${E.id}`,className:"block",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h3",{className:"font-bold text-lg text-[#141413] uppercase tracking-tight",children:E.title}),q&&f.jsx("span",{className:"px-2 py-0.5 bg-[#141413] text-white text-[10px] font-bold uppercase tracking-wider",children:"Today"})]}),f.jsx("p",{className:"text-xs text-[#9E9E98] uppercase tracking-widest mt-1 group-hover:text-[#141413]",children:E.client})]})}),f.jsx("div",{className:"col-span-3 text-sm font-mono text-[#141413]",children:new Date(E.date+"T00:00:00").toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),f.jsxs("div",{className:"col-span-4 flex justify-end items-center space-x-3",children:[f.jsx(yt,{to:`/admin/edit/${E.id}`,className:"text-[#9E9E98] hover:text-[#141413] transition-colors p-2",title:"Edit Shoot","aria-label":`Edit ${E.title}`,children:f.jsx(fv,{className:"w-4 h-4"})}),f.jsx("button",{onClick:R=>w(R,E.id),className:`text-[10px] font-bold uppercase tracking-widest px-4 py-2 border transition-all ${o===E.id?"bg-[#141413] text-white border-[#141413]":"border-[#141413] hover:bg-[#141413] hover:text-white text-[#141413] bg-transparent"}`,"aria-label":"Copy share link",children:o===E.id?"Copied":"Copy Link"}),f.jsx("button",{onClick:R=>x(R,E.id,E.title),className:"text-[#9E9E98] hover:text-red-600 transition-colors p-2",title:"Delete Shoot","aria-label":`Delete ${E.title}`,children:f.jsx(Pp,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"md:hidden border-b border-[#141413] p-4 bg-white last:border-b-0",children:[f.jsxs(yt,{to:`/shoot/${E.id}`,className:"block mb-3",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-bold text-base text-[#141413] uppercase tracking-tight leading-tight",children:E.title}),f.jsx("p",{className:"text-xs text-[#9E9E98] uppercase tracking-wider mt-1",children:E.client})]}),q&&f.jsx("span",{className:"ml-2 px-2 py-0.5 bg-[#141413] text-white text-[9px] font-bold uppercase tracking-wider whitespace-nowrap",children:"Today"})]}),f.jsx("p",{className:"text-xs font-mono text-[#141413]",children:new Date(E.date+"T00:00:00").toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]}),f.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-[#F0F0EB]",children:[f.jsx(yt,{to:`/admin/edit/${E.id}`,className:"flex-1 text-center text-[#9E9E98] hover:text-[#141413] transition-colors py-2 px-3 border border-[#9E9E98] hover:border-[#141413] text-xs font-bold uppercase tracking-wider","aria-label":`Edit ${E.title}`,children:"Edit"}),f.jsx("button",{onClick:R=>w(R,E.id),className:`flex-1 text-[9px] font-bold uppercase tracking-wider py-2 px-3 border transition-all ${o===E.id?"bg-[#141413] text-white border-[#141413]":"border-[#141413] hover:bg-[#141413] hover:text-white text-[#141413] bg-transparent"}`,"aria-label":"Copy share link",children:o===E.id?" Copied":"Share"}),f.jsx("button",{onClick:R=>x(R,E.id,E.title),className:"text-[#9E9E98] hover:text-red-600 transition-colors p-2 border border-[#9E9E98] hover:border-red-600",title:"Delete Shoot","aria-label":`Delete ${E.title}`,children:f.jsx(Pp,{className:"w-4 h-4"})})]})]})]})};return r?f.jsx("div",{className:"min-h-screen bg-[#D8D9CF] text-[#141413]",children:f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-16",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 border-b border-[#141413] pb-8",children:[f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:"h-10 w-64 bg-[#F0F0EB] mb-3"}),f.jsx("div",{className:"h-4 w-48 bg-[#F0F0EB]"})]}),f.jsx("div",{className:"mt-6 md:mt-0 h-12 w-40 bg-[#F0F0EB] animate-pulse"})]}),f.jsx("div",{className:"mb-8",children:f.jsx("div",{className:"h-12 w-full bg-white border border-[#141413] animate-pulse"})}),f.jsxs("div",{className:"mb-16",children:[f.jsx("div",{className:"h-4 w-48 bg-[#F0F0EB] mb-6 animate-pulse"}),f.jsx("div",{className:"bg-white border border-[#141413] shadow-[4px_4px_0px_0px_rgba(20,20,19,1)]",children:[...Array(3)].map((E,q)=>f.jsxs("div",{className:"grid grid-cols-12 gap-4 p-6 border-b border-[#141413] items-center last:border-b-0 animate-pulse",children:[f.jsxs("div",{className:"col-span-5",children:[f.jsx("div",{className:"h-6 w-3/4 bg-[#F0F0EB] mb-2"}),f.jsx("div",{className:"h-4 w-1/2 bg-[#F0F0EB]"})]}),f.jsx("div",{className:"col-span-3",children:f.jsx("div",{className:"h-5 w-32 bg-[#F0F0EB]"})}),f.jsxs("div",{className:"col-span-4 flex justify-end items-center space-x-3",children:[f.jsx("div",{className:"h-8 w-8 bg-[#F0F0EB]"}),f.jsx("div",{className:"h-8 w-24 bg-[#F0F0EB]"}),f.jsx("div",{className:"h-8 w-8 bg-[#F0F0EB]"})]})]},q))})]}),f.jsxs("div",{children:[f.jsx("div",{className:"h-4 w-32 bg-[#F0F0EB] mb-6 animate-pulse"}),f.jsx("div",{className:"bg-[#EAEBE6] border border-[#9E9E98]",children:[...Array(2)].map((E,q)=>f.jsxs("div",{className:"grid grid-cols-12 gap-4 p-6 border-b border-[#9E9E98] items-center last:border-b-0 animate-pulse",children:[f.jsxs("div",{className:"col-span-5",children:[f.jsx("div",{className:"h-6 w-3/4 bg-[#D8D9CF] mb-2"}),f.jsx("div",{className:"h-4 w-1/2 bg-[#D8D9CF]"})]}),f.jsx("div",{className:"col-span-3",children:f.jsx("div",{className:"h-5 w-32 bg-[#D8D9CF]"})}),f.jsxs("div",{className:"col-span-4 flex justify-end items-center space-x-3",children:[f.jsx("div",{className:"h-8 w-8 bg-[#D8D9CF]"}),f.jsx("div",{className:"h-8 w-24 bg-[#D8D9CF]"}),f.jsx("div",{className:"h-8 w-8 bg-[#D8D9CF]"})]})]},q))})]}),f.jsx("div",{className:"mt-12 flex items-center justify-center",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-2 w-2 bg-[#141413] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),f.jsx("div",{className:"h-2 w-2 bg-[#141413] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),f.jsx("div",{className:"h-2 w-2 bg-[#141413] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})}):f.jsx("div",{className:"min-h-screen bg-[#D8D9CF] text-[#141413]",children:f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-16",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-12 md:mb-16 border-b border-[#141413] pb-6 md:pb-8",children:[f.jsxs("div",{className:"mb-4 md:mb-0",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-medium uppercase tracking-tight text-[#141413] mb-2",children:"Producer Admin"}),f.jsx("p",{className:"text-[#141413] text-xs uppercase tracking-[0.2em] font-bold",children:"Studio Olga Prudka"})]}),f.jsx(yt,{to:"/admin/create",className:"w-full md:w-auto text-center bg-[#141413] text-white px-6 md:px-8 py-3 md:py-3 text-xs font-bold uppercase tracking-widest hover:bg-white hover:text-[#141413] border border-[#141413] transition-colors touch-manipulation active:bg-[#000000]",children:"+ New Project"})]}),i.length>0&&f.jsx("div",{className:"mb-8",children:f.jsxs("div",{className:"relative",children:[f.jsx(hw,{className:"w-4 h-4 absolute left-4 top-1/2 transform -translate-y-1/2 text-[#9E9E98]"}),f.jsx("input",{type:"text",placeholder:"SEARCH BY TITLE OR CLIENT...",value:h,onChange:E=>p(E.target.value),className:"w-full bg-white border border-[#141413] pl-12 pr-4 py-3 text-sm uppercase placeholder-[#9E9E98] text-[#141413] focus:border-[#141413] outline-none tracking-wider","aria-label":"Search shoots"})]})}),f.jsxs("div",{className:"mb-16",children:[f.jsx("h2",{className:"text-xs uppercase tracking-[0.2em] text-[#141413] font-bold mb-6",children:"Upcoming Productions"}),f.jsx("div",{className:"bg-white border border-[#141413] shadow-[4px_4px_0px_0px_rgba(20,20,19,1)]",children:_.length===0?f.jsx("div",{className:"p-12 text-center text-[#9E9E98] text-sm uppercase tracking-widest",children:h?"No matching upcoming shoots.":"No upcoming shoots scheduled."}):_.map(E=>f.jsx(S,{shoot:E},E.id))})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xs uppercase tracking-[0.2em] text-[#9E9E98] font-bold mb-6",children:"Archive"}),f.jsx("div",{className:"bg-[#EAEBE6] border border-[#9E9E98]",children:T.length===0?f.jsx("div",{className:"p-12 text-center text-[#9E9E98] text-sm uppercase tracking-widest",children:h?"No matching past shoots.":"No past shoots."}):T.map(E=>f.jsx(S,{shoot:E},E.id))})]}),f.jsx("div",{className:"mt-24 text-center",children:f.jsx(yt,{to:"/dashboard",className:"text-xs font-bold uppercase tracking-widest text-[#9E9E98] hover:text-[#141413] border-b border-transparent hover:border-[#141413] pb-0.5 transition-all",children:"Return to Client Dashboard"})})]})})},Sa=i=>{if(!i)return!0;try{const n=new URL(i);return n.protocol==="http:"||n.protocol==="https:"}catch{return!1}},Fn=i=>!i||/^(javascript|data|vbscript|file):/i.test(i.trim())?"":i.trim(),Yp=(i,n)=>{const r=parseInt(i,10),l=parseInt(n,10);return!isNaN(r)&&!isNaN(l)&&r>=1&&r<=12&&l>=0&&l<=59},Uc=i=>i?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i):!0,pv=i=>i?i.replace(/\D/g,"").length>=7:!0,mw=i=>{var l,o,c,h;const n=[];return(l=i.title)!=null&&l.trim()||n.push("Title is required"),(o=i.client)!=null&&o.trim()||n.push("Client is required"),i.date||n.push("Date is required"),(c=i.description)!=null&&c.trim()||n.push("Description is required"),i.projectType!=="video_project"&&!((h=i.locationAddress)!=null&&h.trim())&&n.push("Location address is required"),i.coverImage&&!Sa(i.coverImage)&&n.push("Cover image URL is invalid"),i.moodboardUrl&&!Sa(i.moodboardUrl)&&n.push("Moodboard URL is invalid"),i.callSheetUrl&&!Sa(i.callSheetUrl)&&n.push("Call sheet URL is invalid"),i.finalPhotosUrl&&!Sa(i.finalPhotosUrl)&&n.push("Final photos URL is invalid"),i.stylingUrl&&!Sa(i.stylingUrl)&&n.push("Styling URL is invalid"),i.locationMapUrl&&!Sa(i.locationMapUrl)&&n.push("Location map URL is invalid"),{isValid:n.length===0,errors:n}},Fe="w-full bg-transparent text-[#141413] placeholder-[#9E9E98] border-b border-[#9E9E98] py-3 focus:border-[#141413] outline-none transition-colors font-medium",Ti="text-xs uppercase tracking-[0.2em] font-bold text-[#9E9E98] border-b border-[#141413] pb-4 mb-6",Ge="text-xs font-bold uppercase tracking-wider text-[#141413] mb-1 block",Ni="bg-white p-8 border border-[#141413] shadow-[4px_4px_0px_0px_rgba(20,20,19,1)]",pw=i=>{if(!i)return"";const[n,r]=i.split(":"),l=parseInt(n,10),o=l>=12?"PM":"AM";return`${(l%12||12).toString().padStart(2,"0")}:${r} ${o}`},gw=(i,n,r)=>{let l=parseInt(i,10);isNaN(l)&&(l=12),r==="PM"&&l!==12&&(l+=12),r==="AM"&&l===12&&(l=0);const o=parseInt(n,10),c=isNaN(o)?0:Math.min(59,Math.max(0,o));return`${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`},vw=i=>{const[n,r]=i.split(":");let l=parseInt(n,10);const o=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{hour:l.toString().padStart(2,"0"),minute:r||"00",ampm:o}},yw=({timeline:i,onChange:n})=>{const[r,l]=k.useState(""),[o,c]=k.useState({hour:"09",minute:"00",ampm:"AM"}),[h,p]=k.useState(null),m=()=>{if(!r.trim()||!Yp(o.hour,o.minute))return;const y={time:gw(o.hour,o.minute,o.ampm),activity:r.trim()};let _=[...i];h!==null?(_[h]=y,p(null)):_.push(y),_.sort((T,S)=>T.time.localeCompare(S.time)),n(_),l(""),c({hour:"09",minute:"00",ampm:"AM"})},g=j=>{const y=i[j],_=vw(y.time);c(_),l(y.activity),p(j)},x=j=>{h===j&&(p(null),l("")),n(i.filter((y,_)=>_!==j))},w=()=>{c(j=>({...j,ampm:j.ampm==="AM"?"PM":"AM"}))};return f.jsxs("div",{className:"mt-8 bg-[#F0F0EB] p-6 border border-[#141413]",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-[#141413] mb-4",children:"Run of Show"}),i.length>0&&f.jsx("div",{className:"space-y-2 mb-6",children:i.map((j,y)=>f.jsxs("div",{className:`flex items-center justify-between p-3 border border-[#141413] text-sm ${h===y?"bg-[#141413] text-white":"bg-white text-[#141413]"}`,children:[f.jsxs("div",{className:"flex items-center space-x-6",children:[f.jsx("span",{className:"font-mono font-bold w-24",children:pw(j.time)}),f.jsx("span",{className:"uppercase tracking-wide",children:j.activity})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("button",{type:"button",onClick:()=>g(y),className:`${h===y?"text-white":"text-[#9E9E98] hover:text-[#141413]"} transition-colors`,title:"Edit","aria-label":`Edit ${j.activity}`,children:f.jsx(fv,{className:"w-4 h-4"})}),f.jsx("button",{type:"button",onClick:()=>x(y),className:`${h===y?"text-white":"text-[#9E9E98] hover:text-red-600"} transition-colors`,title:"Remove","aria-label":`Remove ${j.activity}`,children:f.jsx(mv,{className:"w-4 h-4"})})]})]},y))}),h!==null&&f.jsxs("div",{className:"mb-4 p-3 bg-[#141413] text-white text-xs uppercase tracking-wider font-bold",children:["Editing: ",i[h].activity," - Click Update to save changes or X to cancel"]}),f.jsxs("div",{className:"grid grid-cols-12 gap-4 items-end",children:[f.jsxs("div",{className:"col-span-4 md:col-span-3 flex items-center space-x-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"text-[10px] uppercase text-[#9E9E98] font-bold mb-1 block",children:"Hr"}),f.jsx("input",{type:"text",placeholder:"12",maxLength:2,value:o.hour,onChange:j=>{const y=j.target.value.replace(/\D/g,"");c({...o,hour:y})},className:`w-full bg-transparent border-b py-2 text-sm font-mono text-[#141413] focus:border-[#141413] outline-none text-center ${h!==null?"border-[#141413] bg-yellow-50":"border-[#9E9E98]"}`,"aria-label":"Hour"})]}),f.jsx("span",{className:"text-[#141413] pb-2",children:":"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"text-[10px] uppercase text-[#9E9E98] font-bold mb-1 block",children:"Min"}),f.jsx("input",{type:"text",placeholder:"00",maxLength:2,value:o.minute,onChange:j=>{const y=j.target.value.replace(/\D/g,"");c({...o,minute:y})},className:`w-full bg-transparent border-b py-2 text-sm font-mono text-[#141413] focus:border-[#141413] outline-none text-center ${h!==null?"border-[#141413] bg-yellow-50":"border-[#9E9E98]"}`,"aria-label":"Minute"})]}),f.jsxs("div",{className:"flex-1 cursor-pointer group",onClick:w,children:[f.jsx("label",{className:"text-[10px] uppercase text-[#9E9E98] font-bold mb-1 block opacity-0",children:"M"}),f.jsx("div",{className:`w-full bg-transparent border-b py-2 text-sm font-mono text-[#141413] group-hover:border-[#141413] outline-none text-center select-none ${h!==null?"border-[#141413] bg-yellow-50":"border-[#9E9E98]"}`,children:o.ampm})]})]}),f.jsxs("div",{className:"col-span-8 md:col-span-6",children:[f.jsx("label",{className:"text-[10px] uppercase text-[#9E9E98] font-bold mb-1 block",children:"Activity"}),f.jsx("input",{placeholder:"e.g. LUNCH BREAK",value:r,onChange:j=>l(j.target.value),className:`w-full bg-transparent border-b py-2 text-sm uppercase placeholder-[#9E9E98] text-[#141413] focus:border-[#141413] outline-none ${h!==null?"border-[#141413] bg-yellow-50":"border-[#9E9E98]"}`,"aria-label":"Timeline activity"})]}),f.jsxs("div",{className:"col-span-12 md:col-span-3 mt-4 md:mt-0 flex gap-2",children:[h!==null&&f.jsx("button",{type:"button",onClick:()=>{p(null),l(""),c({hour:"09",minute:"00",ampm:"AM"})},className:"flex-1 text-xs px-2 py-3 font-bold uppercase tracking-wider bg-white text-[#141413] hover:bg-red-600 hover:text-white border border-[#141413] transition-colors",title:"Cancel editing",children:"Cancel"}),f.jsx("button",{type:"button",onClick:m,disabled:!r.trim()||!Yp(o.hour,o.minute),className:`${h!==null?"flex-1":"w-full"} text-xs px-2 py-3 font-bold uppercase tracking-wider disabled:opacity-50 border border-[#141413] transition-colors ${h!==null?"bg-[#141413] text-white hover:bg-white hover:text-[#141413]":"bg-white text-[#141413] hover:bg-[#141413] hover:text-white"}`,children:h!==null?"Update":"Add Event"})]})]})]})},bw=({team:i,onChange:n})=>{const[r,l]=k.useState({role:"",name:"",phone:"",email:""}),[o,c]=k.useState({}),h=()=>{const g={};return r.email&&!Uc(r.email)&&(g.email="Invalid email"),r.phone&&!pv(r.phone)&&(g.phone="Invalid phone"),c(g),Object.keys(g).length===0},p=()=>{!r.role.trim()||!r.name.trim()||h()&&(n([...i,r]),l({role:"",name:"",phone:"",email:""}),c({}))},m=g=>{n(i.filter((x,w)=>w!==g))};return f.jsxs(f.Fragment,{children:[i.length>0&&f.jsx("div",{className:"space-y-2 mb-6",children:i.map((g,x)=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F0F0EB] border border-[#141413]",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-sm block text-[#141413] uppercase tracking-wide",children:g.name}),f.jsx("span",{className:"text-xs text-[#9E9E98] uppercase tracking-widest",children:g.role}),g.email&&f.jsx("span",{className:"text-xs text-[#9E9E98] block mt-1",children:g.email}),g.phone&&f.jsx("span",{className:"text-xs text-[#9E9E98] font-mono block",children:g.phone})]}),f.jsx("button",{type:"button",onClick:()=>m(x),className:"text-[#9E9E98] hover:text-red-600 font-bold uppercase text-xs transition-colors","aria-label":`Remove ${g.name}`,children:"Remove"})]},x))}),f.jsxs("div",{className:"p-6 border border-[#141413] bg-white",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-[#141413] mb-4",children:"Add Crew Member"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[f.jsx("div",{children:f.jsx("input",{placeholder:"ROLE (e.g. PHOTOGRAPHER)",value:r.role,onChange:g=>l({...r,role:g.target.value}),className:"border-b border-[#9E9E98] bg-transparent py-2 text-sm focus:border-[#141413] outline-none text-[#141413] placeholder-[#9E9E98] uppercase w-full","aria-label":"Team member role"})}),f.jsx("div",{children:f.jsx("input",{placeholder:"NAME",value:r.name,onChange:g=>l({...r,name:g.target.value}),className:"border-b border-[#9E9E98] bg-transparent py-2 text-sm focus:border-[#141413] outline-none text-[#141413] placeholder-[#9E9E98] uppercase w-full","aria-label":"Team member name"})}),f.jsxs("div",{children:[f.jsx("input",{placeholder:"PHONE (OPTIONAL)",value:r.phone,onChange:g=>{l({...r,phone:g.target.value}),c({...o,phone:void 0})},className:`border-b bg-transparent py-2 text-sm focus:border-[#141413] outline-none text-[#141413] placeholder-[#9E9E98] font-mono w-full ${o.phone?"border-red-600":"border-[#9E9E98]"}`,"aria-label":"Team member phone"}),o.phone&&f.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.phone})]}),f.jsxs("div",{children:[f.jsx("input",{placeholder:"EMAIL (OPTIONAL)",value:r.email,onChange:g=>{l({...r,email:g.target.value}),c({...o,email:void 0})},className:`border-b bg-transparent py-2 text-sm focus:border-[#141413] outline-none text-[#141413] placeholder-[#9E9E98] w-full ${o.email?"border-red-600":"border-[#9E9E98]"}`,"aria-label":"Team member email"}),o.email&&f.jsx("p",{className:"text-xs text-red-600 mt-1",children:o.email})]})]}),f.jsx("button",{type:"button",onClick:p,disabled:!r.role.trim()||!r.name.trim(),className:"w-full py-3 bg-[#F0F0EB] hover:bg-[#141413] hover:text-white text-xs font-bold uppercase tracking-[0.2em] border border-[#141413] transition-colors disabled:opacity-50 text-[#141413]",children:"Add to Call Sheet"})]})]})},xw=({images:i,onChange:n})=>{const[r,l]=k.useState(""),[o,c]=k.useState(""),h=()=>{if(r.trim()){if(!Sa(r)){c("Please enter a valid URL");return}n([...i,r.trim()]),l(""),c("")}},p=g=>{n(i.filter((x,w)=>w!==g))},m=g=>{g.key==="Enter"&&(g.preventDefault(),h())};return f.jsxs("div",{className:"bg-[#F0F0EB] p-6 mb-8 border border-[#141413]",children:[f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-[#141413] mb-4",children:"Moodboard Gallery"}),i.length>0&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:i.map((g,x)=>f.jsxs("div",{className:"relative aspect-[3/4] group border border-[#141413]",children:[f.jsx("img",{src:g,alt:`Moodboard ${x+1}`,className:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>p(x),className:"absolute inset-0 bg-[#141413]/80 text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center font-bold","aria-label":`Remove image ${x+1}`,children:f.jsx(mv,{className:"w-6 h-6"})})]},x))}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{placeholder:"IMAGE URL (https://...)",value:r,onChange:g=>{l(g.target.value),c("")},onKeyPress:m,className:`flex-1 bg-transparent border-b py-2 text-sm placeholder-[#9E9E98] text-[#141413] focus:border-[#141413] outline-none ${o?"border-red-600":"border-[#9E9E98]"}`,"aria-label":"Moodboard image URL"}),f.jsx("button",{type:"button",onClick:h,disabled:!r.trim(),className:"text-xs bg-[#141413] text-white px-4 py-2 font-bold uppercase tracking-wider disabled:opacity-50 hover:bg-[#D8D9CF] hover:text-[#141413] border border-[#141413] transition-colors",children:"Add Image"})]}),o&&f.jsx("p",{className:"text-xs text-red-600",children:o})]})]})},_w="clixy_draft_",Hi=i=>`${_w}${i}`,ww=(i,n)=>{try{const r=Hi(i),l={data:n,savedAt:new Date().toISOString(),version:"1.0"};localStorage.setItem(r,JSON.stringify(l))}catch(r){console.warn("Failed to save draft:",r)}},Sw=i=>{try{const n=Hi(i),r=localStorage.getItem(n);return r?JSON.parse(r).data:null}catch(n){return console.warn("Failed to load draft:",n),null}},Ip=i=>{try{const n=Hi(i),r=localStorage.getItem(n);return r?{savedAt:JSON.parse(r).savedAt}:null}catch{return null}},Kp=i=>{try{const n=Hi(i);localStorage.removeItem(n)}catch(n){console.warn("Failed to clear draft:",n)}},Ew=i=>{try{const n=Hi(i);return localStorage.getItem(n)!==null}catch{return!1}},pc=i=>{const n=new Date,r=new Date(i),l=n.getTime()-r.getTime(),o=Math.floor(l/6e4);if(o<1)return"just now";if(o===1)return"1 minute ago";if(o<60)return`${o} minutes ago`;const c=Math.floor(o/60);if(c===1)return"1 hour ago";if(c<24)return`${c} hours ago`;const h=Math.floor(c/24);return h===1?"1 day ago":`${h} days ago`},Qp=()=>{const i=Nr(),{id:n}=ig(),{addNotification:r}=Cl(),[l,o]=k.useState(!1),[c,h]=k.useState(!!n),[p,m]=k.useState(null),[g,x]=k.useState(!1),w=k.useRef(null),j=n||"new-shoot",[y,_]=k.useState({id:"",projectType:"photo_shoot",title:"",client:"",date:"",startTime:"09:00",endTime:"18:00",locationName:"",locationAddress:"",locationMapUrl:"",description:"",moodboardUrl:"",moodboardImages:[],callSheetUrl:"",photoSelectionUrl:"",finalPhotosUrl:"",photoStatus:"selection_ready",videoUrl:"",videoStatus:"draft",revisionNotes:"",stylingUrl:"",stylingNotes:"",hairMakeupNotes:"",coverImage:"",team:[],timeline:[]});k.useEffect(()=>{!n&&Ew(j)?x(!0):n&&T(n)},[n]),k.useEffect(()=>{if(y.title.trim())return w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{ww(j,y),m(new Date().toISOString())},3e4),()=>{w.current&&clearTimeout(w.current)}},[y,j]),k.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const T=async te=>{try{h(!0);const me=await cv(te);me?_(me):(r("error","Shoot not found"),i("/admin"))}catch{r("error","Failed to load shoot"),i("/admin")}finally{h(!1)}},S=te=>{const{name:me,value:Se}=te.target;_(Re=>({...Re,[me]:Se}))},E=y.projectType==="photo_shoot"||y.projectType==="hybrid",q=y.projectType==="video_project"||y.projectType==="hybrid",R=y.projectType==="photo_shoot"||y.projectType==="hybrid",Y=y.projectType==="photo_shoot"||y.projectType==="hybrid",re=y.projectType==="photo_shoot"||y.projectType==="hybrid",ae=()=>{const te=Sw(j);if(te){_(te);const me=Ip(j);me&&r("success",`Draft restored from ${pc(me.savedAt)}`)}x(!1)},Q=()=>{Kp(j),x(!1),r("info","Draft discarded")},ve=async te=>{te.preventDefault();const me=mw(y);if(!me.isValid){me.errors.forEach(Se=>r("error",Se,7e3));return}o(!0);try{const Se={...y,coverImage:"",moodboardUrl:Fn(y.moodboardUrl||""),callSheetUrl:Fn(y.callSheetUrl||""),finalPhotosUrl:Fn(y.finalPhotosUrl||""),photoSelectionUrl:Fn(y.photoSelectionUrl||""),videoUrl:Fn(y.videoUrl||""),stylingUrl:Fn(y.stylingUrl||""),locationMapUrl:Fn(y.locationMapUrl||""),moodboardImages:y.moodboardImages.map(Fn).filter(Boolean)};if(n)await uw(Se),r("success","Shoot updated successfully!");else{const Re=y.title.toLowerCase().replace(/[^a-z0-9]/g,"-")+"-"+Date.now().toString().slice(-4);await ow({...Se,id:Re}),r("success","Shoot created successfully!")}Kp(j),i("/admin")}catch(Se){console.error("Error in handleSubmit:",Se);const Re=Se instanceof Error?Se.message:"Unknown error";r("error",`Failed to ${n?"update":"create"} shoot: ${Re}`)}finally{o(!1)}};return c?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#D8D9CF]",children:f.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[f.jsx("div",{className:"h-4 w-4 bg-black rounded-full mb-2 animate-bounce"}),f.jsx("span",{className:"text-xs font-medium tracking-widest text-gray-400 uppercase",children:"Loading"})]})}):f.jsx("div",{className:"min-h-screen bg-[#D8D9CF] text-[#141413] pb-24",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[g&&f.jsx("div",{className:"mb-8 bg-white border-2 border-[#141413] p-6 shadow-[8px_8px_0px_0px_rgba(20,20,19,1)]",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-[#141413] mb-2",children:"Unsaved Draft Found"}),f.jsx("p",{className:"text-xs text-[#9E9E98] uppercase tracking-wider",children:(()=>{const te=Ip(j);return te?`Last saved ${pc(te.savedAt)}`:"A previous draft was found"})()})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:ae,className:"px-4 py-2 bg-[#141413] text-white text-xs font-bold uppercase tracking-wider hover:bg-white hover:text-[#141413] border border-[#141413] transition-colors",children:"Restore"}),f.jsx("button",{onClick:Q,className:"px-4 py-2 bg-white text-[#9E9E98] text-xs font-bold uppercase tracking-wider hover:text-red-600 border border-[#9E9E98] hover:border-red-600 transition-colors",children:"Discard"})]})]})}),f.jsxs("div",{className:"mb-12",children:[f.jsx(mg,{backTo:"/admin",backLabel:"Cancel",variant:"light",position:"relative",className:"mb-6"}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-extrabold uppercase tracking-tight text-[#141413]",children:n?"Edit Shoot":"Create New Shoot"}),p&&!n&&f.jsxs("p",{className:"text-[10px] text-[#9E9E98] uppercase tracking-wider mt-1",children:["Draft auto-saved ",pc(p)]})]})]}),f.jsxs("form",{onSubmit:ve,className:"space-y-16",children:[f.jsxs("section",{children:[f.jsx("h3",{className:Ti,children:"01. The Basics"}),f.jsxs("div",{className:Ni,children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:Ge,children:"Project Type"}),f.jsxs("select",{name:"projectType",value:y.projectType,onChange:S,className:"w-full bg-[#D8D9CF] text-[#141413] border-b-2 border-[#141413] py-3 focus:border-[#141413] outline-none transition-colors font-bold uppercase text-sm tracking-wider",children:[f.jsx("option",{value:"photo_shoot",children:" Photo Shoot"}),f.jsx("option",{value:"video_project",children:" Video / Reels Project"}),f.jsx("option",{value:"hybrid",children:" Hybrid (Photo + Video)"})]}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-2 uppercase tracking-wider",children:y.projectType==="video_project"?"Video projects hide location, timeline, and team sections":y.projectType==="hybrid"?"Hybrid projects show all fields for both photo and video":"Photo shoots show full workflow with location and team"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Project Title"}),f.jsx("input",{required:!0,name:"title",value:y.title,onChange:S,className:Fe,placeholder:"e.g. SUMMER CAMPAIGN"})]}),f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Client"}),f.jsx("input",{required:!0,name:"client",value:y.client,onChange:S,className:Fe,placeholder:"e.g. BRAND NAME"})]})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:Ge,children:"Description / Overview"}),f.jsx("textarea",{required:!0,name:"description",value:y.description,onChange:S,rows:3,className:`${Fe} resize-none`,placeholder:"Brief description of the project concept..."})]})]})]}),R&&f.jsxs("section",{children:[f.jsx("h3",{className:Ti,children:"02. Logistics & Schedule"}),f.jsxs("div",{className:Ni,children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Date"}),f.jsx("input",{type:"date",required:!0,name:"date",value:y.date,onChange:S,className:Fe})]}),f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Start Time"}),f.jsx("input",{type:"time",required:!0,name:"startTime",value:y.startTime,onChange:S,className:Fe,step:"60",pattern:"[0-9]{2}:[0-9]{2}"}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-1 uppercase tracking-wider",children:"Format: HH:MM (e.g., 09:30)"})]}),f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"End Time"}),f.jsx("input",{type:"time",required:!0,name:"endTime",value:y.endTime,onChange:S,className:Fe,step:"60",pattern:"[0-9]{2}:[0-9]{2}"}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-1 uppercase tracking-wider",children:"Format: HH:MM (e.g., 18:00)"})]})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:Ge,children:"Location Name"}),f.jsx("input",{name:"locationName",value:y.locationName,onChange:S,className:Fe,placeholder:"e.g. Studio Loft"})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:Ge,children:"Full Address"}),f.jsx("input",{required:R,name:"locationAddress",value:y.locationAddress,onChange:S,className:Fe,placeholder:"Street, City, Zip"})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:Ge,children:"Map URL (Optional)"}),f.jsx("input",{name:"locationMapUrl",value:y.locationMapUrl,onChange:S,className:Fe,placeholder:"https://maps.google.com/..."})]}),Y&&f.jsx(yw,{timeline:y.timeline,onChange:te=>_(me=>({...me,timeline:te}))})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:Ti,children:"03. Visuals & Links"}),f.jsxs("div",{className:Ni,children:[f.jsx(xw,{images:y.moodboardImages,onChange:te=>_(me=>({...me,moodboardImages:te}))}),f.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"External Moodboard Link"}),f.jsx("input",{name:"moodboardUrl",value:y.moodboardUrl,onChange:S,className:Fe,placeholder:"PINTEREST / CANVA URL"})]}),f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Call Sheet URL"}),f.jsx("input",{name:"callSheetUrl",value:y.callSheetUrl,onChange:S,className:Fe,placeholder:"NOTION / GOOGLE DRIVE"})]}),E&&f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Styling Guide URL"}),f.jsx("input",{name:"stylingUrl",value:y.stylingUrl,onChange:S,className:Fe,placeholder:"LINK TO DECK"})]})]}),E&&f.jsxs("div",{className:"mt-12 pt-8 border-t border-[#141413]",children:[f.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-[#141413] mb-6",children:"Photo Delivery Workflow"}),f.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Photo Selection URL"}),f.jsx("input",{name:"photoSelectionUrl",value:y.photoSelectionUrl,onChange:S,className:Fe,placeholder:"ADOBE / GOOGLE DRIVE / WETRANSFER"}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-2 uppercase tracking-wider",children:"Link for client to select photos"})]}),f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Final Photos URL"}),f.jsx("input",{name:"finalPhotosUrl",value:y.finalPhotosUrl,onChange:S,className:Fe,placeholder:"DOWNLOAD LINK (SAME FOLDER, UPDATED)"}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-2 uppercase tracking-wider",children:"Link to final edited photos (continuously updated)"})]}),f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Photo Status"}),f.jsxs("select",{name:"photoStatus",value:y.photoStatus,onChange:S,className:"w-full bg-[#D8D9CF] text-[#141413] border-b border-[#9E9E98] py-3 focus:border-[#141413] outline-none transition-colors font-medium uppercase text-sm",children:[f.jsx("option",{value:"selection_ready",children:"Selection Ready - Client can select photos"}),f.jsx("option",{value:"editing_in_progress",children:"Editing in Progress - Photos being edited"}),f.jsx("option",{value:"completed",children:"Completed - Final photos ready"})]}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-2 uppercase tracking-wider",children:"Controls what client sees on shoot page"})]})]})]}),q&&f.jsxs("div",{className:"mt-12 pt-8 border-t border-[#141413]",children:[f.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-[#141413] mb-6",children:"Video Delivery Workflow"}),f.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Video URL"}),f.jsx("input",{name:"videoUrl",value:y.videoUrl,onChange:S,className:Fe,placeholder:"GOOGLE DRIVE / WETRANSFER / VIMEO"}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-2 uppercase tracking-wider",children:"Link to video deliverables (drafts, final edits)"})]}),f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Video Status"}),f.jsxs("select",{name:"videoStatus",value:y.videoStatus,onChange:S,className:"w-full bg-[#D8D9CF] text-[#141413] border-b border-[#9E9E98] py-3 focus:border-[#141413] outline-none transition-colors font-medium uppercase text-sm",children:[f.jsx("option",{value:"draft",children:"Draft - Initial rough cut"}),f.jsx("option",{value:"editing",children:"Editing - Work in progress"}),f.jsx("option",{value:"review",children:"Review - Ready for client feedback"}),f.jsx("option",{value:"final",children:"Final - Completed and approved"})]}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-2 uppercase tracking-wider",children:"Current stage of video production"})]}),f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Revision Notes"}),f.jsx("textarea",{name:"revisionNotes",value:y.revisionNotes,onChange:S,rows:3,className:`${Fe} resize-none`,placeholder:"Client feedback, revision requests, notes..."}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-2 uppercase tracking-wider",children:"Track client feedback and revisions"})]})]})]})]})]}),E&&f.jsxs("section",{children:[f.jsx("h3",{className:Ti,children:"04. Creative Notes"}),f.jsxs("div",{className:Ni,children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:Ge,children:"Styling Notes"}),f.jsx("textarea",{name:"stylingNotes",value:y.stylingNotes,onChange:S,rows:3,className:`${Fe} resize-none`,placeholder:"Wardrobe, props, styling direction..."}),f.jsx("p",{className:"text-[10px] text-[#9E9E98] mt-2 uppercase tracking-wider",children:"Optional text notes (or use Styling Guide URL above)"})]}),f.jsxs("div",{children:[f.jsx("label",{className:Ge,children:"Hair & Makeup Notes"}),f.jsx("textarea",{name:"hairMakeupNotes",value:y.hairMakeupNotes,onChange:S,rows:3,className:`${Fe} resize-none`,placeholder:"Look and feel..."})]})]})]}),re&&f.jsxs("section",{children:[f.jsx("h3",{className:Ti,children:"05. The Team"}),f.jsx("div",{className:Ni,children:f.jsx(bw,{team:y.team,onChange:te=>_(me=>({...me,team:te}))})})]}),f.jsxs("div",{className:"pt-8 border-t border-[#141413] flex flex-col md:flex-row justify-end gap-4",children:[f.jsx(yt,{to:"/admin",className:"w-full md:w-auto text-center px-8 md:px-12 py-4 bg-white text-[#141413] text-sm font-bold uppercase tracking-[0.2em] hover:bg-[#141413] hover:text-white border border-[#141413] transition-colors touch-manipulation",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:l,className:"w-full md:w-auto px-8 md:px-12 py-4 bg-[#141413] text-white text-sm font-bold uppercase tracking-[0.2em] hover:bg-white hover:text-[#141413] border border-[#141413] transition-colors disabled:opacity-50 shadow-[4px_4px_0px_0px_#9E9E98] touch-manipulation",children:l?"Processing...":n?"Update Shoot":"Publish Shoot"})]})]})]})})},wr={whatsapp:"+13475839777",email:"art@olgaprudka.com",zelle:{name:"Olha Prudka",phone:"347-933-5770"}},gv=[{id:"couple-photoshoot",name:"COUPLE PHOTOSHOOT",price:1e3,currency:"USD",duration:"1.52 hours",photosCount:"40 edited photos",locations:"1 main location",features:["Close-up portraits of connection and intimacy","Detail shots (hands, expressions, small moments)","Full-body frames","Dynamic movement and candid interactions","Multiple backgrounds and moods","Color + B&W versions","All original files from the session","Personalized moodboard","Posing guidance and support"],description:"A cinematic couple session focused on capturing your connection and emotions in a natural and authentic way.",popular:!0,notionUrl:"https://www.notion.so/COUPLE-PHOTOSHOOT-2af387bff96a803b9a85d88b01b15066"},{id:"street-style-single",name:"STREET STYLE (1 Outfit)",price:1e3,currency:"USD",duration:"1.52 hours",photosCount:"35 edited photos",locations:"1 NYC neighborhood",features:["1 outfit","Close-up portraits","Detail captures (accessories, textures, expressions)","Full-body frames","Dynamic movement shots","Color + B&W versions","All original files","Custom moodboard","Posing guidance and angles"],description:"A dynamic New York street style session focused on you and your personality.",notionUrl:"https://www.notion.so/STREET-STYLE-PHOTOSHOOT-2af387bff96a80fd943cd55499d4b657"},{id:"street-style-double",name:"STREET STYLE (2 Outfits)",price:1300,currency:"USD",duration:"23 hours",photosCount:"50 edited photos",locations:"1 NYC neighborhood",features:["2 outfits","Close-up portraits","Detail captures (accessories, textures, expressions)","Full-body frames","Dynamic movement shots","Color + B&W versions","All original files","Custom moodboard","Posing guidance and angles"],description:"Extended street style session with two outfit changes for more variety.",notionUrl:"https://www.notion.so/STREET-STYLE-PHOTOSHOOT-2af387bff96a80fd943cd55499d4b657"},{id:"family-photoshoot",name:"FAMILY PHOTOSHOOT",price:1300,currency:"USD",duration:"22.5 hours",photosCount:"40 edited photos",locations:"Home or outdoor location",features:["Natural portraits","Emotional group shots","Close-ups and macro portraits","Candid reportage-style frames","Color + B&W versions","All original files","Outfit coordination help","Relaxed, natural atmosphere","Optional personalized moodboard"],description:"An intimate, documentary-style family session that captures who you really are  the warmth, connection, laughter, and quiet moments.",notionUrl:"https://www.notion.so/FAMILY-PHOTOSHOOT-2a5387bff96a80289610d556cc0b2bc9"}],Jp=()=>{const i="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",l=()=>{let c="";for(let h=0;h<4;h++)c+=i[Math.floor(Math.random()*i.length)];return c};return`CLIXY-${Array(3).fill(0).map(()=>l()).join("-")}`},gc=()=>`gc-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Xp=async(i,n,r)=>{const l=encodeURIComponent(`
NEW GIFT CARD REQUEST - URGENT (Database unavailable)

CODE: ${n}
Package: ${r.name}
Amount: $${r.price} ${r.currency}

PURCHASER:
Name: ${i.purchaserName}
Email: ${i.purchaserEmail}
Phone: ${i.purchaserPhone}

RECIPIENT:
Name: ${i.recipientName}
Email: ${i.recipientEmail}

Delivery: ${i.deliveryType==="immediate"?"Immediate":i.deliveryDate}
Message: ${i.personalMessage||"None"}

 This request was sent via fallback because the database was unavailable.
Please process manually and add to database when possible.
  `),o=`mailto:maksym.sudarikov@gmail.com?subject=URGENT: Gift Card Request ${n}&body=${l}`;setTimeout(()=>{const c=document.createElement("a");c.href=o,c.target="_blank",c.click()},500)},jw=async i=>{const n=gv.find(l=>l.id===i.packageId);if(!n)throw new Error("Package not found");let r=Jp();try{let l=!0,o=0;for(;l&&o<3;){const{data:w}=await Oa.from("gift_cards").select("code").eq("code",r).maybeSingle();w?r=Jp():l=!1,o++}const c=new Date,h=i.deliveryType==="immediate"?c:new Date(i.deliveryDate||c),p=new Date(c);p.setFullYear(p.getFullYear()+1);const m={code:r,packageId:n.id,packageName:n.name,amount:n.price,currency:n.currency,purchaserName:i.purchaserName,purchaserEmail:i.purchaserEmail,purchaserPhone:i.purchaserPhone,recipientName:i.recipientName,recipientEmail:i.recipientEmail,personalMessage:i.personalMessage,purchaseDate:c.toISOString(),deliveryDate:h.toISOString(),expiryDate:p.toISOString(),status:"pending",paymentStatus:"pending"},{data:g,error:x}=await Oa.from("gift_cards").insert([{id:gc(),code:m.code,package_id:m.packageId,package_name:m.packageName,amount:m.amount,currency:m.currency,purchaser_name:m.purchaserName,purchaser_email:m.purchaserEmail,purchaser_phone:m.purchaserPhone,recipient_name:m.recipientName,recipient_email:m.recipientEmail,personal_message:m.personalMessage,purchase_date:m.purchaseDate,delivery_date:m.deliveryDate,expiry_date:m.expiryDate,status:m.status,payment_status:m.paymentStatus}]).select().single();if(x){if(console.error("Supabase error:",x),console.error("Error details:",JSON.stringify(x,null,2)),x.message.includes("row-level security")||x.message.includes("policy"))return console.warn("Database RLS error detected, using email fallback"),console.warn("Please apply SQL policy in Supabase to fix this!"),Xp(i,r,n).catch(w=>{console.error("Email fallback failed:",w)}),{id:gc(),code:r,packageId:n.id,packageName:n.name,amount:n.price,currency:n.currency,purchaserName:i.purchaserName,purchaserEmail:i.purchaserEmail,purchaserPhone:i.purchaserPhone,recipientName:i.recipientName,recipientEmail:i.recipientEmail,personalMessage:i.personalMessage,purchaseDate:new Date().toISOString(),deliveryDate:i.deliveryType==="immediate"?new Date().toISOString():new Date(i.deliveryDate).toISOString(),expiryDate:new Date(Date.now()+365*24*60*60*1e3).toISOString(),status:"pending",paymentStatus:"pending"};throw new Error(`Failed to create gift card: ${x.message}`)}return g}catch(l){if(console.error("Error creating gift card:",l),l instanceof Error&&(l.message.includes("row-level security")||l.message.includes("policy")))return console.warn("Using email fallback due to persistent error"),Xp(i,r,n).catch(o=>{console.error("Email fallback failed:",o)}),{id:gc(),code:r,packageId:n.id,packageName:n.name,amount:n.price,currency:n.currency,purchaserName:i.purchaserName,purchaserEmail:i.purchaserEmail,purchaserPhone:i.purchaserPhone,recipientName:i.recipientName,recipientEmail:i.recipientEmail,personalMessage:i.personalMessage,purchaseDate:new Date().toISOString(),deliveryDate:i.deliveryType==="immediate"?new Date().toISOString():new Date(i.deliveryDate).toISOString(),expiryDate:new Date(Date.now()+365*24*60*60*1e3).toISOString(),status:"pending",paymentStatus:"pending"};throw l}},Tw=()=>f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),Nw=()=>{const i=Nr(),{addNotification:n}=Cl(),[r,l]=k.useState(null),[o,c]=k.useState(!1),[h,p]=k.useState({deliveryType:"immediate"}),m=j=>{l(j),p(y=>({...y,packageId:j.id}))},g=j=>{const{name:y,value:_}=j.target;p(T=>({...T,[y]:_}))},x=j=>{p(y=>({...y,deliveryType:j,deliveryDate:j==="immediate"?void 0:y.deliveryDate}))},w=async j=>{if(j.preventDefault(),!r){n("error","Please select a package");return}if(!h.purchaserName||!h.purchaserEmail||!h.purchaserPhone||!h.recipientName||!h.recipientEmail){n("error","Please fill in all required fields");return}if(h.purchaserEmail&&!Uc(h.purchaserEmail)){n("error","Please enter a valid purchaser email address");return}if(h.recipientEmail&&!Uc(h.recipientEmail)){n("error","Please enter a valid recipient email address");return}if(h.purchaserPhone&&!pv(h.purchaserPhone)){n("error","Please enter a valid phone number (at least 7 digits)");return}if(h.deliveryType==="scheduled"&&!h.deliveryDate){n("error","Please select a delivery date");return}c(!0);try{const y=await jw(h);n("success","Gift card request submitted successfully!");const _=new URLSearchParams({code:y.code,packageName:r.name,amount:r.price.toString(),recipientName:h.recipientName});i(`/gift-card/success?${_.toString()}`)}catch(y){console.error("Error creating gift card:",y);const _=y instanceof Error?y.message:"Failed to create gift card";n("error",`Error: ${_}. Please try again.`)}finally{c(!1)}};return f.jsxs("div",{className:"min-h-screen bg-[#D8D9CF] text-[#141413] selection:bg-[#141413] selection:text-white",children:[f.jsx("div",{className:"border-b border-[#141413] py-8",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[f.jsx("a",{href:"/",className:"inline-block mb-4 text-xs uppercase tracking-widest hover:opacity-70",children:" Back to Clixy"}),f.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold uppercase tracking-tight leading-none mb-2",children:"GIFT A PHOTOSHOOT"}),f.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-[#9E9E98]",children:"Studio Olga Prudka"})]})}),f.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[r?f.jsxs("form",{onSubmit:w,className:"space-y-8",children:[f.jsxs("div",{className:"bg-[#141413] text-white p-6 border border-[#141413]",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider mb-1",children:"Selected Package"}),f.jsx("p",{className:"text-xl font-bold uppercase",children:r.name})]}),f.jsx("button",{type:"button",onClick:()=>l(null),className:"text-xs uppercase tracking-widest border-b border-white pb-0.5 hover:opacity-70",children:"Change"})]}),f.jsxs("p",{className:"text-2xl font-bold",children:["$",r.price," ",r.currency]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold mb-6 pb-3 border-b border-[#141413]",children:"Your Details"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider mb-1",children:"Full Name *"}),f.jsx("input",{type:"text",name:"purchaserName",required:!0,value:h.purchaserName||"",onChange:g,className:"w-full bg-transparent border-b border-[#9E9E98] py-3 focus:border-[#141413] outline-none transition-colors",placeholder:"Your full name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider mb-1",children:"Email *"}),f.jsx("input",{type:"email",name:"purchaserEmail",required:!0,value:h.purchaserEmail||"",onChange:g,className:"w-full bg-transparent border-b border-[#9E9E98] py-3 focus:border-[#141413] outline-none transition-colors",placeholder:"your@email.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider mb-1",children:"Phone *"}),f.jsx("input",{type:"tel",name:"purchaserPhone",required:!0,value:h.purchaserPhone||"",onChange:g,className:"w-full bg-transparent border-b border-[#9E9E98] py-3 focus:border-[#141413] outline-none transition-colors",placeholder:"+1 (555) 000-0000"})]})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold mb-6 pb-3 border-b border-[#141413]",children:"Recipient Details"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider mb-1",children:"Recipient Name *"}),f.jsx("input",{type:"text",name:"recipientName",required:!0,value:h.recipientName||"",onChange:g,className:"w-full bg-transparent border-b border-[#9E9E98] py-3 focus:border-[#141413] outline-none transition-colors",placeholder:"Gift recipient's name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider mb-1",children:"Recipient Email *"}),f.jsx("input",{type:"email",name:"recipientEmail",required:!0,value:h.recipientEmail||"",onChange:g,className:"w-full bg-transparent border-b border-[#9E9E98] py-3 focus:border-[#141413] outline-none transition-colors",placeholder:"recipient@email.com"})]})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold mb-6 pb-3 border-b border-[#141413]",children:"Personal Message (Optional)"}),f.jsx("textarea",{name:"personalMessage",value:h.personalMessage||"",onChange:g,rows:4,className:"w-full bg-white border border-[#9E9E98] p-4 focus:border-[#141413] outline-none transition-colors resize-none",placeholder:"Write a heartfelt message to your gift recipient..."})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-xs uppercase tracking-[0.2em] font-bold mb-6 pb-3 border-b border-[#141413]",children:"Delivery"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"deliveryType",checked:h.deliveryType==="immediate",onChange:()=>x("immediate"),className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Send immediately"})]}),f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"deliveryType",checked:h.deliveryType==="scheduled",onChange:()=>x("scheduled"),className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Schedule for a specific date"})]}),h.deliveryType==="scheduled"&&f.jsx("input",{type:"date",name:"deliveryDate",required:!0,value:h.deliveryDate||"",onChange:g,min:new Date().toISOString().split("T")[0],className:"ml-7 bg-white border border-[#9E9E98] px-4 py-2 focus:border-[#141413] outline-none text-sm"})]})]}),f.jsxs("div",{className:"pt-6",children:[f.jsx("button",{type:"submit",disabled:o,className:"w-full px-6 py-4 bg-[#141413] text-white text-sm font-bold uppercase tracking-widest hover:bg-white hover:text-[#141413] border border-[#141413] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Submitting...":"Submit Gift Card Request "}),f.jsx("p",{className:"mt-4 text-xs text-center text-[#9E9E98] uppercase tracking-wide",children:"You'll receive payment instructions on the next page"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("h2",{className:"text-xs uppercase tracking-[0.2em] font-bold mb-8 pb-3 border-b border-[#141413]",children:"Select Package"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:gv.map(j=>f.jsxs("div",{className:"bg-white border border-[#141413] p-6 hover:shadow-[4px_4px_0px_0px_rgba(20,20,19,1)] transition-all flex flex-col",children:[f.jsxs("div",{className:"mb-4 pb-4 border-b border-[#9E9E98]",children:[f.jsx("h3",{className:"text-lg font-bold uppercase tracking-tight mb-1",children:j.name}),f.jsxs("p",{className:"text-2xl font-bold",children:["$",j.price," ",j.currency]})]}),f.jsxs("div",{className:"space-y-2 mb-4",children:[f.jsxs("div",{className:"flex items-center text-sm",children:[f.jsx("span",{className:"font-mono text-[#9E9E98] w-24",children:"Duration:"}),f.jsx("span",{className:"font-medium",children:j.duration})]}),f.jsxs("div",{className:"flex items-center text-sm",children:[f.jsx("span",{className:"font-mono text-[#9E9E98] w-24",children:"Photos:"}),f.jsx("span",{className:"font-medium",children:j.photosCount})]}),j.locations&&f.jsxs("div",{className:"flex items-center text-sm",children:[f.jsx("span",{className:"font-mono text-[#9E9E98] w-24",children:"Location:"}),f.jsx("span",{className:"font-medium",children:j.locations})]})]}),f.jsx("p",{className:"text-sm text-gray-700 mb-4 leading-relaxed",children:j.description}),f.jsxs("div",{className:"space-y-2 mt-auto",children:[j.notionUrl&&f.jsxs("a",{href:j.notionUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-white text-[#141413] border border-[#141413] text-xs font-bold uppercase tracking-widest hover:bg-[#141413] hover:text-white transition-colors",children:["View Full Details",f.jsx(Tw,{})]}),f.jsx("button",{onClick:()=>m(j),className:"w-full px-4 py-3 bg-[#141413] text-white text-xs font-bold uppercase tracking-widest hover:bg-white hover:text-[#141413] border border-[#141413] transition-colors",children:"Select This Package "})]})]},j.id))})]}),f.jsx("div",{className:"mt-16 pt-8 border-t border-[#141413] text-center",children:f.jsxs("p",{className:"text-xs text-[#9E9E98] uppercase tracking-widest",children:["Questions? Contact us at ",f.jsx("a",{href:`mailto:${wr.email}`,className:"text-[#141413] border-b border-[#141413]",children:wr.email})]})})]})]})},Ow=()=>f.jsx("svg",{className:"w-16 h-16 mx-auto mb-6 text-[#141413]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Aw=()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),Cw=()=>{const[i]=_1(),[n,r]=k.useState(!1),l=i.get("code"),o=i.get("packageName"),c=i.get("amount"),h=i.get("recipientName"),p=()=>{l&&(navigator.clipboard.writeText(l),r(!0),setTimeout(()=>r(!1),2e3))},m=`https://wa.me/${wr.whatsapp.replace(/[^0-9]/g,"")}?text=Hi! I just purchased a gift card (Code: ${l}). I'd like to complete the payment.`;return!l||!o||!c||!h?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#D8D9CF]",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-xl font-bold mb-2",children:"Invalid Gift Card Link"}),f.jsx("p",{className:"text-sm text-[#9E9E98] mb-6",children:"Please complete the purchase form to create a gift card."}),f.jsx(yt,{to:"/gift-card",className:"text-xs border-b border-[#141413] pb-0.5 uppercase tracking-widest",children:"Go to Gift Card Purchase"})]})}):f.jsxs("div",{className:"min-h-screen bg-[#D8D9CF] text-[#141413] selection:bg-[#141413] selection:text-white",children:[f.jsx("div",{className:"border-b border-[#141413] py-8",children:f.jsxs("div",{className:"max-w-3xl mx-auto px-6",children:[f.jsx("a",{href:"/",className:"inline-block mb-4 text-xs uppercase tracking-widest hover:opacity-70",children:" Back to Clixy"}),f.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold uppercase tracking-tight leading-none",children:"REQUEST SUBMITTED"})]})}),f.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx(Ow,{}),f.jsx("p",{className:"text-lg font-medium",children:"Thank you for your gift card purchase!"}),f.jsx("p",{className:"text-sm text-[#9E9E98] mt-2",children:"Complete the payment to activate your gift card."})]}),f.jsxs("div",{className:"bg-white border border-[#141413] p-8 mb-8 shadow-[4px_4px_0px_0px_rgba(20,20,19,1)]",children:[f.jsx("h2",{className:"text-xs uppercase tracking-[0.2em] font-bold text-[#9E9E98] mb-4",children:"Gift Card Summary"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#9E9E98]",children:[f.jsx("span",{className:"text-sm font-medium",children:"Package:"}),f.jsx("span",{className:"text-sm font-bold uppercase",children:o})]}),f.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#9E9E98]",children:[f.jsx("span",{className:"text-sm font-medium",children:"Amount:"}),f.jsxs("span",{className:"text-xl font-bold",children:["$",c," USD"]})]}),f.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#9E9E98]",children:[f.jsx("span",{className:"text-sm font-medium",children:"Recipient:"}),f.jsx("span",{className:"text-sm font-bold",children:h})]}),f.jsxs("div",{className:"flex justify-between items-center py-2",children:[f.jsx("span",{className:"text-sm font-medium",children:"Your Gift Card Code:"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm font-mono font-bold bg-[#D8D9CF] px-3 py-1 border border-[#141413]",children:l}),f.jsx("button",{onClick:p,className:"p-2 hover:bg-[#D8D9CF] border border-[#141413] transition-colors",title:"Copy code",children:n?"":f.jsx(Aw,{})})]})]})]})]}),f.jsxs("div",{className:"bg-[#141413] text-white p-8 mb-8",children:[f.jsx("h2",{className:"text-xs uppercase tracking-[0.2em] font-bold text-[#9E9E98] mb-6",children:"Next Steps"}),f.jsxs("ol",{className:"space-y-4",children:[f.jsxs("li",{className:"flex gap-4",children:[f.jsx("span",{className:"font-bold text-xl flex-shrink-0",children:"1."}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold mb-1",children:"Complete Payment"}),f.jsx("p",{className:"text-sm text-gray-300",children:"Use one of the payment methods below to complete your purchase."})]})]}),f.jsxs("li",{className:"flex gap-4",children:[f.jsx("span",{className:"font-bold text-xl flex-shrink-0",children:"2."}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold mb-1",children:"Gift Card Delivery"}),f.jsx("p",{className:"text-sm text-gray-300",children:"Your recipient will receive the gift card within 24 hours after payment confirmation."})]})]}),f.jsxs("li",{className:"flex gap-4",children:[f.jsx("span",{className:"font-bold text-xl flex-shrink-0",children:"3."}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold mb-1",children:"Booking the Session"}),f.jsx("p",{className:"text-sm text-gray-300",children:"The recipient will contact us using their gift card code to schedule their photoshoot."})]})]})]})]}),f.jsxs("div",{className:"bg-white border border-[#141413] p-8 mb-8",children:[f.jsx("h2",{className:"text-xs uppercase tracking-[0.2em] font-bold text-[#9E9E98] mb-6",children:"Payment Instructions"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-6 bg-[#D8D9CF] border border-[#141413]",children:[f.jsx("h3",{className:"font-bold uppercase tracking-wide mb-3",children:"Zelle (Preferred)"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-[#9E9E98]",children:"Name:"}),f.jsx("span",{className:"font-bold",children:wr.zelle.name})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-[#9E9E98]",children:"Phone:"}),f.jsx("span",{className:"font-bold font-mono",children:wr.zelle.phone})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-[#9E9E98]",children:"Amount:"}),f.jsxs("span",{className:"font-bold text-lg",children:["$",c]})]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-[#141413]",children:[f.jsx("span",{className:"text-[#9E9E98] text-xs uppercase tracking-wider",children:"Reference:"}),f.jsx("p",{className:"font-mono font-bold mt-1",children:l})]})]})]}),f.jsxs("div",{className:"text-sm",children:[f.jsx("p",{className:"font-bold uppercase tracking-wide mb-2",children:"Also Accepted:"}),f.jsx("p",{className:"text-[#9E9E98]",children:"Venmo, PayPal, Wise"}),f.jsx("p",{className:"text-xs mt-2 text-[#9E9E98]",children:"Please contact us for details on alternative payment methods."})]})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-sm font-bold uppercase tracking-wide mb-4",children:"Ready to Complete Payment?"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[f.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-[#141413] text-white text-xs font-bold uppercase tracking-widest hover:bg-white hover:text-[#141413] border border-[#141413] transition-colors",children:"Contact via WhatsApp"}),f.jsx("a",{href:`mailto:${wr.email}?subject=Gift Card Payment - ${l}&body=Hi, I'd like to complete payment for my gift card purchase.%0D%0A%0D%0ACode: ${l}%0D%0AAmount: $${c}%0D%0APackage: ${o}`,className:"px-6 py-3 bg-white text-[#141413] text-xs font-bold uppercase tracking-widest hover:bg-[#141413] hover:text-white border border-[#141413] transition-colors",children:"Send Email"})]})]}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-[#141413] text-center text-xs text-[#9E9E98]",children:[f.jsx("p",{children:"Please save this page or take a screenshot of your gift card code."}),f.jsx("p",{className:"mt-2",children:"You'll receive a confirmation email once payment is processed."})]})]})]})},Rw=()=>f.jsxs("div",{className:"min-h-screen bg-[#D8D9CF] text-[#141413] font-light selection:bg-[#141413] selection:text-white flex flex-col",children:[f.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:f.jsxs("div",{className:"max-w-4xl w-full text-center",children:[f.jsx("h1",{className:"text-6xl md:text-[8rem] font-extrabold tracking-tighter leading-[0.8] mb-6 uppercase font-stretch-wide",children:"CLIXY"}),f.jsx("p",{className:"text-base md:text-xl font-bold uppercase tracking-[0.2em] mb-8",children:"Studio Olga Prudka"}),f.jsxs("p",{className:"text-sm md:text-base font-light tracking-wide max-w-2xl mx-auto mb-12 leading-relaxed",children:["Production portal for Studio Olga Prudka.",f.jsx("br",{}),"Track your photo and video shoots in real-time."]}),f.jsx(yt,{to:"/dashboard",className:"inline-block text-sm uppercase font-bold tracking-widest border-2 border-[#141413] px-8 py-4 hover:bg-[#141413] hover:text-[#D8D9CF] transition-all duration-300 hover:shadow-[8px_8px_0px_0px_rgba(20,20,19,1)]",children:"Team Access "})]})}),f.jsx("div",{className:"border-t-2 border-[#141413] py-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[f.jsxs("div",{className:"flex justify-center gap-6 mb-6",children:[f.jsx("a",{href:"https://instagram.com/olgaprudka",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] uppercase font-bold tracking-widest hover:opacity-60 transition-opacity",children:"Instagram"}),f.jsx("a",{href:"https://tiktok.com/@olgaprudka",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] uppercase font-bold tracking-widest hover:opacity-60 transition-opacity",children:"TikTok"}),f.jsx("a",{href:"https://olgaprudka.com",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] uppercase font-bold tracking-widest hover:opacity-60 transition-opacity",children:"Portfolio"}),f.jsx("a",{href:"/#/gift-card",className:"text-[10px] uppercase font-bold tracking-widest hover:opacity-60 transition-opacity",children:"Gift Cards"})]}),f.jsx("p",{className:"text-center text-[10px] uppercase tracking-widest text-[#141413]",children:"2025 STUDIO OLGA PRUDKA"})]})})]});function kw(i){function n(M,Z){return M<<Z|M>>>32-Z}function r(M,Z){const W=M&2147483648,O=Z&2147483648,B=M&1073741824,P=Z&1073741824,I=(M&1073741823)+(Z&1073741823);return B&P?I^2147483648^W^O:B|P?I&1073741824?I^3221225472^W^O:I^1073741824^W^O:I^W^O}function l(M,Z,W){return M&Z|~M&W}function o(M,Z,W){return M&W|Z&~W}function c(M,Z,W){return M^Z^W}function h(M,Z,W){return Z^(M|~W)}function p(M,Z,W,O,B,P,I){return M=r(M,r(r(l(Z,W,O),B),I)),r(n(M,P),Z)}function m(M,Z,W,O,B,P,I){return M=r(M,r(r(o(Z,W,O),B),I)),r(n(M,P),Z)}function g(M,Z,W,O,B,P,I){return M=r(M,r(r(c(Z,W,O),B),I)),r(n(M,P),Z)}function x(M,Z,W,O,B,P,I){return M=r(M,r(r(h(Z,W,O),B),I)),r(n(M,P),Z)}function w(M){const W=((M.length+8>>6)+1)*16,O=new Array(W).fill(0);let B=0,P=0,I=0;for(;P<M.length;)I=P>>2,B=P%4*8,O[I]=O[I]|M.charCodeAt(P)<<B,P++;return I=P>>2,B=P%4*8,O[I]=O[I]|128<<B,O[W-2]=M.length<<3,O[W-1]=M.length>>>29,O}function j(M){let Z="";for(let W=0;W<=3;W++){const O=M>>>W*8&255;Z+=("0"+O.toString(16)).slice(-2)}return Z}const y=w(i);let _=1732584193,T=4023233417,S=2562383102,E=271733878;const q=7,R=12,Y=17,re=22,ae=5,Q=9,ve=14,te=20,me=4,Se=11,Re=16,Dt=23,ct=6,it=10,H=15,K=21;for(let M=0;M<y.length;M+=16){const Z=_,W=T,O=S,B=E;_=p(_,T,S,E,y[M+0],q,3614090360),E=p(E,_,T,S,y[M+1],R,3905402710),S=p(S,E,_,T,y[M+2],Y,606105819),T=p(T,S,E,_,y[M+3],re,3250441966),_=p(_,T,S,E,y[M+4],q,4118548399),E=p(E,_,T,S,y[M+5],R,1200080426),S=p(S,E,_,T,y[M+6],Y,2821735955),T=p(T,S,E,_,y[M+7],re,4249261313),_=p(_,T,S,E,y[M+8],q,1770035416),E=p(E,_,T,S,y[M+9],R,2336552879),S=p(S,E,_,T,y[M+10],Y,4294925233),T=p(T,S,E,_,y[M+11],re,2304563134),_=p(_,T,S,E,y[M+12],q,1804603682),E=p(E,_,T,S,y[M+13],R,4254626195),S=p(S,E,_,T,y[M+14],Y,2792965006),T=p(T,S,E,_,y[M+15],re,1236535329),_=m(_,T,S,E,y[M+1],ae,4129170786),E=m(E,_,T,S,y[M+6],Q,3225465664),S=m(S,E,_,T,y[M+11],ve,643717713),T=m(T,S,E,_,y[M+0],te,3921069994),_=m(_,T,S,E,y[M+5],ae,3593408605),E=m(E,_,T,S,y[M+10],Q,38016083),S=m(S,E,_,T,y[M+15],ve,3634488961),T=m(T,S,E,_,y[M+4],te,3889429448),_=m(_,T,S,E,y[M+9],ae,568446438),E=m(E,_,T,S,y[M+14],Q,3275163606),S=m(S,E,_,T,y[M+3],ve,4107603335),T=m(T,S,E,_,y[M+8],te,1163531501),_=m(_,T,S,E,y[M+13],ae,2850285829),E=m(E,_,T,S,y[M+2],Q,4243563512),S=m(S,E,_,T,y[M+7],ve,1735328473),T=m(T,S,E,_,y[M+12],te,2368359562),_=g(_,T,S,E,y[M+5],me,4294588738),E=g(E,_,T,S,y[M+8],Se,2272392833),S=g(S,E,_,T,y[M+11],Re,1839030562),T=g(T,S,E,_,y[M+14],Dt,4259657740),_=g(_,T,S,E,y[M+1],me,2763975236),E=g(E,_,T,S,y[M+4],Se,1272893353),S=g(S,E,_,T,y[M+7],Re,4139469664),T=g(T,S,E,_,y[M+10],Dt,3200236656),_=g(_,T,S,E,y[M+13],me,681279174),E=g(E,_,T,S,y[M+0],Se,3936430074),S=g(S,E,_,T,y[M+3],Re,3572445317),T=g(T,S,E,_,y[M+6],Dt,76029189),_=g(_,T,S,E,y[M+9],me,3654602809),E=g(E,_,T,S,y[M+12],Se,3873151461),S=g(S,E,_,T,y[M+15],Re,530742520),T=g(T,S,E,_,y[M+2],Dt,3299628645),_=x(_,T,S,E,y[M+0],ct,4096336452),E=x(E,_,T,S,y[M+7],it,1126891415),S=x(S,E,_,T,y[M+14],H,2878612391),T=x(T,S,E,_,y[M+5],K,4237533241),_=x(_,T,S,E,y[M+12],ct,1700485571),E=x(E,_,T,S,y[M+3],it,2399980690),S=x(S,E,_,T,y[M+10],H,4293915773),T=x(T,S,E,_,y[M+1],K,2240044497),_=x(_,T,S,E,y[M+8],ct,1873313359),E=x(E,_,T,S,y[M+15],it,4264355552),S=x(S,E,_,T,y[M+6],H,2734768916),T=x(T,S,E,_,y[M+13],K,1309151649),_=x(_,T,S,E,y[M+4],ct,4149444226),E=x(E,_,T,S,y[M+11],it,3174756917),S=x(S,E,_,T,y[M+2],H,718787259),T=x(T,S,E,_,y[M+9],K,3951481745),_=r(_,Z),T=r(T,W),S=r(S,O),E=r(E,B)}return(j(_)+j(T)+j(S)+j(E)).toLowerCase()}const Dw=i=>kw(i),Uw=(i,n)=>Dw(i)===n.toLowerCase();class Mw{constructor(){this.attempts=new Map,this.maxAttempts=5,this.lockoutDuration=900*1e3,this.baseDelay=1e3}checkAttempt(n){const r=Date.now(),l=this.attempts.get(n);if(!l)return{allowed:!0};if(r-l.lastAttempt>this.lockoutDuration)return this.attempts.delete(n),{allowed:!0};const o=this.baseDelay*Math.pow(2,l.count-1),c=r-l.lastAttempt;if(l.count>=this.maxAttempts){const h=this.lockoutDuration-c;return{allowed:!1,waitTime:Math.max(0,Math.ceil(h/1e3))}}if(c<o){const h=o-c;return{allowed:!1,waitTime:Math.max(0,Math.ceil(h/1e3))}}return{allowed:!0}}recordFailedAttempt(n){const r=Date.now(),l=this.attempts.get(n);l?this.attempts.set(n,{count:l.count+1,lastAttempt:r}):this.attempts.set(n,{count:1,lastAttempt:r})}resetAttempts(n){this.attempts.delete(n)}}const pl=new Mw,vc="clixy_session_id",Zp="clixy_rate_limit_id",zw="ebe922af8d4560c73368a88eeac07d16",gl=({children:i})=>{const[n,r]=k.useState(!1),[l,o]=k.useState(""),[c,h]=k.useState(""),[p,m]=k.useState(!1),[g,x]=k.useState(0),w=()=>{let _=localStorage.getItem(Zp);return _||(_=`rl_${Date.now()}_${Math.random()}`,localStorage.setItem(Zp,_)),_};k.useEffect(()=>{if(!sessionStorage.getItem(vc)){r(!1);return}r(!0)},[]),k.useEffect(()=>{if(!p||g<=0)return;const _=setInterval(()=>{x(T=>T<=1?(m(!1),0):T-1)},1e3);return()=>clearInterval(_)},[p,g]);const j=_=>{if(_.preventDefault(),!l||l.length<4){h("Please enter a 4-digit PIN");return}const T=w(),{allowed:S,waitTime:E}=pl.checkAttempt(T);if(!S&&E){m(!0),x(E),h(`Too many failed attempts. Please wait ${E} seconds.`);return}if(Uw(l,zw)){const R=`session_${Date.now()}_${Math.random()}`;sessionStorage.setItem(vc,R),pl.resetAttempts(T),r(!0),h(""),m(!1)}else{pl.recordFailedAttempt(T),h("Incorrect PIN. Please try again."),o("");const{allowed:R,waitTime:Y}=pl.checkAttempt(T);!R&&Y&&(m(!0),x(Y),h(`Too many failed attempts. Please wait ${Y} seconds.`))}},y=()=>{sessionStorage.removeItem(vc),r(!1),o("")};return n?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"sticky top-0 z-50 backdrop-blur-sm bg-[#D8D9CF]/95 border-b border-[#141413]/10",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-end gap-2",children:[f.jsxs("a",{href:"/#/gift-card",target:"_blank",rel:"noopener noreferrer",className:"bg-white border-2 border-[#141413] px-3 md:px-4 py-2 text-xs md:text-sm font-medium hover:bg-[#141413] hover:text-white transition-colors flex items-center gap-2 touch-manipulation",children:[" ",f.jsx("span",{className:"hidden sm:inline",children:"Gift Card Link"}),f.jsx("span",{className:"sm:hidden",children:"Gift Card"})]}),f.jsx("button",{onClick:y,className:"bg-[#141413] text-white px-3 md:px-4 py-2 text-xs md:text-sm font-medium hover:bg-white hover:text-[#141413] border-2 border-[#141413] transition-colors touch-manipulation",children:"Logout"})]})}),i]}):f.jsx("div",{className:"min-h-screen bg-[#D8D9CF] flex items-center justify-center p-4 sm:p-6",children:f.jsxs("div",{className:"bg-white border-2 border-[#141413] p-6 sm:p-8 max-w-md w-full shadow-[8px_8px_0px_0px_rgba(20,20,19,1)]",children:[f.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[f.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-[#141413] mb-2",children:"CLIXY"}),f.jsx("p",{className:"text-sm sm:text-base text-[#9E9E98]",children:"Private Portfolio Access"})]}),f.jsxs("form",{onSubmit:j,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-[#141413] mb-2 uppercase tracking-wider",children:"Enter PIN Code"}),f.jsx("input",{id:"pin",type:"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,value:l,onChange:_=>{o(_.target.value.replace(/\D/g,"")),h("")},className:"w-full px-4 py-4 sm:py-3 border-2 border-[#141413] focus:outline-none focus:ring-2 focus:ring-[#141413] text-center text-2xl sm:text-3xl tracking-widest touch-manipulation",placeholder:"",autoFocus:!0})]}),c&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 text-sm",children:c}),f.jsx("button",{type:"submit",disabled:p,className:`w-full py-4 sm:py-3 transition-colors font-bold text-sm uppercase tracking-wider touch-manipulation ${p?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-[#141413] text-white hover:bg-[#2a2a29] active:bg-[#000000]"}`,children:p?`LOCKED (${g}s)`:"UNLOCK"})]}),!p&&c&&f.jsx("div",{className:"mt-4 text-xs text-[#9E9E98] text-center px-2",children:" Tip: After 5 failed attempts, you'll be locked out for 15 minutes"}),f.jsxs("div",{className:"mt-6 sm:mt-8 text-center text-sm text-[#9E9E98]",children:[f.jsx("p",{className:"mb-1",children:"Looking for gift cards?"}),f.jsx("a",{href:"/#/gift-card",className:"text-[#141413] hover:underline font-medium inline-block py-2 touch-manipulation",children:"Purchase a Gift Card "})]})]})})},Lw=({id:i,type:n,message:r,onClose:l})=>{const o={success:"bg-green-600",error:"bg-red-600",warning:"bg-yellow-600",info:"bg-blue-600"},c={success:"",error:"",warning:"!",info:"i"};return f.jsxs("div",{className:`${o[n]} text-white p-4 mb-3 border border-[#141413] shadow-lg animate-slide-in flex items-start justify-between max-w-md`,children:[f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("span",{className:"font-bold text-lg",children:c[n]}),f.jsx("p",{className:"text-sm font-medium leading-relaxed",children:r})]}),f.jsx("button",{onClick:()=>l(i),className:"ml-4 text-white hover:opacity-70 transition-opacity font-bold text-lg leading-none","aria-label":"Close notification",children:""})]})},Bw=()=>{const{notifications:i,removeNotification:n}=Cl();return i.length===0?null:f.jsx("div",{className:"fixed top-6 right-6 z-50",role:"alert","aria-live":"polite",children:i.map(r=>f.jsx(Lw,{...r,onClose:n},r.id))})},Hw=()=>{const{id:i}=ig(),[n,r]=k.useState(null),[l,o]=k.useState(!0),[c,h]=k.useState(null);return k.useEffect(()=>{(async()=>{if(i){o(!0);try{const m=await cv(i);m?r(m):h("Shoot not found")}catch{h("Failed to load shoot details")}finally{o(!1)}}})()},[i]),l?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#D8D9CF]",children:f.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[f.jsx("div",{className:"h-4 w-4 bg-black rounded-full mb-2 animate-bounce"}),f.jsx("span",{className:"text-xs font-medium tracking-widest text-gray-400 uppercase",children:"Loading Clixy"})]})}):c||!n?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#D8D9CF]",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-xl font-light mb-2",children:"Shoot Not Found"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Please check your URL and try again."}),f.jsx("a",{href:"/",className:"mt-8 inline-block text-xs border-b border-black pb-0.5",children:"Return Home"})]})}):f.jsx(D1,{shoot:n})},$w=()=>{const[i,n]=k.useState([]),[r,l]=k.useState(!0);return k.useEffect(()=>{dv().then(n).finally(()=>l(!1))},[]),r?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#D8D9CF]",children:f.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[f.jsx("div",{className:"h-4 w-4 bg-black rounded-full mb-2 animate-bounce"}),f.jsx("span",{className:"text-xs font-medium tracking-widest text-gray-400 uppercase",children:"Loading"})]})}):f.jsx(U1,{shoots:i})},qw=()=>f.jsx(g1,{children:f.jsxs(dw,{children:[f.jsx(Bw,{}),f.jsxs(I0,{children:[f.jsx(nn,{path:"/",element:f.jsx(Rw,{})}),f.jsx(nn,{path:"/gift-card",element:f.jsx(Nw,{})}),f.jsx(nn,{path:"/gift-card/success",element:f.jsx(Cw,{})}),f.jsx(nn,{path:"/shoot/:id",element:f.jsx(Hw,{})}),f.jsx(nn,{path:"/dashboard",element:f.jsx(gl,{children:f.jsx($w,{})})}),f.jsx(nn,{path:"/admin",element:f.jsx(gl,{children:f.jsx(fw,{})})}),f.jsx(nn,{path:"/admin/create",element:f.jsx(gl,{children:f.jsx(Qp,{})})}),f.jsx(nn,{path:"/admin/edit/:id",element:f.jsx(gl,{children:f.jsx(Qp,{})})}),f.jsx(nn,{path:"*",element:f.jsx(P0,{to:"/",replace:!0})})]})]})});class Gw extends k.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n;return this.state.hasError?f.jsx("div",{className:"min-h-screen bg-[#D8D9CF] flex items-center justify-center p-6 text-[#141413]",children:f.jsxs("div",{className:"bg-white p-8 border border-[#141413] max-w-md w-full shadow-[8px_8px_0px_0px_rgba(20,20,19,1)]",children:[f.jsx("h1",{className:"text-xl font-extrabold uppercase tracking-tight mb-4",children:"System Error"}),f.jsx("p",{className:"text-sm mb-6 font-mono text-red-600 bg-red-50 p-4 border border-red-200 break-words",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred."}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("p",{className:"text-xs uppercase tracking-widest text-[#9E9E98]",children:"Studio Olga Prudka"}),f.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#141413] text-white px-6 py-3 text-xs font-bold uppercase tracking-widest hover:bg-[#9E9E98] transition-colors",children:"Reload App"})]})]})}):this.props.children}}const vv=document.getElementById("root");if(!vv)throw new Error("Could not find root element to mount to");const Vw=e0.createRoot(vv);Vw.render(f.jsx(Ib.StrictMode,{children:f.jsx(Gw,{children:f.jsx(qw,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(i=>{console.log("[PWA] Service Worker registered:",i.scope),setInterval(()=>{i.update()},3600*1e3)}).catch(i=>{console.error("[PWA] Service Worker registration failed:",i)})});
